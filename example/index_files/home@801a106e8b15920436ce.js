(function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:false};e[r].call(i.exports,i,i.exports,n);i.loaded=true;return i.exports}var t={};n.m=e;n.c=t;n.p="//q.qunarzz.com/homenode/prd/";return n(0)})([function(e,t,n){e.exports=n(1)},function(e,t,n){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e,t){var n=e.documentElement,r="orientationchange"in window?"orientationchange":"resize",i=function(){var e=n.clientWidth;if(!e||e>480){n.style.fontSize="12px";return}n.style.fontSize=100*(e/375)+"px";n.style.display="block"};if(!e.addEventListener)return;t.addEventListener(r,i,false);e.addEventListener("DOMContentLoaded",i,false)})(document,window);setTimeout(function(){if(document.documentElement.clientWidth<=480){var e=n(2);e.checkAppOpen();gaClk("mobile_visit");window.QReport.ac({acId:"mobile_visit",acType:"click",acData:""})}},1e3);n(4);n(5);n(6);n(7);n(8);n(9);n(10);n(11);n(12);n(16);n(17);n(20);n(22);n(24);n(25);n(26);n(27);n(28);n(29);n(30);n(31);n(32);n(33);n(34);n(35);n(36);n(37);n(82);n(89);n(90);n(91);n(93);n(94);n(95);n(97);n(98);n(99);n(100);n(101);n(102)}).call(window)},function(e,t,n){(function(){function a(){var e=window.navigator.userAgent;return/(UCBrowser|baidubrowser)/i.test(e)}function f(){var e=[];if(!o){return}e=s.map(function(e){return{bd_source:e["bd_source"]||e||"",type:e["type"]||"native",desUrl:e["desUrl"]||u}});e.some(function(e){if(e["bd_source"]===o){l(e);return true}return false})}function l(e){var t=e.type;var n=e.desUrl;setTimeout(function(){var e=location.href;var t=r.getDeviceInfo().isAndroid?"qunaraphone":"qunariphone";var i=r.getDeviceInfo().isQunar;var s="";var o="";o=[t,n,/\?/.test(n)?"&":"?","comefrom=qunar&qn300=",encodeURIComponent(Cookie.values["QN300"])].join("");if(i){return}if(r.getDeviceInfo().isIos){if(r.getUrlParam("calledApp")||a()){return}location.replace(["https://touchapp.qunar.com/touchRedirector.html?","callAppSource=",encodeURIComponent(e),"&comefrom=qunar&qn300=",encodeURIComponent(Cookie.values["QN300"])].join(""));return}if(r.getDeviceInfo().isAndroid){var u=document.createElement("iframe");u.src=o;u.style.display="none";document.body.appendChild(u);setTimeout(function(){document.body.removeChild(u)},1e3)}})}var t=typeof t==="function"&&!t.amd?t:false;var r=n(3);var i=window.__QC_SEARCH_DATA;var s=i.arouseApp||[];var o=r.getUrlParam("bd_source");var u="://home";e.exports={checkAppOpen:f}}).call(window)},function(e,t){(function(){function n(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=/qunar/.test(e),r=e.match(/(iPad).*OS\s([\d_]+)/),i=e.match(/(iPod)(.*OS\s([\d_]+))?/),s=e.match(/(iPhone\sOS)\s([\d_]+)/),o=false,u=false,a=false,f="";if(n){o=true}if(t){u=true;f=t[2]}if(s){a=true;f=s[2].replace(/_/g,".")}if(r){a=true;f=r[2].replace(/_/g,".")}if(i){a=true;f=i[3]?i[3].replace(/_/g,"."):""}return{isQunar:o,isAndroid:u,isIos:a,osVersion:f}}var t=typeof t==="function"&&!t.amd?t:false;e.exports={shortWord:function(e,t){t=t||8;var n="";var r=(t-1)*2;var i="";var s=0,o=0;var u=/^[\u2E80-\u9FFF]+$/;while(s<r){var a=e.substr(o++,1)||"";s+=u.test(a)?2:1;n+=a}var f=e.replace(n,"");if(f.length>2){n+="..."}else if(f.length<=1){n+=f}else{if(u.test(f.charAt(0))||u.test(f.charAt(1)))n+="...";else n+=f}return n},lazyLoad:function(e){var t=$(e);t.find("[lsrc]").each(function(){$(this).attr("src",$(this).attr("[lsrc]"))})},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");var n=window.location.search.substr(1).match(t);if(n!=null){return unescape(n[2])}else{return null}},getDeviceInfo:n,arouseAPP:function(e){e=e?e:{};var t=e.type||"h5";var n=e.desUrl;var r=e.callback||function(){};setTimeout(function(){var e=location.href;var i=navigator.userAgent;var s=/android/i.test(i)?"qunarphone":"qunarphone";var o=/qunar/i.test(i);var u="";var a="";switch(t){case"native":u="://";a=n||e;break;case"h5":u="://hy?isTransferHome=false&type=browser&url=";a=encodeURIComponent(n||e);break}if(o){return}var f=s+u+a;r();var l=document.createElement("iframe");l.src=f;l.style.display="none";document.body.appendChild(l);setTimeout(function(){document.body.removeChild(l)},1e3)})}}}).call(window)},function(module,exports,__webpack_require__){(function(){var define=typeof define==="function"&&!define.amd?define:false;!function(e,t){if(true)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){var n="www"===e?"wwwCalendarHolidayConfig":"touchCalendarHolidayConfig",r=f(n);if(p[e])try{return new Promise(function(e,n){e(p.value),t&&"function"==typeof t&&t(p.value)})}catch(o){return t&&"function"==typeof t&&t(p.value)}if(!r)return s(n,e,t);p[e]=r,i(r.time,e,n,t);try{return new Promise(function(e,n){e(r.value),t&&"function"==typeof t&&t(r.value)})}catch(o){return t&&"function"==typeof t&&t(r.value)}}function i(e,t,n,r){if(e){var i=(new Date).getTime(),o=i-e;o>h&&s(n,t,r)}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"touch",n=arguments[2],r=function(e){var t=u(e);"function"==typeof n&&n(t)};return o({url:c+t,success:n?r:"",method:"get",type:"jsonp",jsonpCallbackName:"getHoliday"}).then(function(t){return l(e,t),u(t)})["catch"](function(e){return{err:e}})}var o=n(1),u=n(3).parseJsonString,a=n(4),f=a.getStorageByKey,l=a.setStorageByKey,c="https://m.flight.qunar.com/flightConfig/calendar/",h=864e5,p={};window.getConfigFuns?window.getConfigFuns.getCalendarHoliday=r:window.getConfigFuns={getCalendarHoliday:r},e.exports={getCalendarHoliday:r}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():(__WEBPACK_AMD_DEFINE_FACTORY__=n,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void (e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t["headers"]||{};r["Accept"]=r["Accept"]||defaultHeaders["accept"][t["type"]]||defaultHeaders["accept"]["*"];var i="undefined"!=typeof FormData&&t["data"]instanceof FormData;t["crossOrigin"]||r[requestedWith]||(r[requestedWith]=defaultHeaders["requestedWith"]),r[contentType]||i||(r[contentType]=t["contentType"]||defaultHeaders["contentType"]);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t["withCredentials"]&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t["withCredentials"])}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var i=uniqid++,s=e["jsonpCallback"]||"callback",o=e["jsonpCallbackName"]||reqwest.getcallbackPrefix(i),u=new RegExp("((^|\\?|&)"+s+")=([^&]+)"),a=r.match(u),f=doc.createElement("script"),l=0,c=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return a?"?"===a[3]?r=r.replace(u,"$1="+o):o=a[3]:r=urlappend(r,s+"="+o),context[o]=generalCallback,f.type="text/javascript",f.src=r,f.async=!0,"undefined"==typeof f.onreadystatechange||c||(f.htmlFor=f.id="_reqwest_"+i),f.onload=f.onreadystatechange=function(){return!(f[readyState]&&"complete"!==f[readyState]&&"loaded"!==f[readyState]||l)&&(f.onload=f.onreadystatechange=null,f.onclick&&f.onclick(),t(lastValue),lastValue=void 0,head.removeChild(f),void (l=1))},head.appendChild(f),{abort:function(){f.onload=f.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(f),l=1}}}function getRequest(e,t){var n,r=this.o,i=(r["method"]||"GET").toUpperCase(),s="string"==typeof r?r:r["url"],o=r["processData"]!==!1&&r["data"]&&"string"!=typeof r["data"]?reqwest.toQueryString(r["data"]):r["data"]||null,u=!1;return"jsonp"!=r["type"]&&"GET"!=i||!o||(s=urlappend(s,o),o=null),"jsonp"==r["type"]?handleJsonp(r,e,t,s):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(i,s,r["async"]!==!1),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},u=!0):n.onreadystatechange=handleReadyState(this,e,t),r["before"]&&r["before"](n),u?setTimeout(function(){n.send(o)},200):n.send(o),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o["timeout"]&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o["type"]||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o["url"],this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o["timeout"]&&(this.timeout=setTimeout(function(){timedOut()},o["timeout"])),o["success"]&&(this._successHandler=function(){o["success"].apply(o,arguments)}),o["error"]&&this._errorHandlers.push(function(){o["error"].apply(o,arguments)}),o["complete"]&&this._completeHandlers.push(function(){o["complete"].apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,i,s,o=e.name,u=e.tagName.toLowerCase(),a=function(e){e&&!e["disabled"]&&t(o,normalize(e["attributes"]["value"]&&e["attributes"]["value"]["specified"]?e["value"]:e["text"]))};if(!e.disabled&&o)switch(u){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),i=e.value,(!(n||r)||e.checked)&&t(o,normalize(n&&""===i?"on":i)));break;case"textarea":t(o,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())a(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(s=0;e.length&&s<e.length;s++)e.options[s].selected&&a(e.options[s])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,i,s;for(r=0;r<t.length;r++)for(s=e[byTag](t[r]),i=0;i<s.length;i++)serial(s[i],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var i,s,o,u=/\[\]$/;if(isArray(t))for(s=0;t&&s<t.length;s++)o=t[s],n||u.test(e)?r(e,o):buildParams(e+"["+("object"==typeof o?s:"")+"]",o,n,r);else if(t&&"[object Object]"===t.toString())for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=__webpack_require__(2)}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +(new Date),lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e["crossOrigin"]===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,i=t||!1,s=[],o=encodeURIComponent,u=function(e,t){t="function"==typeof t?t():null==t?"":t,s[s.length]=o(e)+"="+o(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)u(e[r]["name"],e[r]["value"]);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],i,u);return s.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e["type"]&&(e["method"]=e["type"])&&delete e["type"],e["dataType"]&&(e["type"]=e["dataType"]),e["jsonpCallback"]&&(e["jsonpCallbackName"]=e["jsonpCallback"])&&delete e["jsonpCallback"],e["jsonp"]&&(e["jsonpCallback"]=e["jsonp"])),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},function(e,t){},function(module,exports){"use strict";function parseJsonString(string){return _isSupportJson()?JSON.parse(string):eval("("+string+")")}function _isSupportJson(){return!!JSON&&!!JSON.parse}module.exports={parseJsonString:parseJsonString}},function(e,t,n){"use strict";function r(e){if(!s())return null;var t=window.localStorage[e];return t?{value:o(t),time:window.localStorage[e+"UpdateTime"]}:null}function i(e,t){if(s()){t&&window.localStorage.setItem(e+"",t);var n=(new Date).getTime();window.localStorage.setItem(e+"UpdateTime",n)}}function s(){var e=window,t=e.Storage,n=e.localStorage;return!!t&&!!n&&n instanceof t}var o=n(3).parseJsonString;e.exports={getStorageByKey:r,setStorageByKey:i}}])})}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){function n(e,t){this._cache=[];this._cFn=e}if(!e.kit)e.kit={};if(!e.module)e.module={};if(!e.ui)e.ui={};var t=function(){var t={},n;var r=function(){if(!n){n=e('<div style="width: 950px;margin: 0 auto;height:0;position: relative;z-index: 999999;"></div>');n.insertBefore(e(":first",document.body))}};t.offset=function(){r();return n.offset()};t.size=function(){r();return[n.width(),e(window).height()]};t.getNode=function(){r();return n};t.getNodeOffset=function(e){var n=t.offset(),r=e.offset();return{left:r.left-n.left,top:r.top-n.top}};return function(){return t}}();e.module.layer=function(n){var r=t();var i=e(n).appendTo(r.getNode()).hide(),s=e("[node-type=inner]",i);var o={},u=e(o),a;o.show=function(){i.show();u.trigger("lay_show");return o};o.hide=function(){i.hide();u.trigger("lay_hide");return o};o.getOuter=function(){return i};o.getInner=function(){return s};o.getWrapSize=function(){return r.size()};o.getWrapOffset=function(e){return r.getNodeOffset(e)};o.getSize=function(e){if(e||!a){a=[i.width(),i.height()]}return a};o.getDom=function(t){return e("[node-type="+t+"]",i)};o.setPosition=function(e){i.css(e);return o};return o};n.prototype={constructor:n,_create:function(){var e=this._cFn();this._cache.push({store:e,used:true});return e},getOne:function(){var e=this._cache;for(var t=0,n=e.length;t<n;t+=1){if(e[t].used===false){e[t].used=true;return e[t].store}}return this._create()},_setStat:function(t,n){e.each(this._cache,function(e,r){if(t===r.store){r.used=n;return false}})},setUsed:function(e){this._setStat(e,true)},setUnused:function(e){this._setStat(e,false)},getLength:function(){return this._cache.length}};e.kit.Reuse=n;e.module.dialog=function(){return function(t,n){if(!t)throw"dialog no template";var r,i,s,o,u,a,f,l,c,h;var p=function(){s=e.extend({},n);r=e.module.layer(t);o=r.getOuter();u=r.getInner();a=r.getDom("close").click(function(){f()})};p();c=r.show;h=r.hide;f=function(e){if(typeof l==="function"&&!e){if(l()===false){return false}}h();return i};i=r;i.show=function(){c();return i};i.hide=f;i.setMiddle=function(){var t=i.getWrapSize(),n=r.getSize(true),s=e(window).scrollTop();var o={top:s+(t[1]-n[1])/2,left:(t[0]-n[0])/2};if(o.top<s)o.top=s;if(o.left<0)o.left=0;return i.setPosition(o)};i.setClose=function(e){a[e?"show":"hide"]()};i.setContent=function(e){if(typeof e==="string"){u.html(e)}else{u.append(e)}return i};i.clearContent=function(){u.empty();return i};i.setBeforeHideFn=function(e){l=e};i.clearBeforeHideFn=function(){l=null};return i}}();e.ui.dialog=function(){var t='<div class="poplayer_box" node-type="outer" style="display:block;left:420px;top:10px;">'+'     <span class="close" node-type="close"></span>'+'     <div class="poplayer_inner" node-type="inner"></div>'+"</div>";var n=null;var r=function(e){e.clearContent();if(n)n.setUnused(e)};var i=function(){var n=e.module.dialog(t);e(n).bind("lay_show",function(){e.ui.mask.show()}).bind("lay_hide",function(){e.ui.mask.hide()});return n};var s=[];var o=function(t){var n=[];e.each(s,function(e,r){if(r!==t)n.push(r)});s=n};var u=function(t,n){var r=function(){o(t);if(!n.isHold){e(t).unbind("lay_hide",r);e(t).unbind("lay_show",i)}};var i=function(){s.push(t)};e(t).bind("lay_hide",r).bind("lay_show",i)};var a=function(){e(document).keydown(function(t){if(s.length===0)return;var n=s[s.length-1];var r=t.keyCode,i=t.target,o=i.nodeName,u=/^input|textarea$/i;var a=e.contains(n.getOuter()[0],i);if(r===27){if(!n.isEsc)return;if(u.test(o)&&a&&i.type!=="button")return;n.hide()}else if(r===13||r===9){if(!a){t.preventDefault()}}})};return function(t){t=e.extend({isEsc:true,isHold:false,closeBtn:true,width:500},t||{});var s=t.isHold;if(!n){a();n=new e.kit.Reuse(i)}var o=n.getOne();o.getInner().css("width",t.width);o.setClose(t.closeBtn);if(!s){var f=function(){e(o).unbind("lay_hide",f);r(o)};e(o).bind("lay_hide",f)}o.isEsc=t.isEsc;u(o,t);return o}}();e.ui.mask=function(){function s(){if(i){t.css({width:e(document).width(),height:Math.max(e(document).height(),e(window).height()),zIndex:800})}else{t.css({position:"fixed",zIndex:800})}}function o(){clearTimeout(r);r=setTimeout(s,500)}function u(){if(i){e(window).bind("resize",o)}}function a(){e(window).unbind("resize",o)}function f(){t=e('<div class="poplayer_bg"></div>').appendTo(document.body);s();return t}var t,n=0,r,i=e.browser.msie&&e.browser.version==="6.0";var l={show:function(){n++;if(n>1)return;if(!t)f();u();t.show()},hide:function(){if(!t||n<=0)return;n--;if(n===0){a();t.hide()}}};return l}()})(jQuery)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){e.qkit={};e.extend(e.qClass={},{inherits:function(e,t){function n(){}n.prototype=t.prototype;e.superClass_=t.prototype;e.prototype=new n;e.prototype.constructor=e},base:function(e,t,n){var r=arguments.callee.caller;if(r.superClass_){return r.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1))}var i=Array.prototype.slice.call(arguments,2);var s=false;for(var o=e.constructor;o;o=o.superClass_&&o.superClass_.constructor){if(o.prototype[t]===r){s=true}else if(s){return o.prototype[t].apply(e,i)}}if(e[t]===r){return e.constructor.prototype[t].apply(e,i)}else{throw Error("lib.base called from a method of one name "+"to a method of a different name")}}})})(jQuery)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){var t=function(){throw new Error("qWidget is only a abstract class!"+this.moduleName||"")};e.qWidget=t;e.extend(e.qWidget.prototype,{init:function(){this.initData()},initData:function(){var t=this;e.getJSON(this.getUrl(),function(e){t.rawModelData=e;if(t.isSuccessStatus(e)){t.success(e.data)}})},getUrl:function(){return this.url.indexOf("?")>-1?this.url+"&callback=?":this.url+"callback=?"},isSuccessStatus:function(e){return e.ret==1},success:function(e,t,n){try{var r=this.format(e);var i=QTMPL[this.moduleName].render(r);this.render(i);this.setupBoxView();this.bindEvent()}catch(s){console.log(s)}},render:function(e){this.$container.html(e);this.$container.show()},setupBoxView:t,bindEvent:t,formate:t})})(jQuery)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){function n(t){var n={};e("[data-tab]",t).each(function(){var i=e(this);var s=i.data("tab");if(!n[s]){r(t,s,i.data("tab-id"),i.data("tab-active"));n[s]=true}})}function r(t,n,r,i){if(!n||!r)return;var s=i||"active";var o=t.find("[data-tab='"+n+"'][data-tab-id='"+r+"']");var u=t.find("[data-panel='"+n+"'][data-panel-id='"+r+"']");if(o.hasClass(s)&&u.is(":visible"))return;var a;(a=t.find("[data-tab='"+n+"']")).removeClass(s);o.addClass(s);t.find("[data-panel='"+n+"']").hide().removeClass("js-transition-after js-transition-before");u.addClass("js-transition-before");u.show();setTimeout(function(){u.addClass("js-transition-after")},20);var f=t.find("[data-tab='"+n+"'][data-tab-id='"+r+"']:radio");if(f.length){f.attr("checked","checked")}e.tabs[n]=r;e(e.tabs).trigger(n+"-change",[r,o,u,a])}e.tabs={};var t=e(document.body);e.tabs.changeTab=r;e.tabs.init=function(i,s){var o=i||t;var s=s||"click";n(o);o.delegate("[data-tab]",s,function(t){var n=e(this).data("tab");var i=e(this).data("tab-id");var s=e(this).data("tab-active");r(o,n,i,s);t.stopPropagation()})}})(jQuery)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){function u(t,n){var r=this;r.config=e.extend({},e.fn.switchable.defaults,n||{});r.$container=t;r._init()}var t=document;var n=".";var r="beforeSwitch";var i="switch";var s="afterSwitch";var o="able-switchable-";e.extend({able:{Switchable:u}});SP=u.prototype;u.Plugins=[];e.extend(SP,{_init:function(){var t=this,n=t.config;t.activeIndex=n.activeIndex;t.$evtBDObject=e("<div />");t._parseStructure();if(n.hasTriggers)t._bindTriggers();e.each(u.Plugins,function(){this._init(t)})},_parseStructure:function(){var e=this,t=e.$container,r=e.config;switch(r.type){case 0:e.$triggers=t.find(n+r.navCls).children();e.$panels=t.find(n+r.contentCls).children();break;case 1:e.$triggers=t.find(n+r.triggerCls);e.$panels=t.find(n+r.panelCls);break}e.viewLength=e.$panels.length/r.step},_bindTriggers:function(){var t=this,n=t.config,r=t.$triggers,i=n.events;r.each(function(r,s){if(e.inArray("click",i)!==-1){e(s).click(function(e){if(t.activeIndex===r)return t;if(t.switchTimer)clearTimeout(t.switchTimer);t.switchTimer=setTimeout(function(){t.switchTo(r)},n.delay*1e3);e.stopPropagation()})}if(e.inArray("hover",i)!==-1){e(s).hover(function(e){if(t.activeIndex===r)return t;if(t.switchTimer)clearTimeout(t.switchTimer);t.switchTimer=setTimeout(function(){t.switchTo(r)},n.delay*1e3)},function(e){if(t.switchTimer)clearTimeout(t.switchTimer);e.stopPropagation()})}})},beforeSwitch:function(t){if(e.isFunction(t))this.$evtBDObject.bind(r,t)},afterSwitch:function(t){if(e.isFunction(t))this.$evtBDObject.bind(s,t)},switchTo:function(t){var n=this,i=n.config,o=e.makeArray(n.$triggers),u=e.makeArray(n.$panels),a=n.activeIndex,f=i.step,l=a*f,c=t*f;n.$evtBDObject.trigger(r,[t]);if(i.hasTriggers){n._switchTrigger(a>-1?o[a]:null,o[t])}n._switchView(u.slice(l,l+f),u.slice(c,c+f),t);n.activeIndex=t;n.$evtBDObject.trigger(s,[t])},prev:function(){var e=this,t=e.activeIndex;e.switchTo(t>0?t-1:e.viewLength-1)},next:function(){var e=this,t=e.activeIndex;e.switchTo(t<e.viewLength-1?t+1:0)},_switchTrigger:function(t,n){var r=this.config.activeTriggerCls;if(t)e(t).removeClass(r);e(n).addClass(r)},_switchView:function(t,n,r){e.each(t,function(){e(this).hide()});e.each(n,function(){e(this).show()})}});e.fn.switchable=function(t){var n=this;var r=n.data("switchables");n.data("switchables",r?r:[]);return n.each(function(){n.data("switchables").push(new u(e(this),t))})};e.fn.switchable.defaults={type:0,navCls:o+"nav",contentCls:o+"content",triggerCls:o+"trigger",panelCls:o+"panel",hasTriggers:true,activeIndex:0,activeTriggerCls:"active",events:["click","hover"],step:1,delay:.1,viewSize:[]}})(jQuery)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){var t;var n="display";var r="block";var i="opacity";var s="z-index";var o="position";var u="relative";var a="absolute";var f="scrollx";var l="scrolly";var c="none";var h="fade";var p="liner";var d="swing";var v=e.able.Switchable;e.extend(e.fn.switchable.defaults,{effect:"none",duration:.5,easing:p,circle:false,viewportLen:null});v.Effects={none:function(t,n,r){e.each(t,function(){e(this).hide()});e.each(n,function(){e(this).show()});r()},fade:function(t,n,r){if(t.length!==1){return}var o=this,u=o.config,a=t[0],f=n[0];if(o.$anim)o.$anim.clearQueue();e(f).css(i,1);if(a===f)return;o.$anim=e(a).animate({opacity:0,duration:u.duration,easing:u.easing},function(){o.$anim=null;e(f).css(s,9);e(a).css(s,1);r()})},scroll:function(t,n,r,i){var s=this,o=s.config,u=o.effect===f,a=s.viewSize[u?0:1]*i,l={};var c=i==0&&s.activeIndex==s.viewLength-1,h=i==s.viewLength-1&&s.activeIndex==0,p,d=s.viewSize[u?0:1]*s.viewLength;if(c){p=a;a=d}else if(h){s.$panels.parent().css(u?"left":"top",-d)}l[u?"left":"top"]=-a;e.extend(l,{duration:o.duration,easing:o.easing});if(s.$anim)s.$anim.clearQueue();s.$anim=s.$panels.parent().animate(l,o.duration*1e3,function(){if(c){s.$panels.parent().css(u?"left":"top",p)}s.$anim=null;r()})}};t=v.Effects;t[f]=t[l]=t.scroll;v.Plugins.push({name:"effect",_init:function(t){var i=t.config,s=i.effect,o=t.$panels,p=i.step,d=t.activeIndex,v=d*p,m=v+p-1,g=o.length;i.viewportLen=i.viewportLen||i.step;t.viewSize=[i.viewSize[0]||o.outerWidth(true)*p,i.viewSize[1]||o.outerHeight(true)*p];if(s!==c){o.css(n,r);switch(s){case f:case l:o.parent().css("position",a);o.parent().parent().css("position",u);if(s===f){o.css("float","left");o.parent().css("width",t.viewSize[0]*t.viewLength+"px");o.parent().css("width",t.viewSize[0]*(t.viewLength+(i.viewportLen||1))+"px")}var y;if(i.circle){y=o.slice(0,i.viewportLen);y.parent().append(y.clone())}y=null;break;case h:o.each(function(t){e(this).css({opacity:t>=v&&t<=m?1:0,position:a,zIndex:t>=v&&t<=m?9:1})});break}}}});e.extend(v.prototype,{_switchView:function(n,r,i){var s=this,o=s.config,u=o.effect,a=e.isFunction(u)?u:t[u];a.call(s,n,r,function(){},i)}})})(jQuery)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){function a(e,t){e=e==null?"":e+"";for(var n=0,r=t-e.length;n<r;n++)e="0"+e;return e}function l(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}function c(e){var t={};for(var n in e){var r=n;var i=e[n];t[n]=i;var o="";var u="";if(i.beforeTime>0){for(var a=1;a<=i.beforeTime;a++){var f={};var c=new Date(l(r).getTime()-a*24*3600*1e3);var p=h(c);f.holidayName=i.holidayName+s.before+a+s.day;f.dayindex=i.dayindex;if(!t[p]){t[p]=f}else{if(i.dayindex>t[p].dayindex&&t[p].beforeTime==null){t[p]=f}}}}if(i.afterTime>0){for(var a=1;a<=i.afterTime;a++){var f={};var d=new Date(l(r).getTime()+a*24*3600*1e3);var v=h(d);f.holidayName=i.holidayName+s.after+a+s.day;f.dayindex=i.dayindex;if(!t[v]){t[v]=f}else{if(i.dayindex>t[v].dayindex&&t[h(new Date(c))].afterTime==null){t[v]=f}}}}}return t}function h(e){if(typeof e=="number"){e=new Date(e)}return e.getFullYear()+"-"+p(e.getMonth()+1)+"-"+p(e.getDate())}function p(e){return e<10?"0"+e:e}function d(e){e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e}function v(e){var t=e.offset();t["top"]+=e.outerHeight();return t}function m(n){var r;if(n&&!n.nodeType)r=jQuery.event.fix(n||window.event).target;else r=n;if(!r)return null;var i=e(r).parents("."+t);return i.size()>0?i.eq(0).data(t):null}function g(){}function y(e,t){if(!this.init)return new y(e,t);else return this.init(e,t)}e.qdatepicker={};var t=e.qdatepicker.ROOT_KEY="q-datepicker";var n;var r=0;var i={"2018-01-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"元旦",holidayClass:"yuandan"},"2018-01-24":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"腊八",holidayClass:"laba"},"2018-02-15":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"除夕",holidayClass:"chuxi"},"2018-02-16":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"春节",holidayClass:"chunjie"},"2018-04-05":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"清明",holidayClass:"qingming"},"2018-05-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"劳动",holidayClass:"laodong"},"2018-06-18":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"端午",holidayClass:"duanwu"},"2018-08-17":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"七夕",holidayClass:"qixi"},"2018-09-24":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"中秋",holidayClass:"zhongqiu"},"2018-10-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"国庆",holidayClass:"guoqing"},"2018-12-25":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"圣诞",holidayClass:"shengdan"},"2019-01-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"元旦",holidayClass:"yuandan"},"2019-01-13":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"腊八",holidayClass:"laba"},"2019-02-04":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"除夕",holidayClass:"chuxi"},"2019-02-05":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"春节",holidayClass:"chunjie"},"2019-02-19":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"元宵",holidayClass:"yuanxiao"},"2019-04-05":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"清明",holidayClass:"qingming"},"2019-05-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"劳动",holidayClass:"laodong"},"2019-06-07":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"端午",holidayClass:"duanwu"},"2019-08-07":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"七夕",holidayClass:"qixi"},"2019-09-13":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"中秋",holidayClass:"zhongqiu"},"2019-10-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"国庆",holidayClass:"guoqing"},"2019-12-25":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"圣诞",holidayClass:"shengdan"}};var s={week:"周",day:"天",before:"前",after:"后"};var o={LANG:{prev:"",next:"",day_names:["日","一","二","三","四","五","六"],OUT_OF_RANGE:"超出范围",ERR_FORMAT:"格式错误"},CLASS:{group:"g",header:"h",calendar:"c",next:"n",prev:"p",title:"t",week:"w",month:"cm_",day_default:"st",day_selected:"st-a",day_othermonth:"st-s",day_today:"st-t",day_hover:"st-h",day_disabled:"st-d",day_round:"st-a-r",day_holiday:"st-holi-",day_area_bg:"st-area"},WEEKDAYS:7,STARTDAY:1,showOtherMonths:false,defaultDay:"",disabledDays:"",customClass:"",customActiveClass:"",multi:2,showTip:true,linkTo:null,linkRules:"",refObj:null,forceCorrect:true,formatTitle:function(e){return e.getFullYear()+"年"+(e.getMonth()+1)+"月"},showOnInit:false,showOnFocus:false,container:null,minDate:null,maxDate:null,ui:null,sDay:null,endDay:null,pos:"",parseDate:function(e){var t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);return t?new Date(t[1],t[2]*1-1,t[3]):null},formatDate:function(e){return e.getFullYear()+"-"+a(e.getMonth()+1,2)+"-"+a(e.getDate(),2)},minuteDate:function(e){var t=window.SERVER_TIME||new Date;t=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate());return(e-t)/(24*60*60*1e3)}};var u=function(){var t=this;for(var n=0,r=arguments.length;n<r;n++)e.each(arguments[n],function(e,n){var r;if(t.prototype[e]&&jQuery.isFunction(t.prototype[e]))r=t.prototype[e];t.prototype[e]=n;if(r)t.prototype[e]["_PARENT_"]=r});if(!t.prototype["parent"])t.prototype["parent"]=function(){return arguments.callee.caller["_PARENT_"].apply(this,arguments)}};var f=c(i);g.implement=u;e.extend(g.prototype,{isUI:1,init:function(){var t=this,n=this.picker,r=n.ns;t.attachedEl=t.attachedEl||new e;e(document).bind("mousedown."+r,function(e){var r;if(n.activeEl[0]===e.target&&(r=1)||t.attachedEl.index(e.target)!=-1&&(r=2)){if(!n.visible()){n.show(t.getDate())}else{n.hide()}if(r==2)n.activeEl.focus();return}var i;if((i=m(e))&&i.key===n.key)return;else n.hide()});var i=function(){if(!n.get("container"))n.getContainer().css(v(n.activeEl))};i();e(window).bind("load."+r+" resize."+r,i);n.activeEl.bind("focus."+r,function(e){if(n.get("showOnFocus"))n.show(t.getDate())});n.activeEl.bind("keydown."+r,function(e){switch(e.keyCode){case 40:t.setDate(new Date(t.getDate().getTime()+24*60*60*1e3));var r=t.validate();if(!r.success){return}n.show(t.getDate());break;case 38:t.setDate(new Date(t.getDate().getTime()-24*60*60*1e3));var r=t.validate();if(!r.success){return}n.show(t.getDate());break;case 9:case 27:n.hide();break;default:t.onKeyDown(e)}})},_init:function(e){this.picker=e},select:function(e){this.picker.activeEl.val(this.picker.args.formatDate(e))},change:function(e,t,n){this.draw(t)},posHandler:function(e,t){var n=this.picker.activeEl.attr("data-pos"),r=e,i,s=t.parseDate(this.picker.activeEl.val()).getMonth();if(n==="right"){if((this.picker.activeEl.attr("data-prefix")==="返"||this.picker.activeEl.attr("data-prefix")==="离店")&&e.getMonth()==s){r=r.getTime()-r.getDate()*24*3600*1e3}}if(n==="left"&&(this.picker.activeEl.attr("data-prefix")==="返"||this.picker.activeEl.attr("data-prefix")==="离店")&&e.getMonth()!=t.minDate.getMonth()){r=r.getTime()-r.getDate()*24*3600*1e3}i=new Date(r);i.setDate(1);return i},draw:function(t,n){this.drawDate=t;d(t);var r=this.picker,n=e.extend({},r.args,n||{}),i=n.multi,s=n["CLASS"];n.activeDate=n.activeDate||n.parseDate(r.activeEl.val());var o=[],u;n["count"]=i;u=this.posHandler(t,n);o.push('<div class="'+s["group"]+" "+s["group"]+i+'">');for(var a=0;a<i;a++){o.push('<div class="'+s["calendar"]+'" data-index="'+a+'">');n["index"]=a;o.push(this._drawTitle(u,n));o.push(this._drawBody(u,n));o.push('<div class="'+s["month"],u.getMonth()+1,'">'+(u.getMonth()+1)+"</div>");o.push("</div>");u.setMonth(u.getMonth()+1)}o.push("</div>");e(o.join("")).appendTo(r.getContainer().empty());this.picker.selectUi()},dispose:function(){var t="."+this.picker.ns;e(document).unbind(t);e(window).unbind(t)},getDate:function(){var e=this.picker.get("parseDate")(this.picker.activeEl.val());return e!=e?null:e},setDate:function(e){this.picker.activeEl.val(this.picker.get("formatDate")(e))},onBeforeDraw:function(e){var t=function(e,t){if(e.getFullYear()>t.getFullYear())return 1;else if(e.getFullYear()===t.getFullYear())return(e.getMonth()-t.getMonth())/(Math.abs(e.getMonth()-t.getMonth())||1);else return-1};if(this.selectedDate&&this.drawDate)e.setTime(this.drawDate.getTime());else{var n=this.picker,r=n.get("minDate"),i=n.get("maxDate"),s=n.get("multi");var o=new Date(e.getFullYear(),e.getMonth()+s-1,1);if(i&&t(o,i)>0)for(var u=1;i&&s&&s>1&&s-u>0;u++){o=new Date(e.getFullYear(),e.getMonth()+s-u-1,1);if(t(o,i)<=0){o.setMonth(o.getMonth()-s+1);break}}else o=null;if(o&&(!r||o.getTime()>=r.getTime()))e.setTime(o.getTime())}},onKeyDown:function(e){},onSet:function(){this.selectedDate=null},_drawTitle:function(e,t){var n=t["LANG"],r=t["CLASS"];var i=[];var s=t.minDate,o=t.maxDate;var u=t["index"]===0;var a=t["count"]===t["index"]+1;i.push('<div class="'+r["header"]+'">');i.push('<span href="#" rel="nofollow" class="'+r["next"]+'"',(!o||o.getFullYear()>e.getFullYear()||o.getFullYear()===e.getFullYear()&&o.getMonth()>e.getMonth())&&a?"":' style="display:none;"'," onclick=\"QDP.change( event , '+1M' );return false;\">",n["next"],"</span>");i.push('<span href="#" rel="nofollow" class="'+r["prev"]+'"',(!s||s.getFullYear()<e.getFullYear()||s.getFullYear()===e.getFullYear()&&s.getMonth()<e.getMonth())&&u?"":' style="display:none;"'," onclick=\"QDP.change( event , '-1M' );return false;\">",n["prev"],"</span>");i.push('<div class="'+r["title"]+'">',t.formatTitle(e),"</div>");i.push("</div>");return i.join("")},_drawBody:function(t,n){var r=n["STARTDAY"],s=n["WEEKDAYS"];var o=n["LANG"],u=n["CLASS"];var a=n.activeDate;var f=n.minDate,l=n.maxDate;if(a&&a!=a)a=null;var c=window.SERVER_TIME||new Date;var h=["<table>","<thead>","<tr>"];for(var p=0;p<s;p++){var d=(r+p)%s;h.push('<th class="'+u["week"]+d+'">',o["day_names"][d]||"","</th>")}h.push("</tr>","</thead>");h.push("<tbody>");var v=[];var m=t.getFullYear(),g=t.getMonth()+1;var y=new Date(m,g-1,1);var b=1,w=(new Date(m,g,0)).getDate();var E=y.getDay()-r;while(E<0)E+=s;var S=b-E;var x=s-((1-S+w)%s||s)+w;for(var p=S,T=0;p<=x;p++,T++){var N=new Date(m,g-1,p);if(T%s==0)v.push("</tr>","<tr>");var d=(r+T)%s;v.push('<td class="'+u["week"]+d+" "+u["day_default"]);var C=false;if(e.grep(["getFullYear","getMonth","getDate"],function(e){return N[e]()==c[e]()}).length==3)v.push(" "+u["day_today"]);if(a!=null&&a.getTime()==N.getTime())v.push(" "+u["day_selected"]);var k=false;if(p<1||p>w){v.push(" "+u["day_othermonth"]);k=true}if(f&&N.getTime()<f.getTime()||l&&N.getTime()>l.getTime()||~n.disabledDays.toString().indexOf(n.formatDate(N))){if(!k){v.push(" "+u["day_disabled"])}C=true}var L=this._getDateClass(N);if(L&&!k)v.push(" "+L);v.push('"');if(!C){var A=e("#js_searchbox_car");if(A.is(":hidden")){var O=e("#hotelluxury_panel").attr("style");var M=e("#hotelsearch_panel").attr("style")===undefined?"":e("#hotelsearch_panel").attr("style");if(O.indexOf("display:none")===-1&&O.indexOf("display: none")===-1){v.push(' onclick="QDP.select(event,new Date('+N.getFullYear()+","+N.getMonth()+","+N.getDate()+"));",'return false;"')}else if(M.indexOf("display:none")===-1&&M.indexOf("display: none")===-1){v.push(' onclick="QDP.select(event,new Date('+N.getFullYear()+","+N.getMonth()+","+N.getDate()+"));","newClkObj.nanachiClk({button_id: '4-2-1-1',button_name: '搜索-酒店搜索境内酒店',action_type: 'buttonclick',page_depth: '4-搜索框',to_url: '',logdata: ''});",'return false;"')}}else{v.push(' onclick="QDP.select(event,new Date('+N.getFullYear()+","+N.getMonth()+","+N.getDate()+"));",'return false;"')}}if(!C&&!k){v.push(" data-sort="+n.minuteDate(N)+">")}else{v.push('data-info = "disable">')}if(!k||n.showOtherMonths){v.push('<span class="');var _=i[n.formatDate(N)];dateText=N.getDate();if(!C&&_&&_.holidayClass){v.push(" "+u["day_holiday"]+"default");v.push(" "+u["day_holiday"]+_.holidayClass);dateText=_.holidayName}v.push('">');var D=window.SERVER_TIME||new Date;if(dateText===D.getDate()&&n.minuteDate(N)===0){dateText="今天"}v.push(dateText);v.push("</span>")}else{v.push("&nbsp;")}v.push("</td>")}h.push(v.length>0?v.slice(1,-1).join(""):"");h.push("</tbody>","</table>");return h.join("")},_getDateClass:function(t){var n=this.picker.args.formatDate(t);var r="";var s=parseInt(this.picker.activeEl.val().replace(/-/g,""));var o=parseInt(n.replace(/-/g,""));if(this.picker.get("linkTo")&&!this.picker.get("single")){this.picker.args.sDay=this.picker.activeEl.val();if(linkedQDP=this.picker.get("linkTo").data(e.qdatepicker.ROOT_KEY)){if(typeof linkedQDP.activeEl.val()!="undefined"&&n==linkedQDP.activeEl.val()){r=this.addRoundClass("BACK");this.picker.args.endDay=linkedQDP.activeEl.val()}}if(o<parseInt(linkedQDP.activeEl.val().replace(/-/g,""))&&o>s){r=this.addRoundClass("AREAR")}}else if(this.picker.get("refObj")){if(typeof this.picker.activeEl.val()!="undefined"&&n==this.picker.activeEl.val()){r=this.addRoundClass("BACK");this.picker.args.endDay=this.picker.activeEl.val()}if(refQDP=this.picker.get("refObj").data(e.qdatepicker.ROOT_KEY)){if(typeof refQDP.activeEl.val()!="undefined"&&n==refQDP.activeEl.val()){r=this.addRoundClass("FROM");this.picker.args.sDay=refQDP.activeEl.val()}}if(o>parseInt(refQDP.activeEl.val().replace(/-/g,""))&&o<s){r=this.addRoundClass("AREAR")}}if(i[n])r+=" "+"holi";return e.trim(r)}});window.QDP={};e.each(["select","change","_trigger"],function(e,t){window.QDP[t]=function(){if(!arguments[0])return;var e=m(arguments[0]);if(e&&e[t]){if(t==="select"){return e[t].apply(e,Array.prototype.slice.call(arguments))}else{return e[t].apply(e,Array.prototype.slice.call(arguments,1))}}}});e.extend(y.prototype,{init:function(n,i){i=i||{};if(i["ui"]){if(i["ui"]["isUI"])this.ui=i["ui"];else if(typeof i["ui"]=="string"&&e.qdatepicker.uis[i["ui"]])this.ui=new e.qdatepicker.uis[i["ui"]]}if(!this.ui)this.ui=new g;this.ui._init(this);i=this.args=e.extend(true,{},o,i||{});this.key=++r;var s=this.ns=t+this.key;var u=this.activeEl=e(n);this.el=e('<div class="'+t+(i.customClass?" "+i.customClass:"")+'"></div>').appendTo(this.args["container"]||document.body).hide();e(this.el).data(t,this);this.ui.init();this.lastShowedDate=null;this.showedDate=null;if(i["showOnInit"])this.show();e.each(i["on"]||{},function(e,t){u.bind(e+"."+s,t)});return this},_trigger:function(){this.activeEl.triggerHandler.apply(this.activeEl,arguments)},select:function(){if(arguments.length>1){var t=arguments[0]||window.event;date=arguments[1]}else{var t=t||window.event;date=arguments[0]}if(t){var n=t.srcElement?t.srcElement:t.target;if(e(n).parents("."+this.args.CLASS["calendar"]).data("index")===1){this.activeEl.attr("data-pos","right")}if(e(n).parents("."+this.args.CLASS["calendar"]).data("index")===0){this.activeEl.attr("data-pos","left")}}this.ui.select(date);this.hide();this._trigger("q-datepicker-select",[date])},_selectTd:function(t,n,r){for(var i=parseInt(t);i<parseInt(n);i++){e("td[data-sort='"+i+"']:not('.st-d')").addClass(o.CLASS["day_area_bg"])}},selectUi:function(){var t=this,n,r,i,s,u,a;var f=t.args.minuteDate(new Date(t.activeEl.val().replace(/-/g,"/")));var l=t.activeEl[0]["id"];u=this.args;if(u.sDay)r=u.minuteDate(new Date(u.sDay.replace(/-/g,"/")));if(u.endDay)i=u.minuteDate(new Date(u.endDay.replace(/-/g,"/")));e('.q-datepicker td:not(".st_d")').bind("mouseover",function(s){if(e(this).data("info")==="disable"){return}e(this).addClass(u.CLASS["day_hover"]);a=e(this).parents(".ch_sch_form");if(a.find("[data-type = 'oneWay']").length<1){n=parseInt(e(this).attr("data-sort"));if(r===i&&f===r&&t.activeEl.attr("data-prefix")==="往"&&n>i){return}if(n<i+1&&f===r){e(".q-datepicker td").removeClass(u.CLASS["day_area_bg"]);e(".q-datepicker td[data-sort='"+r+"']").removeClass(u.CLASS["day_selected"]);if(n===i){t._selectTd(n,i)}else{t._selectTd(n+1,i)}}if(n>i&&f===r){e(".q-datepicker td").removeClass(u.CLASS["day_area_bg"]);e(".q-datepicker td[data-sort='"+i+"']").removeClass(u.CLASS["day_selected"]+" "+o.CLASS["day_round"])}if(n>r-1&&f===i){e(".q-datepicker td").removeClass(u.CLASS["day_area_bg"]);e(".q-datepicker td[data-sort='"+i+"']").removeClass(u.CLASS["day_selected"]+" "+o.CLASS["day_round"]);if(n===r){t._selectTd(r,n)}else{t._selectTd(r+1,n)}}if(r===i&&f===r&&t.activeEl.attr("data-prefix")==="返"){e(".q-datepicker td[data-sort='"+i+"']").addClass(u.CLASS["day_selected"]+" "+o.CLASS["day_round"])}}}).mouseout(function(){if(e(this).data("info")==="disable"){return}e(this).removeClass(u.CLASS["day_hover"]);if(a.find("[data-type = 'oneWay']").length<1){e(".q-datepicker td").removeClass(u.CLASS["day_area_bg"]);e(".q-datepicker td[data-sort='"+r+"']").addClass(u.CLASS["day_selected"]);e(".q-datepicker td[data-sort='"+i+"']").addClass(u.CLASS["day_round"]);t._selectTd(r+1,i)}})},set:function(e,t,n){if(!this.ui.onSet||this.ui.onSet(e,t,n)===false)return;if(typeof e==="string"){var r=false;switch(e){case"container":this.el.appendTo(t||document.body);this.el.css({top:"",left:""});break}for(var i=0,s=e.split("."),o=s.length,u=this.args;i<o&&(i!==o-1&&(u[s[i]]||(u[s[i]]={}))||(u[s[i]]=t));u=u[s[i]],i++){}}if(n&&this.visible()){this._show(this.showedDate)}},get:function(e){for(var t=0,n=this.args,r=e.split("."),i=r.length;t<i&&(n=n[r[t]]);t++){}return n},change:function(e){var t=typeof e==="string"?n(e,this.showedDate):e;var r=this.showedDate;this.lastShowedDate=this.showedDate;this.showedDate=t;this.ui.change(r,t,e);this._trigger("q-datepicker-change",[r,t,e])},show:function(e){var t,n=this.get("minDate"),r=this.get("maxDate");if(!e)t=window.SERVER_TIME||new Date;else t=e;if(n&&t.getTime()<n.getTime())t.setTime(n.getTime());else if(r&&t.getTime()>r.getTime())t.setTime(r.getTime());this.ui.onBeforeDraw(t);this._show.call(this,t);this._trigger("q-datepicker-show",[e])},_show:function(e){this.lastShowedDate=this.showedDate;this.showedDate=e;if(this.ui.draw(e)!==false);this.el.show()},hide:function(){if(this.visible()){this.el.hide();this._trigger("q-datepicker-hide")}},dispose:function(){this.ui.dispose();this.el.remove();this.activeEl.unbind("."+this.ns);this._trigger("q-datepicker-dispose")},visible:function(){return this.el.is(":visible")},getContainer:function(){return this.el}});var b={"+M":function(e,t){var n=e.getDate();e.setMonth(e.getMonth()+t);if(e.getDate()!==n)e.setDate(0)},"-M":function(e,t){var n=e.getDate();e.setMonth(e.getMonth()-t);if(e.getDate()!==n){e.setDate(0)}},"+D":function(e,t){e.setDate(e.getDate()+t)},"-D":function(e,t){e.setDate(e.getDate()-t)},"+Y":function(e,t){e.setFullYear(e.getFullYear()+t)},"-Y":function(e,t){e.setFullYear(e.getFullYear()-t)}};e.extend(e.qdatepicker,{uis:[],createUI:function(t,n){var r=n&&e.qdatepicker.uis[n]?e.qdatepicker.uis[n]:g;var i=function(){};e.extend(i,r);e.extend(i.prototype={},r.prototype);if(t){e.qdatepicker.uis[t]=i;i.prototype.name=t}return i},calcTime:function(e,t){e=(e||"").toString();var n;if(t)n=new Date(t.getTime());else{n=new Date;var r=e.match(/^\d+/);if(r)n.setTime(r[0]*1)}var i=/([+-])(\d+)([MDY])/g,s;while(s=i.exec(e)){var o=s[1]+s[3];if(b[o])b[o](n,s[2]*1)}return n}});e.qdatepicker.createUI("qunar").implement({init:function(){this.parent.apply(this,arguments);var e=this,t=this.picker;var n=t.get("customActiveClass");var r=this.triggerEl=t.activeEl.wrap('<div class="qunar-dp'+(n?" "+n:"")+'"></div>').before('<div class="dp-prefix"></div><div class="dp-info"><b/><span class="dp-text"></span></div>').parent();var i=this.picker.args.prefix||t.activeEl.data("prefix");if(i){r.find(".dp-prefix").text(i);t.activeEl.css({left:r.find(".dp-prefix").outerWidth(true)+"px"})}else{r.find(".dp-prefix").remove()}t.set("container",r[0]);this.attachedEl=this.attachedEl.add(r.find(".dp-info > b , .dp-info")).add(r.find(".dp-info > b , .dp-info > .dp-text "));t.activeEl.attr("maxlength",10);t.activeEl.addClass("textbox");t.activeEl.bind("keyup."+t.ns,function(t){e.updateTip(e.validate.call(e))}).bind("blur."+t.ns,function(t){e.autoCheck.call(e)});if(t.get("defaultDay")!=null)this.setDate(this.getDefaultDate());this.updateTip(this.validate());this.selectedDate=null;this.checkLinked();this.forIframe(t)},forIframe:function(t){e(window).bind("blur."+t.ns,function(){t.hide()})},getDefaultDate:function(){var e=this.picker;var t=n(e.get("defaultDay"));var r=e.get("minDate"),i=e.get("maxDate");if(r&&r.getTime()>t.getTime()||i&&i.getTime()<t.getTime())t=r||i;return t},checkLinked:function(t){var r=this.picker,i;if(!r.get("linkTo")||!(i=r.get("linkTo").data(e.qdatepicker.ROOT_KEY))||i.ui.name.indexOf("qunar")!==0)return;var s=(r.get("linkRules")||"").split(",");var o=this.getDate();if(o==null)return;if(t){if(t.restPos&&t.pos||t.restPos&&!i.activeEl.attr("data-pos")){i.activeEl.attr("data-pos",t.restPos)}}var u={};e.each(["ds","mind","maxd"],function(e,t){if(s[e])u[t]=n(s[e],o)});var a=i.get("strictMinDate"),f=i.get("strictMaxDate");if(u["mind"]||a){var l=(u["mind"]?u["mind"].getTime():-1)>(a?a.getTime():-1)?u["mind"]:a;i.set("minDate",l,false)}if(u["maxd"]||f){var l=(u["maxd"]?u["maxd"].getTime():Number.MAX_VALUE)>(f?f.getTime():Number.MAX_VALUE)?f:u["maxd"];i.set("maxDate",l,false)}i.set(null,null,true);var c=i.ui.validate();if(!c["success"]&&r.get("forceCorrect")){i.select(u["ds"]);i.ui.drawDate=null;c=i.ui.validate()}i.ui.updateTip(c);var h="Y";return h},select:function(e,t){var n=this.picker;this.parent.apply(this,arguments);this.selectedDate=e;if(!t)this.autoCheck()},showText:function(e){var t=this.triggerEl.find(".dp-text");t.removeClass("errtext").html(e)},showErrText:function(e){var t=this.triggerEl.find(".dp-text");t.addClass("errtext").html(e)},autoCheck:function(){var e=this.picker;var t=this.validate();var n=e.activeEl.attr("data-pos");if(!t["success"]&&e.get("forceCorrect")){this.setDate(this.getDefaultDate());this.updateTip(this.validate())}else{if(t["formatted"])e.activeEl.val(t["formatted"]);this.updateTip(t)}this.checkLinked({pos:e.args.pos,restPos:n});e.args.pos=""},updateTip:function(e){if(!this.picker.get("showTip"))return;if(!e.success)this.showErrText(e.errmsg);else this.showText(e.daytip)},validate:function(){var e=this.picker;var t=this.picker.activeEl.val();var n=this.getDate();var r=this;if(this.selectedDate&&this.selectedDate.getTime()!=n.getTime())this.selectedDate=null;var i="";if(n==null){i=e.get("LANG.ERR_FORMAT");e._trigger("q-datepicker-error",["FORMAT",t])}else{var s=e.get("minDate"),o=e.get("maxDate");if(s&&s.getTime()>n.getTime()||o&&o.getTime()<n.getTime()){i=e.get("LANG.OUT_OF_RANGE");e.args.pos="change";e._trigger("q-datepicker-error",["RANGE",t])}}var u={success:!i,errmsg:i,formatted:null,daytip:null};if(u["success"]){var a=e.get("formatDate")(n),l;switch(e.args.minuteDate(n)){case 0:l="今天";break;case 1:l="明天";break;case 2:l="后天";break;default:l="周"+e.get("LANG.day_names")[n.getDay()];break}u["daytip"]=f[a]?f[a]["holidayName"]:l;u["formatted"]=a}return u},addRoundClass:function(e){if(e=="FROM")return this.picker.get("CLASS")["day_selected"];else if(e=="BACK"){return this.picker.get("CLASS")["day_round"]}else if(e=="AREAR"){return this.picker.get("CLASS")["day_area_bg"]}}});e.fn.qdatepicker=function(){if(this[0]){if(arguments.length>1&&this.data(t)){var e=this.data(t);if(arguments[0]==="option"||arguments[0]==="setting")return arguments.length>2?e.set(arguments[1],arguments[2]):e.get(arguments[1])}else if(arguments.length<=1){if(this.data(t)){this.data(t).dispose();this.removeData(t)}var n=new y(this[0],arguments[0]);this.data(t,n)}}return this};n=e.qdatepicker.calcTime})(jQuery)}).call(window)},function(e,t,n){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){function b(e,t){e=e==null?"":e+"";for(var n=0,r=t-e.length;n<r;n++)e="0"+e;return e}function E(t){if(e.inArray(t,p.work)>-1){return'<span class="ban">班</span>'}else if(e.inArray(t,p.vacation)>-1){return"<span>休</span>"}else{return""}}function S(e){var t=window.SERVER_TIME||new Date;var n=m[e];if(n&&!n.fuzzy){var r;if(n.range){r=n.range}else if(/^\d{1,2}月$/.test(e)){var i=parseInt(e.replace("月",""))-1,s=t.getMonth(),o=i<s?t.getFullYear()+1:t.getFullYear(),u=i==s?t:new Date(o,i,1),a=new Date(o,i,(new Date(o,i+1,0)).getDate()),r=parseInt(Math.abs(new Date(g.formatDate(a).replace(/-/g,"/"))-new Date(g.formatDate(u).replace(/-/g,"/")))/1e3/60/60/24)}n.startDate=new Date(u.getTime());n.endDate=new Date(u.getTime()+r*24*3600*1e3)}if(n&&n.fuzzy){n.startDate=T(n.start);n.endDate=T(n.end);n.lastDate=T(n.last)}return n}function x(){return v}function T(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}function N(e){var t={};for(var n in e){var r=n;var i=e[n];t[n]=i;var s="";var o="";if(i.beforeTime>0){for(var u=1;u<=i.beforeTime;u++){var a={};var f=new Date(T(r).getTime()-u*24*3600*1e3);var l=C(f);a.holidayName=i.holidayName+d.before+u+d.day;a.dayindex=i.dayindex;if(!t[l]){t[l]=a}else{if(i.dayindex>t[l].dayindex&&t[l].beforeTime==null){t[l]=a}}}}if(i.afterTime>0){for(var u=1;u<=i.afterTime;u++){var a={};var c=new Date(T(r).getTime()+u*24*3600*1e3);var h=C(c);a.holidayName=i.holidayName+d.after+u+d.day;a.dayindex=i.dayindex;if(!t[h]){t[h]=a}else{if(i.dayindex>t[h].dayindex&&t[C(new Date(f))].afterTime==null){t[h]=a}}}}}return t}function C(e){if(typeof e=="number"){e=new Date(e)}return e.getFullYear()+"-"+k(e.getMonth()+1)+"-"+k(e.getDate())}function k(e){return e<10?"0"+e:e}function L(e){e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e}function A(e){var t=e.offset();t["top"]+=e.outerHeight();return t}function O(t){var n;if(t&&!t.nodeType)n=jQuery.event.fix(t||window.event).target;else n=t;if(!n)return null;var i=e(n).parents("."+r);return i.size()>0?i.eq(0).data(r):null}function M(){}function _(e,t){if(!this.init)return new _(e,t);else return this.init(e,t)}window.searchTrack=n(13);var t=n(15);e.fdatepicker={};var r=e.fdatepicker.ROOT_KEY="q-datepicker-fly";var i;var s;var o;var u=[];var a=false;var f=0;var l=0;var c=t;var h=c.HolidayData;var p=c.WorkHoliday;var d=c.TransDateEx;var v=c.fuzzyDate0;var m=c.fuzzyDate;var g={LANG:{prev:"",next:"",day_names:["日","一","二","三","四","五","六"],OUT_OF_RANGE:"超出范围",ERR_FORMAT:"格式错误"},CLASS:{group:"g",header_mc:"m-h",header:"h",cld_mc:"m-c",cld_wp:"c-wp",calendar:"c",next:"e-n",prev:"e-p",title:"t",week:"w",month:"cm_",prc_wp:"m-p",tax_wp:"e-t",day_default:"st",day_selected:"st-a",day_othermonth:"st-s",day_today:"st-t",day_hover:"st-h",day_disabled:"st-d",day_round:"st-a-r",day_holiday:"st-holi-",day_area_bg:"st-area"},WEEKDAYS:7,STARTDAY:1,showOtherMonths:false,defaultDay:"",disabledDays:"",customClass:"",customActiveClass:"",multi:2,showTip:true,linkTo:null,linkRules:"",refObj:null,forceCorrect:true,loadMonthStore:[],dataStore:{},leftBtn:null,rightBtn:null,curMonthMove:{},cldWrap:null,hasTax:false,formatTitle:function(e){return e.getFullYear()+"年"+(e.getMonth()+1)+"月"},showOnInit:false,showOnFocus:false,container:null,minDate:null,maxDate:null,ui:null,sDay:null,endDay:null,pos:"",parseDate:function(e){var t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);return t?new Date(t[1],t[2]*1-1,t[3]):null},formatDate:function(e){return e.getFullYear()+"-"+b(e.getMonth()+1,2)+"-"+b(e.getDate(),2)},minuteDate:function(e){var t=window.SERVER_TIME||new Date;t=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate());return(e-t)/(24*60*60*1e3)},today:function(){var e=window.SERVER_TIME||new Date;e=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate());return this.formatDate(e)},plus:function(e,t){return new Date(e.getTime()+t*24*60*60*1e3)}};var y=function(){var t=this;for(var n=0,r=arguments.length;n<r;n++)e.each(arguments[n],function(e,n){var r;if(t.prototype[e]&&jQuery.isFunction(t.prototype[e]))r=t.prototype[e];t.prototype[e]=n;if(r)t.prototype[e]["_PARENT_"]=r});if(!t.prototype["parent"])t.prototype["parent"]=function(){return arguments.callee.caller["_PARENT_"].apply(this,arguments)}};var w=N(h);M.implement=y;e.extend(M.prototype,{isUI:1,init:function(){var t=this,n=this.picker,r=n.ns;t.attachedEl=t.attachedEl||new e;e(document).bind("mousedown."+r,function(e){var r,i;if(n.activeEl[0]===e.target&&(r=1)||t.attachedEl.index(e.target)!=-1&&(r=2)){if(!n.visible()){i=S(n.activeEl.val());t.drawDate=i?i.startDate:t.drawDate;setTimeout(function(){n.show(t.getDate())},0)}else{n.hide()}if(r==2)n.activeEl.focus();return}var s;if((s=O(e))&&s.key===n.key)return;else n.hide()});var i=function(){if(!n.get("container"))n.getContainer().css(A(n.activeEl))};i();e(window).bind("load."+r+" resize."+r,i);n.activeEl.bind("focus."+r,function(e){if(n.get("showOnFocus"))n.show(t.getDate())});n.activeEl.bind("keydown."+r,function(e){switch(e.keyCode){case 40:t.setDate(new Date(t.getDate().getTime()+24*60*60*1e3));var r=t.validate();if(!r.success){return}n.show(t.getDate());break;case 38:t.setDate(new Date(t.getDate().getTime()-24*60*60*1e3));var r=t.validate();if(!r.success){return}n.show(t.getDate());break;case 9:case 27:n.hide();break;default:t.onKeyDown(e)}})},_init:function(e){this.picker=e},select:function(e){this.picker.activeEl.val(this.picker.args.formatDate(e))},posHandler:function(e,t){var n=this.picker.activeEl.attr("data-pos"),r=e,i,s=t.parseDate(this.picker.activeEl.val()),o=s?s.getMonth():(window.SERVER_TIME||new e).getMonth();i=new Date(r);i.setDate(1);return i},change:function(t,n,r){var i=this;var s=i.picker.args,o=s.leftBtn,u=s.rightBtn,a=s.cldWrap;var f=i.picker.get("minDate"),c=i.picker.get("maxDate");var h=r=="+1M"?false:true;var p=new Date(new Date(n.getFullYear(),n.getMonth(),1));var d=s.parseDate(s.formatDate(p));var v=s.parseDate(s.formatDate(p));v.setMonth(v.getMonth()+1);s.curMonthMove=h?d:v;if(e.inArray(s.curMonthMove.getMonth(),s.loadMonthStore)==-1){i.drawNewMonth(h,s.curMonthMove);i.picker._trigger("q-datepicker-change-prc",[t,p,r]);h?a.css({left:"-="+l+"px"}):"";s.loadMonthStore.push(s.curMonthMove.getMonth())}else if(s.loadMonthStore.length==12){var m=a.find(".c");var g=h?m.last().data("month"):m.first().data("month");if(s.curMonthMove.getMonth()==g){h?m.last().remove():m.first().remove();i.drawNewMonth(h,s.curMonthMove);i.picker._trigger("q-datepicker-change-prc",[t,p,r]);h?a.css({left:"-="+l+"px"}):a.css({left:"+="+l+"px"})}}if(h){!f||f.getFullYear()<t.getFullYear()||f.getFullYear()===t.getFullYear()&&f.getMonth()<t.getMonth()-1?o.removeClass("e-dis"):o.addClass("e-dis");u.removeClass("e-dis")}else{var y,b;if(c){b=c.getMonth()-1;if(b<0){b=11;y=c.getFullYear()-1}else{y=c.getFullYear()}}!c||y>t.getFullYear()||y===t.getFullYear()&&b>t.getMonth()+1?u.removeClass("e-dis"):u.addClass("e-dis");o.removeClass("e-dis")}},renderDateWraper:function(t){var n=this;n.drawDate=t;L(t);var r=n.picker.getContainer(),i=n.picker.args,s=i["CLASS"],o=i["LANG"],u=i.hasTax,a=i.minDate,f=i.maxDate;var l=[];i.dataStore={};i.loadMonthStore.length=0;l.push('<div class="'+s["group"]+'" style="display:none;">');l.push('<div class="'+s["header_mc"]+'">');l.push('<p class="'+s["next"]+"",!f||f.getFullYear()>t.getFullYear()||f.getFullYear()===t.getFullYear()&&f.getMonth()>t.getMonth()+1?"":" e-dis",'"><span href="#" class="icon_arr_right" onclick="FQDP.change( event , \'+1M\' );return false;">',o["next"],"</span></p>");l.push('<p class="'+s["prev"]+"",!a||a.getFullYear()<t.getFullYear()||a.getFullYear()===t.getFullYear()&&a.getMonth()<t.getMonth()?"":" e-dis",'"><span href="#" class="icon_arr_left" onclick="FQDP.change( event , \'-1M\' );return false;">',o["prev"],"</span></p>");l.push("</div>");l.push('<div class="'+s["cld_mc"]+'">');l.push('<div class="'+s["cld_wp"]+'">');l.push("</div>");l.push("</div>");l.push('<div class="'+s["prc_wp"]+'">');l.push('<div class="e_r">');if(n.picker.isSupportPrc){l.push('    <div class="'+s["tax_wp"]+' js_prc_change" style="display:none;">');l.push('        <span class="'+(u?"":"cur")+'" data-set="">未含税</span><span class="'+(u?"cur":"")+'" data-set="tax">含税总价</span>');l.push("    </div>")}if(window.QNR.isLocal){l.push("    当前为出发地时间")}l.push("</div>");n.picker.isFuzzy&&l.push(n._drawFuzzyDate());l.push("</div>");l.push("</div>");e(l.join("")).appendTo(r.empty()).show();i.leftBtn=r.find("."+s["prev"]);i.rightBtn=r.find("."+s["next"]);i.cldWrap=r.find("."+s["cld_wp"]);n.picker.isFuzzy&&window.QNR.isLocal&&n.bindFuzzyEvent(r)},bindFuzzyEvent:function(t){var n=t.find(".js_fuzzy_wp .m-fuzzy-box").width();t.find(".js_fuzzy_wp").addClass("e_fuzzy_w").bind("mouseenter",function(t){var n=e(this).parent().width()+15;e(this).find(".m-fuzzy-box").animate({width:n+"px"},200)}).bind("mouseleave",function(){e(this).find(".m-fuzzy-box").animate({width:n+"px"},200)})},renderPanelHTML:function(e,t){var n=this;var r=n.picker.args,i=r.multi,s=r["CLASS"];var o=[],u;u=n.posHandler(e,r);for(var a=0;a<t;a++){o.push('<div class="'+s["calendar"]+'" data-month="'+u.getMonth()+'">');o.push(n._drawTitle(u));o.push(n._drawBody(u));o.push("</div>");u.setMonth(u.getMonth()+1)}return o.join("")},drawPanel:function(t){var n=this;var r=n.picker.args,i=n.picker.args.cldWrap;var s=n.renderPanelHTML(t,r.multi);i.empty().append(e(s));n.picker.selectUi()},drawNewMonth:function(t,n){var r=this;var i=r.picker.args.cldWrap;var s=r.renderPanelHTML(n,1);t?e(s).prependTo(i):e(s).appendTo(i)},draw:function(t){var n=this;var r=n.picker.args;var i=S(n.picker.activeEl.val());r.activeDate=r.parseDate(n.picker.activeEl.val())||i&&i.startDate;n.renderDateWraper(t);n.drawPanel(t);l=e(n.picker.args.cldWrap.find(".c")[0]).width();r.loadMonthStore.push(t.getMonth(),t.getMonth()+1==12?0:t.getMonth()+1)},dispose:function(){var t="."+this.picker.ns;e(document).unbind(t);e(window).unbind(t)},getDate:function(){var e=this.picker.activeEl.val();var t=S(e);var n=t&&t.valid?t.startDate:this.picker.get("parseDate")(e);return n!=n?null:n},setDate:function(e){this.picker.activeEl.val(this.picker.get("formatDate")(e))},onBeforeDraw:function(e){var t=this;var n=function(e,t){if(e.getFullYear()>t.getFullYear())return 1;else if(e.getFullYear()===t.getFullYear())return(e.getMonth()-t.getMonth())/(Math.abs(e.getMonth()-t.getMonth())||1);else return-1};if(this.selectedDate&&this.drawDate)e.setTime(this.drawDate.getTime());else{var r=this.picker,i=r.get("minDate"),s=r.get("maxDate"),o=r.get("multi");var u=new Date(e.getFullYear(),e.getMonth()+o-1,1);if(s&&n(u,s)>0)for(var a=1;s&&o&&o>1&&o-a>0;a++){u=new Date(e.getFullYear(),e.getMonth()+o-a-1,1);if(n(u,s)<=0){u.setMonth(u.getMonth()-o+1);break}}else u=null;if(u&&(!i||u.getTime()>=i.getTime()))e.setTime(u.getTime())}},onKeyDown:function(e){},onSet:function(){this.selectedDate=null},_drawTitle:function(e){var t=this.picker.args;var n=t["CLASS"];var r=[];r.push('<div class="'+n["header"]+'">');r.push('<div class="'+n["title"]+'">',t.formatTitle(e),"</div>");r.push("</div>");return r.join("")},_drawBody:function(t){var n=this.picker.args,r=n["STARTDAY"],i=n["WEEKDAYS"],s=n["LANG"],o=n["CLASS"],u=n.activeDate,a=n.minDate,f=n.maxDate;if(u&&u!=u)u=null;var l=window.SERVER_TIME||new Date;var c=[];c.push('<div class="thwrap"><table cellspacing="0" cellpadding="0" border="0"><thead><tr>');for(var p=0;p<i;p++){var d=(r+p)%i;c.push('<th class="'+o["week"]+d+'">',s["day_names"][d]||"","</th>")}c.push("</tr></thead></table></div>");c.push('<div class="tdwrap"><table cellspacing="0" cellpadding="0" border="0"><tbody>');var v=[];var m=t.getFullYear(),g=t.getMonth()+1;var y=new Date(m,g-1,1);var b=1,w=(new Date(m,g,0)).getDate();var S=y.getDay()-r;while(S<0)S+=i;var x=b-S;var T=i-((1-x+w)%i||i)+w;for(var p=x,N=0;p<=T;p++,N++){var C=new Date(m,g-1,p);var k=n.formatDate(C);if(N%i==0)v.push("</tr>","<tr>");var d=(r+N)%i;v.push('<td class="'+o["week"]+d+" "+o["day_default"]);var L=false;if(e.grep(["getFullYear","getMonth","getDate"],function(e){return C[e]()==l[e]()}).length==3)v.push(" "+o["day_today"]);if(u!=null&&u.getTime()==C.getTime())v.push(" "+o["day_selected"]);var A=false;if(p<1||p>w){v.push(" "+o["day_othermonth"]);A=true}var O=n.formatDate(C).replace(/-/g,"")*1;var M=a&&n.formatDate(a).replace(/-/g,"")*1;var _=f&&n.formatDate(f).replace(/-/g,"")*1;if(a&&O<M||f&&O>_||~n.disabledDays.toString().indexOf(k)){if(!A){v.push(" "+o["day_disabled"])}L=true}var D=this._getDateClass(C);if(D&&!A)v.push(" "+D);v.push('"');if(!L){v.push(' onclick="FQDP.select(event,new Date('+C.getFullYear()+","+C.getMonth()+","+C.getDate()+"));");var P=e("#js_searchbox_train").attr("style");var H=e("#js_searchbox_freetrip").attr("style");if(P.indexOf("display:none")===-1&&P.indexOf("display: none")===-1){v.push("newClkObj.nanachiClk({button_id: '4-3-3',button_name: '搜索-火车票输入',action_type: 'buttonclick',page_depth: '4-搜索框',to_url: '',logdata: ''});;",'return false;"')}else if(H.indexOf("display:none")===-1&&H.indexOf("display: none")===-1){v.push("newClkObj.nanachiClk(",e(".js_arrival_box").hasClass("hidden")?"{button_id: '4-8-4',button_name: '搜索-自由行单程',action_type: 'buttonclick',page_depth: '4-搜索框',to_url: '',logdata: ''}":"{button_id: '4-8-1',button_name: '搜索-自由行往返',action_type: 'buttonclick',page_depth: '4-搜索框',to_url: '',logdata: ''}",");",'return false;"')}}if(!L&&!A){v.push(" data-sort="+n.minuteDate(C)+">")}else{v.push('data-info = "disable">')}if(!A||n.showOtherMonths){v.push('<div class="t-d">');v.push('   <div class="d-t">');v.push(E(k));v.push("    </div>");v.push('<span class="');var B=h[k];dateText=C.getDate();if(!L&&B&&B.holidayClass){v.push(" "+o["day_holiday"]+"default");v.push(" "+o["day_holiday"]+B.holidayClass);dateText=B.holidayName}v.push('">');var j=window.SERVER_TIME||new Date;if(C.getMonth()===j.getMonth()&&C.getFullYear()===j.getFullYear()&&dateText===j.getDate()&&n.minuteDate(C)===0){dateText="今天"}v.push(dateText);v.push("</span>");v.push("</div>")}else{v.push("&nbsp;")}v.push("</td>")}c.push(v.length>0?v.slice(1,-1).join(""):"");if(S+T<=35){c.push("<tr>");for(var p=0;p<i;p++){c.push('<td class="w3 st st-s" data-info="disable">&nbsp;</td>')}c.push("</tr>")}c.push("</tbody></table></div>");return c.join("")},_drawFuzzyDate:function(){var t=[],n=this,r,i,s;var o=0;t.push('<div class="e_fuzzy '+(window.QNR.isLocal?"e_fuzzy_w ":"")+'js_fuzzy_wp">');t.push('<i class="icon_arr_f"></i>');t.push('<div class="m-fuzzy-box">');t.push(' <ul class="m-fuzzy-lst clrfix">');i=n.picker.activeEl.val();r=S(i)?i:"";s=x();var u=this.picker.args;var a=window.SERVER_TIME||new Date,f=a.getMonth(),l=a.getFullYear();for(var c=0;c<5;c++){month=f+c;if(month>12){month-=12;year=l+1}else{year=l}start=c==0?a:new Date(year,month,1);end=new Date(year,month,(new Date(year,month+1,0)).getDate());label=start.getMonth()+1+"月";val=u.formatDate(start).replace(/-/g,"/");iDays=parseInt(Math.abs(new Date(u.formatDate(end).replace(/-/g,"/"))-new Date(u.formatDate(start).replace(/-/g,"/")))/1e3/60/60/24);t.push('<li data-value="',label,'" data-range="',iDays,'"');t.push('onclick="FQDP.fuzzyselect(event,new Date('+(new Date(val)).getFullYear()+","+(new Date(val)).getMonth()+","+(new Date(val)).getDate()+"));",'return false;"');t.push(">",label,"</li>");o++}e.each(s,function(e,n){var i=S(n);_class=r==n?"st-h":"";if(n=="抗战胜利日"||n=="中秋&国庆"){_class+=" st-w"}if(i.lastDate>SERVER_TIME&&o<9){t.push('<li data-value="',i.value,'" class="',_class,'" data-range="',i.range,'"');t.push('onclick="FQDP.fuzzyselect(event,new Date('+i.startDate.getFullYear()+","+i.startDate.getMonth()+","+i.startDate.getDate()+"));",'return false;"');t.push(">",n,"</li>");o++}});t.push(" </ul>");t.push("</div>");t.push("</div>");return t.join("")},_getDateClass:function(t){var n=this.picker.args;var r=n.formatDate(t);var i="";var s=this.picker.activeEl.val();var o=S(s);var u=o?n.formatDate(o.startDate):s;var a=parseInt(r.replace(/-/g,""),10);var f=parseInt(u.replace(/-/g,""),10);var l,c,p,d,v,m,g;var y=this.picker.activeEl.attr("name")=="fromDateMulti";if(this.picker.get("linkTo")&&!y){m=this.picker.get("linkTo").data(e.fdatepicker.ROOT_KEY);l=m.activeEl.val();c=S(l);p=c?n.formatDate(c.endDate):l;v=parseInt(u.replace(/-/g,""));ecurrVal=parseInt(p.replace(/-/g,""));n.sDay=u;n.endDay=p;if(typeof s!="undefined"&&a==v){i=this.addRoundClass("FROM")}if(m){if(typeof m.activeEl.val()!="undefined"&&a==ecurrVal){i=this.addRoundClass("BACK")}}if(a<ecurrVal&&a>v){i=this.addRoundClass("AREAR")}}else if(this.picker.get("refObj")){g=this.picker.get("refObj").data(e.fdatepicker.ROOT_KEY);l=g.activeEl.val();c=S(l);p=c?n.formatDate(c.startDate):l;u=o?n.formatDate(o.endDate):s;v=parseInt(p.replace(/-/g,""));ecurrVal=parseInt(u.replace(/-/g,""));n.sDay=p;n.endDay=u;if(typeof this.picker.activeEl.val()!="undefined"&&a==ecurrVal){i=this.addRoundClass("BACK")}if(g){if(typeof g.activeEl.val()!="undefined"&&a==v){i=this.addRoundClass("FROM")}}if(a>v&&a<ecurrVal){i=this.addRoundClass("AREAR")}}else if(o&&a>=f){ecurrVal=parseInt(n.formatDate(o.endDate).replace(/-/g,""));v=parseInt(n.formatDate(o.startDate).replace(/-/g,""));n.sDay=n.formatDate(o.startDate);n.endDay=n.formatDate(o.endDate);if(a<ecurrVal){i=this.addRoundClass("AREAR")}if(a==ecurrVal){i=this.addRoundClass("BACK")}if(a==v){i=this.addRoundClass("FROM")}}if(h[r])i+=" "+"holi";return e.trim(i)}});window.FQDP={};e.each(["select","change","_trigger","fuzzyselect"],function(e,t){window.FQDP[t]=function(){a=false;if(!arguments[0])return;var e=O(arguments[0]);if(e&&e[t]){if(t==="select"||t==="fuzzyselect"){return e[t].apply(e,Array.prototype.slice.call(arguments))}else{return e[t].apply(e,Array.prototype.slice.call(arguments,1))}}}});e.extend(_.prototype,{init:function(t,n){n=n||{};if(n["ui"]){if(n["ui"]["isUI"])this.ui=n["ui"];else if(typeof n["ui"]=="string"&&e.fdatepicker.uis[n["ui"]])this.ui=new e.fdatepicker.uis[n["ui"]]}if(!this.ui)this.ui=new M;this.ui._init(this);n=this.args=e.extend(true,{},g,n||{});this.key=++f;var i=this.ns=r+this.key;var s=this.activeEl=e(t);this.el=e('<div class="'+r+'"></div>').appendTo(s.parent()||document.body).hide();e(this.el).data(r,this);this.ui.init();this.lastShowedDate=null;this.showedDate=null;if(n["showOnInit"])this.show();e.each(n["on"]||{},function(e,t){s.bind(e+"."+i,t)});return this},_trigger:function(){this.activeEl.triggerHandler.apply(this.activeEl,arguments)},select:function(){if(arguments.length>1){var t=arguments[0]||window.event;date=arguments[1]}else{var t=t||window.event;date=arguments[0]}if(t){var n=t.srcElement?t.srcElement:t.target;if(e(n).parents("."+this.args.CLASS["calendar"]).data("index")===1){this.activeEl.attr("data-pos","right")}if(e(n).parents("."+this.args.CLASS["calendar"]).data("index")===0){this.activeEl.attr("data-pos","left")}}this.ui.select(date);this.hide();this._trigger("q-datepicker-select",[date])},setFuzzy:function(e){this.isFuzzy=e},fuzzyselect:function(){var t=function(t){e(u).each(function(e,n){n.fuzzyInput(t);n.autoCheck.call(n)})};e(u).each(function(e,n){n.picker.activeEl.bind("blur."+n.picker.ns,t)});var n=arguments[0].srcElement||arguments[0].target,r,i;this.activeEl.attr("data-pos","left");i=e(n).data("value");a=true;this.activeEl.val(i);o=n;this.ui.fuzzyselect(arguments[1]);this.hide();if(this.get("linkTo")){r=this.get("linkTo").data(e.fdatepicker.ROOT_KEY);r.activeEl.val(i)&&r.ui.fuzzyselect(arguments[1])}else if(this.get("refObj")){r=this.get("refObj").data(e.fdatepicker.ROOT_KEY);if(r.activeEl.val().indexOf("周")!=-1&&i.indexOf("周")!=-1){return}r.activeEl.val(i);r.ui.fuzzyselect(arguments[1])}this.activeEl.val(i)},_selectTd:function(t,n,r){for(var i=parseInt(t),s=n;i<s;i++){e("td[data-sort='"+i+"']:not('.st-d')").addClass(g.CLASS["day_area_bg"])}},selectUi:function(){var t=this,n,r,i,s,a,f,l;l=t.activeEl.val();var c=t.args.minuteDate(new Date(l.replace(/-/g,"/")));var h=t.activeEl[0]["id"];var p=S(l);var d=this.el;s=this.args;if(s.sDay)r=s.minuteDate(new Date(s.sDay.replace(/-/g,"/")));if(s.endDay)i=s.minuteDate(new Date(s.endDay.replace(/-/g,"/")));var v=d.find("td[data-sort='"+r+"']"),m=d.find("td[data-sort='"+i+"']");d.undelegate(".fly").delegate('td:not(".st-d")',{"mouseenter.fly":function(o){if(e(this).data("info")==="disable"){return}if(S(t.activeEl.val())){e(this).addClass(s.CLASS["day_hover"]);return}e(this).addClass(s.CLASS["day_hover"]);a=e(this).parents(".ch_sch_form");if(!S(t.activeEl.val())&&a.find("[data-type = 'oneWay']").length<1){n=parseInt(e(this).attr("data-sort"));if(r===i&&c===r&&t.activeEl.attr("name")==="fromDate"&&n>i){return}if(r===i&&c===r&&t.activeEl.attr("name")==="toDate"){m.addClass(s.CLASS["day_selected"]+" "+g.CLASS["day_round"])}if(n>r-1&&n<i+1){d.find("td").removeClass(s.CLASS["day_area_bg"]);if(c===i){m.removeClass(s.CLASS["day_selected"]).removeClass("st-a-r");t._selectTd(r+1,n)}else{v.removeClass(s.CLASS["day_selected"]);t._selectTd(n+1,i)}}if(n<r){if(c===i){}else{d.find("td").removeClass(s.CLASS["day_area_bg"]);v.removeClass(s.CLASS["day_selected"]);t._selectTd(n+1,i)}}if(n>i){d.find("td").removeClass(s.CLASS["day_area_bg"]);if(c===i){t._selectTd(r+1,n)}else{d.find("td.st-a").removeClass("st-a")}}}},"mouseleave.fly":function(){if(e(this).data("info")==="disable"){return}if(S(t.activeEl.val())){e(this).removeClass(s.CLASS["day_hover"]);return}e(this).removeClass(s.CLASS["day_hover"]);if(!p&&a&&a.find("[data-type = 'oneWay']").length<1){d.find("td").removeClass(s.CLASS["day_area_bg"]);v.addClass(s.CLASS["day_selected"]);m.addClass(s.CLASS["day_round"]);t._selectTd(r+1,i)}}});d.find('li:not(".st-h")').unbind().bind("mouseover",function(){e(u).each(function(e,t){t.picker.activeEl.unbind("blur")});e(this).addClass(s.CLASS["day_hover"]);var n,r;var o=1,f=e(this).attr("data-range");var l=d.find(".st-a");if(l.length===0){l=d.find(".st-a-r")}d.find(".st-a").removeClass("st-a");d.find(".st-area").removeClass("st-area");d.find(".st-a-r").removeClass("st-a-r");var h=e(this).attr("onclick").match(/\d+/g);var p=new Date(h[0],h[1],h[2]);o=g.minuteDate(p);a=e(this).parents(".ch_sch_form");if(a.find("[data-type = 'oneWay']").length<1){d.find("td").removeClass(s.CLASS["day_area_bg"]);v.removeClass(s.CLASS["day_selected"]);m.removeClass(s.CLASS["day_selected"]+" "+g.CLASS["day_round"])}else{c&&d.find("td[data-sort='"+c+"']").removeClass(s.CLASS["day_selected"]);i&&m.removeClass(s.CLASS["day_selected"]+" "+g.CLASS["day_round"])}if(o!==1){t._selectTd(parseInt(o)+1,parseInt(o)+parseInt(f));d.find("td[data-sort='"+(parseInt(o)+parseInt(f))+"']").addClass(s.CLASS["day_round"])}else{if(l.find("span").text()==="今天"){o=1;t._selectTd(2,f)}else{t._selectTd(2,f)}d.find("td[data-sort='"+f+"']").addClass(s.CLASS["day_round"])}d.find("td[data-sort='"+o+"']").addClass(s.CLASS["day_round"])}).bind("mouseout",function(n){var u=e(".st-h");var f=d.find(".st-a");var l=d.find(".st-area");var h=e(".st-t").find("span").text();var p;if(u.length>1){f.removeClass("st-a");l.removeClass("st-area");d.find(".st-a-r").removeClass("st-a-r");if(o){var y=e(o).attr("onclick").match(/\d+/g)}else{var y=u.eq(1).attr("onclick").match(/\d+/g)}var b=new Date(y[0],y[1],y[2]);var w=e(this).attr("data-range");var E=g.minuteDate(b);p=d.find("td[data-sort='"+E+"']");p.addClass(s.CLASS["day_round"]);t._selectTd(parseInt(E)+1,parseInt(E)+parseInt(w));d.find("td[data-sort='"+(parseInt(E)+parseInt(w))+"']").addClass(s.CLASS["day_round"])}else{if(h==="今天"){var E=0}else{var E=1}p=d.find("td[data-sort='"+E+"']")}f.removeClass("st-a");l.removeClass("st-area");d.find(".st-a-r").removeClass("st-a-r");var w=e(this).attr("data-range");a=e(this).parents(".ch_sch_form");e(this).removeClass(s.CLASS["day_hover"]);d.find("td").removeClass(s.CLASS["day_area_bg"]);p.addClass(s.CLASS["day_round"]);if(a.find("[data-type = 'oneWay']").length<1){v.addClass(s.CLASS["day_selected"]);m.addClass(s.CLASS["day_round"]);t._selectTd(r+1,i)}else{c&&d.find("td[data-sort='"+c+"']").addClass(s.CLASS["day_selected"]);!c&&t._selectTd(r+1,i);i&&m.addClass(s.CLASS["day_round"]);c&&d.find(".st-a-r").removeClass("st-a-r")}r!=E&&p.removeClass(s.CLASS["day_round"]);i!=w&&d.find("td[data-sort='"+w+"']").removeClass(s.CLASS["day_round"]);!c&&p.addClass(s.CLASS["day_round"])})},set:function(t,n,r){if(!this.ui.onSet||this.ui.onSet(t,n,r)===false)return;if(typeof t==="string"){var i=false;switch(t){case"container":this.el.appendTo(e(n).find(".qcbox-fixed")||document.body);this.el.css({top:"",left:""});break}for(var s=0,o=t.split("."),u=o.length,a=this.args;s<u&&(s!==u-1&&(a[o[s]]||(a[o[s]]={}))||(a[o[s]]=n));a=a[o[s]],s++){}}if(r&&this.visible()){this._show(this.showedDate)}},get:function(e){for(var t=0,n=this.args,r=e.split("."),i=r.length;t<i&&(n=n[r[t]]);t++){}return n},change:function(e){var t=this;var n=t.args.cldWrap;if(e=="-1M"&&t.args.leftBtn.hasClass("e-dis")){return}else if(e=="+1M"&&t.args.rightBtn.hasClass("e-dis")){return}if(t._scrolling){return}var r=typeof e==="string"?i(e,this.showedDate):e;var s=this.showedDate;this.lastShowedDate=this.showedDate;this.showedDate=r;this.ui.change(s,r,e);this._trigger("q-datepicker-change",[s,r,e]);t._scrolling=true;var o=e=="-1M"?"+=":"-=";n.animate({left:o+l+"px"},"50",function(){t._scrolling=false})},show:function(e){var t=this;var n,r=t.get("minDate"),i=t.get("maxDate");searchTrack._updateTime(t);setTimeout(function(){if(!e)Ctime=window.SERVER_TIME||new Date;else Ctime=e;n=new Date(Ctime.getFullYear()+"/"+(Ctime.getMonth()+1)+"/"+Ctime.getDate());if(r&&n.getTime()<r.getTime())n.setTime(r.getTime());else if(i&&n.getTime()>i.getTime())n.setTime(i.getTime());t.ui.onBeforeDraw(n);t._show.call(t,n);t._trigger("q-datepicker-show",[e])},100)},_show:function(t){this.lastShowedDate=this.showedDate;this.showedDate=t;this.activeEl&&e(this.activeEl).trigger("beforeRender");if(this.ui.draw(t)!==false);this.ui.picker.activeEl.closest(".qcbox").addClass("qcbox_on");this.el.show()},hide:function(){if(this.visible()){this.ui.picker.activeEl.closest(".qcbox").removeClass("qcbox_on");this.el.hide();this._trigger("q-datepicker-hide")}},dispose:function(){this.ui.dispose();this.el.remove();this.activeEl.unbind("."+this.ns);this._trigger("q-datepicker-dispose")},visible:function(){return this.el.is(":visible")},getContainer:function(){return this.el}});var D={"+M":function(e,t){var n=e.getDate();e.setMonth(e.getMonth()+t);if(e.getDate()!==n)e.setDate(0)},"-M":function(e,t){var n=e.getDate();e.setMonth(e.getMonth()-t);if(e.getDate()!==n){e.setDate(0)}},"+D":function(e,t){e.setDate(e.getDate()+t)},"-D":function(e,t){e.setDate(e.getDate()-t)},"+Y":function(e,t){e.setFullYear(e.getFullYear()+t)},"-Y":function(e,t){e.setFullYear(e.getFullYear()-t)}};e.extend(e.fdatepicker,{uis:[],createUI:function(t,n){var r=n&&e.fdatepicker.uis[n]?e.fdatepicker.uis[n]:M;var i=function(){};e.extend(i,r);e.extend(i.prototype={},r.prototype);if(t){e.fdatepicker.uis[t]=i;i.prototype.name=t}return i},calcTime:function(e,t){e=(e||"").toString();var n;if(t)n=new Date(t.getTime());else{n=new Date;var r=e.match(/^\d+/);if(r)n.setTime(r[0]*1)}var i=/([+-])(\d+)([MDY])/g,s;while(s=i.exec(e)){var o=s[1]+s[3];if(D[o])D[o](n,s[2]*1)}return n}});e.fdatepicker.createUI("qunar").implement({init:function(){this.parent.apply(this,arguments);var e=this,t=this.picker;if(t.activeEl.attr("name")!=="fromDate"&&t.activeEl.attr("name").indexOf("Multi")===-1){s=e;u.push(e)}var n=t.get("customActiveClass");var r=this.triggerEl=t.activeEl.wrap('<div class="qunar-dp'+(n?" "+n:"")+'"></div>').before('<div class="dp-prefix"></div><div class="dp-info"><b/><span class="dp-text"></span></div>').parent();var i=this.picker.args.prefix||t.activeEl.data("prefix");if(i){r.find(".dp-prefix").text(i);t.activeEl.css({left:r.find(".dp-prefix").outerWidth(true)+"px"})}else{r.find(".dp-prefix").remove()}t.set("container",r[0]);this.attachedEl=this.attachedEl.add(r.find(".dp-info > b , .dp-info")).add(r.find(".dp-info > b , .dp-info > .dp-text "));t.activeEl.attr("maxlength",10);t.activeEl.addClass("textbox");t.activeEl.bind("keyup."+t.ns,function(t){e.updateTip(e.validate.call(e))}).bind("blur."+t.ns,function(t){e.fuzzyInput(t);e.autoCheck.call(e)});if(t.get("defaultDay")!=null)this.setDate(this.getDefaultDate());this.updateTip(this.validate());this.selectedDate=null;this.checkLinked();this.forIframe(t)},forIframe:function(t){e(window).bind("blur."+t.ns,function(){t.hide()})},getDefaultDate:function(){var e=this.picker;var t=i(e.get("defaultDay"));var n=e.get("minDate"),r=e.get("maxDate");if(n&&n.getTime()>t.getTime()||r&&r.getTime()<t.getTime())t=n||r;return t},checkLinked:function(t){var n=this.picker,r;if(!n.get("linkTo")||!(r=n.get("linkTo").data(e.fdatepicker.ROOT_KEY))||r.ui.name.indexOf("qunar")!==0)return;var s=(n.get("linkRules")||"").split(",");var o=this.getDate();if(o==null)return;if(t){if(t.restPos&&t.pos||t.restPos&&!r.activeEl.attr("data-pos")){r.activeEl.attr("data-pos",t.restPos)}}var u={};e.each(["ds","mind","maxd"],function(e,t){if(s[e])u[t]=i(s[e],o)});var a=r.get("strictMinDate"),f=r.get("strictMaxDate");if(u["mind"]||a){var l=(u["mind"]?u["mind"].getTime():-1)>(a?a.getTime():-1)?u["mind"]:a;r.set("minDate",l,false)}if(u["maxd"]||f){var l=(u["maxd"]?u["maxd"].getTime():Number.MAX_VALUE)>(f?f.getTime():Number.MAX_VALUE)?f:u["maxd"];r.set("maxDate",l,false)}r.set(null,null,true);var c=r.ui.validate();var h=S(n.activeEl.val()),p=S(r.activeEl.val());if(c&&!c["success"]&&n.get("forceCorrect")||!h&&p){r.select(u["ds"]);r.ui.drawDate=null;c=r.ui.validate()}!p&&c&&r.ui.updateTip(c);var d="Y";return d},checkRefObj:function(t){var n=this.picker,r;if(!n.get("refObj")||!(r=n.get("refObj").data(e.fdatepicker.ROOT_KEY))||r.ui.name.indexOf("qunar")!==0)return;if(!S(r.activeEl.val())){return}var s=(n.get("linkRules")||"").split(",");var o=this.getDate();if(o==null)return;if(t){if(t.restPos&&t.pos||t.restPos&&!r.activeEl.attr("data-pos")){r.activeEl.attr("data-pos",t.restPos)}}var u={};e.each(["ds","mind","maxd"],function(e,t){if(s[e])u[t]=i(s[e],o)});var a=r.get("strictMinDate"),f=r.get("strictMaxDate");if(u["mind"]||a){var l=(u["mind"]?u["mind"].getTime():-1)>(a?a.getTime():-1)?u["mind"]:a;r.set("minDate",l,false)}if(u["maxd"]||f){var l=(u["maxd"]?u["maxd"].getTime():Number.MAX_VALUE)>(f?f.getTime():Number.MAX_VALUE)?f:u["maxd"];r.set("maxDate",l,false)}r.set(null,null,true);r.activeEl.val(this.picker.args.today());var c=r.ui.validate();if(c&&!c["success"]&&n.get("forceCorrect")){r.select(u["ds"]);r.ui.drawDate=null;c=r.ui.validate()}c&&r.ui.updateTip(c);var h="Y";return h},select:function(e,t){var n=this.picker;this.parent.apply(this,arguments);this.selectedDate=e;this.drawDate=e;if(!t)this.autoCheck()},fuzzyInput:function(t){var n,r=t.target.value,i,s=S(r);if(s&&s.valid){this.fuzzyselect();n=this.picker.get("linkTo")||this.picker.get("refObj");i=n&&(!S(n.val())||n.val().indexOf("周")==-1||r.indexOf("周")==-1);i&&n.data(e.fdatepicker.ROOT_KEY).ui.setFuzzyDate(r)}},fuzzyselect:function(e,t){this.selectedDate=e;this.showText("");if(!t)this.autoCheck()},setFuzzyDate:function(e){var t=S(e),n=this.picker.activeEl.val();if(t){this.picker.activeEl.val(e);this.fuzzyselect(t.startDate)}else if(!S(n)&&this.picker.args.parseDate(n).getTime()>=this.picker.args.parseDate(e).getTime()){return}else{n=this.picker.args.plus(this.picker.args.parseDate(e),3);this.picker.activeEl.val(this.picker.args.formatDate(n));this.autoCheck()}},showText:function(e){var t=this.triggerEl.find(".dp-text");t.removeClass("errtext").html(e)},showErrText:function(e){var t=this.triggerEl.find(".dp-text");t.addClass("errtext").html(e)},autoCheck:function(){var e=this.picker,t,n;var r=e.activeEl.attr("data-pos");n=e.activeEl.val();t=S(n);if(t&&t.valid){this.checkLinked({pos:e.args.pos,restPos:r});e.args.pos="";return}var i=this.validate();if(!i["success"]&&e.get("forceCorrect")){this.setDate(this.getDefaultDate());this.updateTip(this.validate())}else{if(i["formatted"])e.activeEl.val(i["formatted"]);this.updateTip(i)}this.checkLinked({pos:e.args.pos,restPos:r});this.checkRefObj({pos:e.args.pos,restPos:r});e.args.pos=""},updateTip:function(e){if(!this.picker.get("showTip"))return;if(!e.success)this.showErrText(e.errmsg);else this.showText(e.daytip)},validate:function(){var e=this.picker;var t=this.picker.activeEl.val();var n=this.getDate();var r=this;if(n&&this.selectedDate&&this.selectedDate.getTime()!=n.getTime())this.selectedDate=null;var i="";if(n==null){i=e.get("LANG.ERR_FORMAT");e._trigger("q-datepicker-error",["FORMAT",t])}else{var s=e.get("minDate"),o=e.get("maxDate");if(s&&s.getTime()>n.getTime()||o&&o.getTime()<n.getTime()){i=e.get("LANG.OUT_OF_RANGE");e.args.pos="change";e._trigger("q-datepicker-error",["RANGE",t])}}var u={success:!i,errmsg:i,formatted:null,daytip:null};if(u["success"]){var f=e.get("formatDate")(n),l;switch(e.args.minuteDate(n)){case 0:if(!a)l="今天";break;case 1:l="明天";break;case 2:l="后天";break;default:l="周"+e.get("LANG.day_names")[n.getDay()];break}u["daytip"]=w[f]?w[f]["holidayName"]:l;u["formatted"]=f}return u},addRoundClass:function(e){if(e=="FROM")return this.picker.get("CLASS")["day_selected"];else if(e=="BACK"){return this.picker.get("CLASS")["day_round"]}else if(e=="AREAR"){return this.picker.get("CLASS")["day_area_bg"]}}});e.fn.fdatepicker=function(){if(this[0]){if(arguments.length>1&&this.data(r)){var e=this.data(r);if(arguments[0]==="option"||arguments[0]==="setting")return arguments.length>2?e.set(arguments[1],arguments[2]):e.get(arguments[1])}else if(arguments.length<=1){if(this.data(r)){this.data(r).dispose();this.removeData(r)}var t=new _(this[0],arguments[0]);this.data(r,t)}}return this};i=e.fdatepicker.calcTime})(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){function o(){this.onlyOne=false;this.config={TJ:{type:"特价机票"},DMT:{type:"国内机票"},INT:{type:"国际机票"}}}window.search_btn=n(14);var t,r,i;var s=function(e){var t="/track.htm?action=Qhome|"+e+"|&t="+Date.parse(new Date);(new Image).src=t};e.extend(o.prototype,{init:function(e,t,n){var r=this;var i=this.config[e];i.flt=t;if(n){i.mult=n}this.DMT=this.config["DMT"].flt;this.INT=this.config["INT"].flt;this.MULT=this.config["INT"].mult;this.TJ=this.config["TJ"].flt;this.fltType=i;this._bindEvents();window.searTrack=this},triggerMult:function(t,n,r){if(t.mults){this._type=t._type;e(this).trigger(n,r)}},_updateTime:function(t){var n=this;var r=t.activeEl.closest("form");var i=r;if(r.find("[name='searchType']:checked").val()=="MultiTripFlight"){i=t.activeEl.closest(".muti_control")}else if(r.find("[name='searchType']:checked").val()=="PriceTrend"){i=t.activeEl.closest("#js_pricetrend_triplist")}var s=i.find("input[name*=fromCity]").val();if(!s){s=""}if(window.QNR){var o=s.indexOf("(");if(o===-1){o=s.length}e.ajax({url:"//flight.qunar.com/twell/flight/inter/localdate",data:{depCity:decodeURI(s.substr(0,o))},dataType:"jsonp",success:function(e){if(!window.QNR){window.QNR={}}window.QNR.isLocal=e.isLocal;var t=e.localDate.replace(/-/g,"/");GSERVER_TIME=new Date(t);if(e.isLocal){n.fltType.flt.$fromDate.data("q-datepicker-fly").args.minDate=GSERVER_TIME}}})}},triggerNoData:function(){s("noDatalook")},_getCurType:function(){var t=e(".ch_search_tab .cur");var n=t.find("a").text();if(n.indexOf("国际")===0){n="international"}if(n.indexOf("国内")===0){n="domestic"}if(n.indexOf("特价")===0){n="tejia"}return n},_bindEvents:function(){this._bindFocusEvent();this._bindHomeClickBtn();this._bindhotCity();this._bindSelectSuggest();this._bindnoResult();this._bindHaveResult()},_bindHaveResult:function(){var n=this;var o=function(e,i){var o=i[1];var u=i[3];n.noflag=false;s(i.join("|")+"|"+r);if(o!==t&&!n.onlyOne){s("addItem_flag|"+u+"|"+r);n.onlyOne=true}};var u=function(e,t){i=t;n.notfind=true};e.each(this.config,function(t,n){n.flt&&e(n.flt.fromCitySuggest).bind("getResultData",o);n.flt&&e(n.flt.toCitySuggest).bind("getResultData",o)});e(this).bind("getResultData",o);this.MULT&&e(this.MULT.fromCitySuggest).bind("getResultData",o);this.MULT&&e(this.MULT.toCitySuggest).bind("getResultData",o);e(this).bind("haveData",u)},_bindnoResult:function(){var t=this;var n=function(e,n){if(!t.noflag&&!t.notfind){var o="suggest-nofind-noData|"+encodeURIComponent(n)+"|"+t._type+"|"+r;s(o);t.noflag=true;t.notfind=false}if(!t.noflag&&t.notfind){var o="suggest-nofind|"+encodeURIComponent(n)+"|"+i+"|"+t._type+"|"+r;s(o);t.noflag=true}};e.each(this.config,function(t,r){r.flt&&e(r.flt.fromCitySuggest).bind("suggest-nofind",n);r.flt&&e(r.flt.toCitySuggest).bind("suggest-nofind",n)});this.MULT&&e(this.MULT.fromCitySuggest).bind("suggest-nofind",n);this.MULT&&e(this.MULT.toCitySuggest).bind("suggest-nofind",n);e(this).bind("suggest-nofind",n)},_bindSelectSuggest:function(){var t=this;var n=function(e,n){if(!t.sflag){var i="suggest-selected|"+n+"|"+t._type+"|"+r;s(i);t.sflag=true}};e(this).bind("suggest-selected",n);e.each(this.config,function(t,r){r.flt&&e(r.flt.fromCitySuggest).bind("suggest-selected",n);r.flt&&e(r.flt.toCitySuggest).bind("suggest-selected",n)});this.MULT&&e(this.MULT.fromCitySuggest).bind("suggest-selected",n);this.MULT&&e(this.MULT.toCitySuggest).bind("suggest-selected",n)},_bindFocusEvent:function(){var n=this;r=n._getCurType();var o=function(){n.sflag=false;r=n._getCurType();if(this.value!==t&&this.value===""&&!n.deleteONE){s("deleteItem_flag|"+this.name+"|"+r);n.deleteONE=true}if(this.value!==t&&!n.onlyOne&&!n.deleteONE){s("addItem_flag|"+this.name+"|"+r);n.onlyOne=true}};var u=function(){n.onlyOne=false;n.deleteONE=false;n.noflag=false;n.outflag=false;n.notfind=false;n._type=this.name;t=this.value;e(this).keyup(o)};var a=function(){var e=this.name;var t=this;if(!n.outflag&&n.noflag&&!n.sflag){r=n._getCurType();var o="suggest-nofind|"+encodeURIComponent(this.value)+"|"+i+"|"+this.name+"|"+r;n.outflag=true;s(o)}};e.each(this.config,function(t,n){n.flt&&e(n.flt["$fromCity"]).focus(u);n.flt&&e(n.flt["$toCity"]).focus(u);n.flt&&e(n.flt["$fromCity"]).focusout(a);n.flt&&e(n.flt["$toCity"]).focusout(a)});this.MULT&&e(this.MULT.$form.find('input[name="fromCityMulti"]')).focus(u);this.MULT&&e(this.MULT.$form.find('input[name="toCityMulti"]')).focus(u);this.MULT&&e(this.MULT.$form.find('input[name="fromCityMulti"]')).focusout(a);this.MULT&&e(this.MULT.$form.find('input[name="toCityMulti"]')).focusout(a)},_bindHomeClickBtn:function(){var t=this;e.each(this.config,function(n,r){e(r.flt).bind("select_btn",function(){if(!t.onlyOne){search_btn();t.onlyOne=true}})})},_bindhotCity:function(){var t=this;e.each(this.config,function(t,n){e(n.flt).bind("no_exhitbit",function(e,t){s("no_exhitbit|"+t)})});e(this.MULT).bind("no_exhitbit",function(e,t){s("no_exhitbit|"+t)})}});return new o}(jQuery)}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(){var e=[];var t=false;var n=function(){e=[];var t=$(".ch_search_tab .cur");var n=t.find("a").text();if(n.indexOf("国际")===0){n="international"}if(n.indexOf("国内")===0){n="domestic"}if(n.indexOf("特价")===0){n="tejia"}var r=$(".crl_group");var i=$(".crl_group input:checked").map(function(e,t){return t.value});var s={subject:n,flightType:i[0],fromCity:r.find("input[name='fromCity']")[0].value,toCity:r.find("input[name='toCity']")[0].value,fromDate:r.find("input[name='fromDate']")[0].value,toDate:r.find("input[name='toDate']")[0].value};var o={subject:n,flightType:i[1],fromCity:r.find("input[name='fromCity']")[1].value,toCity:r.find("input[name='toCity']")[1].value,fromDate:r.find("input[name='fromDate']")[1].value,toDate:r.find("input[name='toDate']")[1].value};var u={subject:n,flightType:i[2],fromCity:r.find("input[name='fromCity']")[2].value,toCity:r.find("input[name='toCity']")[2].value,fromDate:r.find("input[name='fromDate']")[2].value};e.push(s,o,u)};var r=function(e){if(!t){var n="/track.htm?action=Qhome|search_BtnFlag|"+e+"|&t="+Date.parse(new Date);(new Image).src=n;t=true}};var i=function(e,t){for(var n=0;n<e.length;n++)t(e[n])};var s=function(e,t){var n=[];i(t,function(t){n.push(e(t))});return n};var o=function(e){var t=$(".more-line");if(e.flightType==="OnewayFlight"){delete e.toDate}if(e.flightType==="MultiTripFlight"){e.fromCity=s(function(e,t){if(!e.value)return"noArea";return e.value},$.makeArray(t.find("input[name='fromCityMulti']"))).join(",");e.toCity=s(function(e,t){if(!e.value)return"noArea";return e.value},$.makeArray(t.find("input[name='toCityMulti']"))).join(",");e.fromDate=s(function(e,t){if(!e.value)return"noArea";return e.value},$.makeArray(t.find("input[name='fromDateMulti']"))).join(",");delete e.toDate}};var u=function(){n();var t=$(".ch_search_tab .cur");var i=e[t.index()];o(i);var s=$.map(i,function(e){return encodeURIComponent(e)}).join("|");r(s)};var a=function(e){r(e)};return u}()}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports={HolidayData:{"2018-01-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"元旦",holidayClass:"yuandan"},"2018-01-24":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"腊八",holidayClass:"laba"},"2018-02-15":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"除夕",holidayClass:"chuxi"},"2018-02-16":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"春节",holidayClass:"chunjie"},"2018-04-05":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"清明",holidayClass:"qingming"},"2018-05-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"劳动",holidayClass:"laodong"},"2018-06-18":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"端午",holidayClass:"duanwu"},"2018-08-17":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"七夕",holidayClass:"qixi"},"2018-09-24":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"中秋",holidayClass:"zhongqiu"},"2018-10-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"国庆",holidayClass:"guoqing"},"2018-12-25":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"圣诞",holidayClass:"shengdan"},"2019-01-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"元旦",holidayClass:"yuandan"},"2019-01-13":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"腊八",holidayClass:"laba"},"2019-02-04":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"除夕",holidayClass:"chuxi"},"2019-02-05":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"春节",holidayClass:"chunjie"},"2019-02-19":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"元宵",holidayClass:"yuanxiao"},"2019-04-05":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"清明",holidayClass:"qingming"},"2019-05-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"劳动",holidayClass:"laodong"},"2019-06-07":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"端午",holidayClass:"duanwu"},"2019-08-07":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"七夕",holidayClass:"qixi"},"2019-09-13":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"中秋",holidayClass:"zhongqiu"},"2019-10-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"国庆",holidayClass:"guoqing"},"2019-12-25":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"圣诞",holidayClass:"shengdan"}},WorkHoliday:{work:["2015-02-15","2015-02-28","2015-09-06","2015-10-10"],vacation:["2015-02-18","2015-02-19","2015-02-20","2015-02-21","2015-02-22","2015-02-23","2015-02-24","2015-04-04","2015-04-05","2015-04-06","2015-05-01","2015-05-02","2015-05-03","2015-06-20","2015-06-21","2015-06-22","2015-09-03","2015-09-04","2015-09-05","2015-09-26","2015-09-27","2015-10-01","2015-10-02","2015-10-03","2015-10-04","2015-10-05","2015-10-06","2015-10-07"]},TransDateEx:{week:"周",day:"天",before:"前",after:"后"},fuzzyDate0:["暑假","抗战胜利日","中秋&国庆","双十一","圣诞","元旦","春节","寒假","清明","五一","端午","中秋","国庆"],fuzzyDate:{"1月":{valid:true},"2月":{valid:true},"3月":{valid:true},"4月":{valid:true},"5月":{valid:true},"6月":{valid:true},"7月":{valid:true},"8月":{valid:true},"9月":{valid:true},"10月":{valid:true},"11月":{valid:true},"12月":{valid:true},"暑假":{valid:true,value:"暑假",range:"92",endRange:"71",start:"2015-06-15",end:"2015-09-15",last:"2015-08-26",fuzzy:true},"抗战胜利日":{valid:true,value:"抗战胜利日",range:"9",endRange:"8",start:"2015-8-30",end:"2015-9-08",last:"2015-09-07",fuzzy:true},"中秋&国庆":{valid:true,value:"中秋&国庆",range:"22",endRange:"19",start:"2015-9-19",end:"2015-10-11",last:"2015-10-08",fuzzy:true},"双十一":{valid:true,value:"双十一",range:"8",endRange:"5",start:"2015-11-07",end:"2015-11-15",last:"2015-11-12",fuzzy:true},"圣诞":{valid:true,value:"圣诞",range:"11",endRange:"7",start:"2015-12-20",end:"2015-12-31",last:"2015-12-27",fuzzy:true},"元旦":{valid:true,value:"元旦",range:"11",endRange:"9",start:"2015-12-26",end:"2016-01-06",last:"2016-01-04",fuzzy:true},"春节":{valid:true,value:"春节",range:"20",endRange:"13",start:"2016-02-01",end:"2016-02-21",last:"2016-02-14",fuzzy:true},"寒假":{valid:true,value:"寒假",range:"36",endRange:"29",start:"2016-01-23",end:"2016-02-28",last:"2016-02-21",fuzzy:true},"清明":{valid:true,value:"清明",range:"9",endRange:"4",start:"2016-04-01",end:"2016-04-10",last:"2016-04-05",fuzzy:true},"五一":{valid:true,value:"五一",range:"11",endRange:"7",start:"2016-04-27",end:"2016-05-08",last:"2016-05-04",fuzzy:true},"端午":{valid:true,value:"端午",range:"14",endRange:"11",start:"2016-06-01",end:"2016-06-15",last:"2016-06-12",fuzzy:true},"中秋":{valid:true,value:"中秋",range:"11",endRange:"8",start:"2016-09-10",end:"2016-09-21",last:"2016-09-18",fuzzy:true},"国庆":{valid:true,value:"国庆",range:"15",endRange:"14",start:"2016-9-24",end:"2016-10-09",last:"2016-10-08",fuzzy:true}}}}).call(window)},function(e,t){(function(){function t(e){window.QReport&&window.QReport.ac({acId:e,acType:"click",time:+(new Date)})}function n(e,t){var n="https://touch.qunar.com/h5/train/TrainMonitor?";var r=n+"key=homenode_"+e+"&isSuccessful="+(t===false?"false":"true")+"&_t="+ +(new Date);var i=new Image;i.src=r}function r(e,t){n(e,t)}function i(e,t){var r=localStorage.getItem("log")||"{}";r=JSON.parse(r);var i=s();if(r){if(r.time===i){if(r.data.includes(e)){return false}else{r.data.push(e)}}else{localStorage.removeItem("log");r={time:i,data:[e]}}}else{r.time=i;r.data=[e]}localStorage.setItem("log",JSON.stringify(r));e+="_uv";n(e,t)}function s(){var e=new Date;var t=e.getFullYear();var n=e.getMonth()+1;var r=e.getDate();if(n>=1&&n<=9){n="0"+n}if(r>=0&&r<=9){r="0"+r}var i=t+"-"+n+"-"+r;return i}function o(e,n){r(e,n);i(e,n);t(e)}var e=typeof e==="function"&&!e.amd?e:false;if(!Array.prototype.includes){console.log("不支持 includes");Object.defineProperty(Array.prototype,"includes",{value:function(e,t){function o(e,t){return e===t||typeof e==="number"&&typeof t==="number"&&isNaN(e)&&isNaN(t)}if(this==null){throw new TypeError('"this" is null or not defined')}var n=Object(this);var r=n.length>>>0;if(r===0){return false}var i=t|0;var s=Math.max(i>=0?i:r-Math.abs(i),0);while(s<r){if(o(n[s],e)){return true}s++}return false}})}else{console.log("支持 includes")}window.sendPv=r;window.sendUv=i;window.sendPvAndUv=o}).call(window)},function(e,t,n){(function(){function t(e,t,r){function E(e,t){e=e==null?"":e+"";for(var n=0,r=t-e.length;n<r;n++)e="0"+e;return e}function x(t){if(e.inArray(t,v.work)>-1){return'<span class="ban">班</span>'}else if(e.inArray(t,v.vacation)>-1){return"<span>休</span>"}else{return""}}function T(e){var t=window.SERVER_TIME||new Date;var n=y[e];if(n&&!n.fuzzy){var r;if(n.range){r=n.range}else if(/^\d{1,2}月$/.test(e)){var i=parseInt(e.replace("月",""))-1,s=t.getMonth(),o=i<s?t.getFullYear()+1:t.getFullYear(),u=i==s?t:new Date(o,i,1),a=new Date(o,i,(new Date(o,i+1,0)).getDate()),r=parseInt(Math.abs(new Date(b.formatDate(a).replace(/-/g,"/"))-new Date(b.formatDate(u).replace(/-/g,"/")))/1e3/60/60/24)}n.startDate=new Date(u.getTime());n.endDate=new Date(u.getTime()+r*24*3600*1e3)}if(n&&n.fuzzy){n.startDate=C(n.start);n.endDate=C(n.end);n.lastDate=C(n.last)}return n}function N(){return g}function C(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}function k(e){var t={};for(var n in e){var r=n;var i=e[n];t[n]=i;var s="";var o="";if(i.beforeTime>0){for(var u=1;u<=i.beforeTime;u++){var a={};var f=new Date(C(r).getTime()-u*24*3600*1e3);var l=L(f);a.holidayName=i.holidayName+m.before+u+m.day;a.dayindex=i.dayindex;if(!t[l]){t[l]=a}else{if(i.dayindex>t[l].dayindex&&t[l].beforeTime==null){t[l]=a}}}}if(i.afterTime>0){for(var u=1;u<=i.afterTime;u++){var a={};var c=new Date(C(r).getTime()+u*24*3600*1e3);var h=L(c);a.holidayName=i.holidayName+m.after+u+m.day;a.dayindex=i.dayindex;if(!t[h]){t[h]=a}else{if(i.dayindex>t[h].dayindex&&t[L(new Date(f))].afterTime==null){t[h]=a}}}}}return t}function L(e){if(typeof e=="number"){e=new Date(e)}return e.getFullYear()+"-"+A(e.getMonth()+1)+"-"+A(e.getDate())}function A(e){return e<10?"0"+e:e}function O(e){e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e}function M(e){var t=e.offset();t["top"]+=e.outerHeight();return t}function _(n){var r;if(n&&!n.nodeType)r=t.event.fix(n||window.event).target;else r=n;if(!r)return null;var i=e(r).parents("."+s);return i.size()>0?i.eq(0).data(s):null}function D(){}function P(e,t){if(!this.init)return new P(e,t);else return this.init(e,t)}window.searchTrack=n(13);var i=r;e.fdatepicker_train={};var s=e.fdatepicker_train.ROOT_KEY="q-datepicker-fly";var o;var u;var a;var f=[];var l=false;var c=0;var h=0;var p=i;var d=p.HolidayData;var v=p.WorkHoliday;var m=p.TransDateEx;var g=p.fuzzyDate0;var y=p.fuzzyDate;var b={LANG:{prev:"",next:"",day_names:["日","一","二","三","四","五","六"],OUT_OF_RANGE:"超出范围",ERR_FORMAT:"格式错误"},CLASS:{group:"g",header_mc:"m-h",header:"h",cld_mc:"m-c",cld_wp:"c-wp",calendar:"c",next:"e-n",prev:"e-p",title:"t",week:"w",month:"cm_",prc_wp:"m-p",tax_wp:"e-t",day_default:"st",day_selected:"st-a",day_othermonth:"st-s",day_today:"st-t",day_hover:"st-h",day_disabled:"st-d",day_round:"st-a-r",day_holiday:"st-holi-",day_area_bg:"st-area"},WEEKDAYS:7,STARTDAY:1,showOtherMonths:false,defaultDay:"",disabledDays:"",customClass:"",customActiveClass:"",multi:2,showTip:true,linkTo:null,linkRules:"",refObj:null,forceCorrect:true,loadMonthStore:[],dataStore:{},leftBtn:null,rightBtn:null,curMonthMove:{},cldWrap:null,hasTax:false,formatTitle:function(e){return e.getFullYear()+"年"+(e.getMonth()+1)+"月"},showOnInit:false,showOnFocus:false,container:null,minDate:null,maxDate:null,ui:null,sDay:null,endDay:null,pos:"",parseDate:function(e){var t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);return t?new Date(t[1],t[2]*1-1,t[3]):null},formatDate:function(e){return e.getFullYear()+"-"+E(e.getMonth()+1,2)+"-"+E(e.getDate(),2)},minuteDate:function(e){var t=window.SERVER_TIME||new Date;t=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate());return(e-t)/(24*60*60*1e3)},today:function(){var e=window.SERVER_TIME||new Date;e=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate());return this.formatDate(e)},plus:function(e,t){return new Date(e.getTime()+t*24*60*60*1e3)}};var w=function(){var n=this;for(var r=0,i=arguments.length;r<i;r++)e.each(arguments[r],function(e,r){var i;if(n.prototype[e]&&t.isFunction(n.prototype[e]))i=n.prototype[e];n.prototype[e]=r;if(i)n.prototype[e]["_PARENT_"]=i});if(!n.prototype["parent"])n.prototype["parent"]=function(){return arguments.callee.caller["_PARENT_"].apply(this,arguments)}};var S=k(d);D.implement=w;e.extend(D.prototype,{isUI:1,init:function(){var t=this,n=this.picker,r=n.ns;t.attachedEl=t.attachedEl||new e;e(document).bind("mousedown."+r,function(e){var r,i;if(n.activeEl[0]===e.target&&(r=1)||t.attachedEl.index(e.target)!=-1&&(r=2)){if(!n.visible()){i=T(n.activeEl.val());t.drawDate=i?i.startDate:t.drawDate;setTimeout(function(){n.show(t.getDate())},0)}else{n.hide()}if(r==2)n.activeEl.focus();return}var s;if((s=_(e))&&s.key===n.key)return;else n.hide()});var i=function(){if(!n.get("container"))n.getContainer().css(M(n.activeEl))};i();e(window).bind("load."+r+" resize."+r,i);n.activeEl.bind("focus."+r,function(e){if(n.get("showOnFocus"))n.show(t.getDate())});n.activeEl.bind("keydown."+r,function(e){switch(e.keyCode){case 40:t.setDate(new Date(t.getDate().getTime()+24*60*60*1e3));var r=t.validate();if(!r.success){return}n.show(t.getDate());break;case 38:t.setDate(new Date(t.getDate().getTime()-24*60*60*1e3));var r=t.validate();if(!r.success){return}n.show(t.getDate());break;case 9:case 27:n.hide();break;default:t.onKeyDown(e)}})},_init:function(e){this.picker=e},select:function(e){this.picker.activeEl.val(this.picker.args.formatDate(e));this.picker.activeEl.trigger("chooseDown")},posHandler:function(e,t){var n=this.picker.activeEl.attr("data-pos"),r=e,i,s=t.parseDate(this.picker.activeEl.val()),o=s?s.getMonth():(window.SERVER_TIME||new e).getMonth();i=new Date(r);i.setDate(1);return i},change:function(t,n,r){var i=this;var s=i.picker.args,o=s.leftBtn,u=s.rightBtn,a=s.cldWrap;var f=i.picker.get("minDate"),l=i.picker.get("maxDate");var c=r=="+1M"?false:true;var p=new Date(new Date(n.getFullYear(),n.getMonth(),1));var d=s.parseDate(s.formatDate(p));var v=s.parseDate(s.formatDate(p));v.setMonth(v.getMonth()+1);s.curMonthMove=c?d:v;if(e.inArray(s.curMonthMove.getMonth(),s.loadMonthStore)==-1){i.drawNewMonth(c,s.curMonthMove);i.picker._trigger("q-datepicker-change-prc",[t,p,r]);c?a.css({left:"-="+h+"px"}):"";s.loadMonthStore.push(s.curMonthMove.getMonth())}else if(s.loadMonthStore.length==12){var m=a.find(".c");var g=c?m.last().data("month"):m.first().data("month");if(s.curMonthMove.getMonth()==g){c?m.last().remove():m.first().remove();i.drawNewMonth(c,s.curMonthMove);i.picker._trigger("q-datepicker-change-prc",[t,p,r]);c?a.css({left:"-="+h+"px"}):a.css({left:"+="+h+"px"})}}if(c){!f||f.getFullYear()<t.getFullYear()||f.getFullYear()===t.getFullYear()&&f.getMonth()<t.getMonth()-1?o.removeClass("e-dis"):o.addClass("e-dis");u.removeClass("e-dis")}else{var y,b;if(l){b=l.getMonth()-1;if(b<0){b=11;y=l.getFullYear()-1}else{y=l.getFullYear()}}!l||y>t.getFullYear()||y===t.getFullYear()&&b>t.getMonth()+1?u.removeClass("e-dis"):u.addClass("e-dis");o.removeClass("e-dis")}},renderDateWraper:function(t){var n=this;n.drawDate=t;O(t);var r=n.picker.getContainer(),i=n.picker.args,s=i["CLASS"],o=i["LANG"],u=i.hasTax,a=i.minDate,f=i.maxDate;var l=[];i.dataStore={};i.loadMonthStore.length=0;l.push('<div class="'+s["group"]+'" style="display:none;">');l.push('<div class="'+s["header_mc"]+'">');l.push('<p class="'+s["next"]+"",!f||f.getFullYear()>t.getFullYear()||f.getFullYear()===t.getFullYear()&&f.getMonth()>t.getMonth()+1?"":" e-dis",'"><span href="#" class="icon_arr_right" onclick="FQDP.change( event , \'+1M\' );return false;">',o["next"],"</span></p>");l.push('<p class="'+s["prev"]+"",!a||a.getFullYear()<t.getFullYear()||a.getFullYear()===t.getFullYear()&&a.getMonth()<t.getMonth()?"":" e-dis",'"><span href="#" class="icon_arr_left" onclick="FQDP.change( event , \'-1M\' );return false;">',o["prev"],"</span></p>");l.push("</div>");l.push('<div class="'+s["cld_mc"]+'">');l.push('<div class="'+s["cld_wp"]+'">');l.push("</div>");l.push("</div>");l.push('<div class="'+s["prc_wp"]+'">');l.push('<div class="e_r">');if(n.picker.isSupportPrc){l.push('    <div class="'+s["tax_wp"]+' js_prc_change" style="display:none;">');l.push('        <span class="'+(u?"":"cur")+'" data-set="">未含税</span><span class="'+(u?"cur":"")+'" data-set="tax">含税总价</span>');l.push("    </div>")}if(window.QNR.isLocal){l.push("    当前为出发地时间")}l.push("</div>");n.picker.isFuzzy&&l.push(n._drawFuzzyDate());l.push("</div>");l.push("</div>");e(l.join("")).appendTo(r.empty()).show();i.leftBtn=r.find("."+s["prev"]);i.rightBtn=r.find("."+s["next"]);i.cldWrap=r.find("."+s["cld_wp"]);n.picker.isFuzzy&&window.QNR.isLocal&&n.bindFuzzyEvent(r)},bindFuzzyEvent:function(t){var n=t.find(".js_fuzzy_wp .m-fuzzy-box").width();t.find(".js_fuzzy_wp").addClass("e_fuzzy_w").bind("mouseenter",function(t){var n=e(this).parent().width()+15;e(this).find(".m-fuzzy-box").animate({width:n+"px"},200)}).bind("mouseleave",function(){e(this).find(".m-fuzzy-box").animate({width:n+"px"},200)})},renderPanelHTML:function(e,t){var n=this;var r=n.picker.args,i=r.multi,s=r["CLASS"];var o=[],u;u=n.posHandler(e,r);for(var a=0;a<t;a++){o.push('<div class="'+s["calendar"]+'" data-month="'+u.getMonth()+'">');o.push(n._drawTitle(u));o.push(n._drawBody(u));o.push("</div>");u.setMonth(u.getMonth()+1)}return o.join("")},drawPanel:function(t){var n=this;var r=n.picker.args,i=n.picker.args.cldWrap;var s=n.renderPanelHTML(t,r.multi);i.empty().append(e(s));n.picker.selectUi()},drawNewMonth:function(t,n){var r=this;var i=r.picker.args.cldWrap;var s=r.renderPanelHTML(n,1);t?e(s).prependTo(i):e(s).appendTo(i)},draw:function(t){var n=this;var r=n.picker.args;var i=T(n.picker.activeEl.val());r.activeDate=r.parseDate(n.picker.activeEl.val())||i&&i.startDate;n.renderDateWraper(t);n.drawPanel(t);h=e(n.picker.args.cldWrap.find(".c")[0]).width();r.loadMonthStore.push(t.getMonth(),t.getMonth()+1==12?0:t.getMonth()+1)},dispose:function(){var t="."+this.picker.ns;e(document).unbind(t);e(window).unbind(t)},getDate:function(){var e=this.picker.activeEl.val();var t=T(e);var n=t&&t.valid?t.startDate:this.picker.get("parseDate")(e);return n!=n?null:n},setDate:function(e){this.picker.activeEl.val(this.picker.get("formatDate")(e))},onBeforeDraw:function(e){var t=this;var n=function(e,t){if(e.getFullYear()>t.getFullYear())return 1;else if(e.getFullYear()===t.getFullYear())return(e.getMonth()-t.getMonth())/(Math.abs(e.getMonth()-t.getMonth())||1);else return-1};if(this.selectedDate&&this.drawDate)e.setTime(this.drawDate.getTime());else{var r=this.picker,i=r.get("minDate"),s=r.get("maxDate"),o=r.get("multi");var u=new Date(e.getFullYear(),e.getMonth()+o-1,1);if(s&&n(u,s)>0)for(var a=1;s&&o&&o>1&&o-a>0;a++){u=new Date(e.getFullYear(),e.getMonth()+o-a-1,1);if(n(u,s)<=0){u.setMonth(u.getMonth()-o+1);break}}else u=null;if(u&&(!i||u.getTime()>=i.getTime()))e.setTime(u.getTime())}},onKeyDown:function(e){},onSet:function(){this.selectedDate=null},_drawTitle:function(e){var t=this.picker.args;var n=t["CLASS"];var r=[];r.push('<div class="'+n["header"]+'">');r.push('<div class="'+n["title"]+'">',t.formatTitle(e),"</div>");r.push("</div>");return r.join("")},_drawBody:function(t){var n=this.picker.args,r=n["STARTDAY"],i=n["WEEKDAYS"],s=n["LANG"],o=n["CLASS"],u=n.activeDate,a=n.minDate,f=n.maxDate;if(u&&u!=u)u=null;var l=window.SERVER_TIME||new Date;var c=[];c.push('<div class="thwrap"><table cellspacing="0" cellpadding="0" border="0"><thead><tr>');for(var h=0;h<i;h++){var p=(r+h)%i;c.push('<th class="'+o["week"]+p+'">',s["day_names"][p]||"","</th>")}c.push("</tr></thead></table></div>");c.push('<div class="tdwrap"><table cellspacing="0" cellpadding="0" border="0"><tbody>');var v=[];var m=t.getFullYear(),g=t.getMonth()+1;var y=new Date(m,g-1,1);var b=1,w=(new Date(m,g,0)).getDate();var E=y.getDay()-r;while(E<0)E+=i;var S=b-E;var T=i-((1-S+w)%i||i)+w;for(var h=S,N=0;h<=T;h++,N++){var C=new Date(m,g-1,h);var k=n.formatDate(C);if(N%i==0)v.push("</tr>","<tr>");var p=(r+N)%i;v.push('<td class="'+o["week"]+p+" "+o["day_default"]);var L=false;if(e.grep(["getFullYear","getMonth","getDate"],function(e){return C[e]()==l[e]()}).length==3)v.push(" "+o["day_today"]);if(u!=null&&u.getTime()==C.getTime())v.push(" "+o["day_selected"]);var A=false;if(h<1||h>w){v.push(" "+o["day_othermonth"]);A=true}var O=n.formatDate(C).replace(/-/g,"")*1;var M=a&&n.formatDate(a).replace(/-/g,"")*1;var _=f&&n.formatDate(f).replace(/-/g,"")*1;if(a&&O<M||f&&O>_||~n.disabledDays.toString().indexOf(k)){if(!A){v.push(" "+o["day_disabled"])}L=true}var D=this._getDateClass(C);if(D&&!A)v.push(" "+D);v.push('"');if(!L){v.push(' onclick="FQDP.select(event,new Date('+C.getFullYear()+","+C.getMonth()+","+C.getDate()+"));");var P=e("#js_searchbox_train").attr("style");var H=e("#js_searchbox_freetrip").attr("style");if(P.indexOf("display:none")===-1&&P.indexOf("display: none")===-1){v.push("newClkObj.nanachiClk('2_3_1a');",'return false;"')}else if(H.indexOf("display:none")===-1&&H.indexOf("display: none")===-1){v.push("newClkObj.nanachiClk('",e(".js_arrival_box").hasClass("hidden")?"2_8_1b":"2_8_1a","');",'return false;"')}}if(!L&&!A){v.push(" data-sort="+n.minuteDate(C)+">")}else{v.push('data-info = "disable">')}if(!A||n.showOtherMonths){var B=d[k];v.push('<div class="t-d">');if(!B||B&&B.holidayClass!=="double"){v.push('   <div class="d-t">');v.push(x(k));v.push("    </div>")}v.push('<span class="');dateText=C.getDate();if(!L&&B&&B.holidayClass){v.push(" "+o["day_holiday"]+"default");v.push(" "+o["day_holiday"]+B.holidayClass);if(B.holidayClass==="double"){var j=B.holidayName.indexOf("/")?B.holidayName.split("/"):[];dateText="<div>"+j[0]+"</div><div>"+j[1]+"</div>"}else{dateText=B.holidayName}}v.push('">');var F=window.SERVER_TIME||new Date;if(C.getMonth()===F.getMonth()&&C.getFullYear()===F.getFullYear()&&dateText===F.getDate()&&n.minuteDate(C)===0){dateText="今天"}v.push(dateText);v.push("</span>");v.push("</div>")}else{v.push("&nbsp;")}v.push("</td>")}c.push(v.length>0?v.slice(1,-1).join(""):"");if(E+T<=35){c.push("<tr>");for(var h=0;h<i;h++){c.push('<td class="w3 st st-s" data-info="disable">&nbsp;</td>')}c.push("</tr>")}c.push("</tbody></table></div>");return c.join("")},_drawFuzzyDate:function(){var t=[],n=this,r,i,s;var o=0;t.push('<div class="e_fuzzy '+(window.QNR.isLocal?"e_fuzzy_w ":"")+'js_fuzzy_wp">');t.push('<i class="icon_arr_f"></i>');t.push('<div class="m-fuzzy-box">');t.push(' <ul class="m-fuzzy-lst clrfix">');i=n.picker.activeEl.val();r=T(i)?i:"";s=N();var u=this.picker.args;var a=window.SERVER_TIME||new Date,f=a.getMonth(),l=a.getFullYear();for(var c=0;c<5;c++){month=f+c;if(month>12){month-=12;year=l+1}else{year=l}start=c==0?a:new Date(year,month,1);end=new Date(year,month,(new Date(year,month+1,0)).getDate());label=start.getMonth()+1+"月";val=u.formatDate(start).replace(/-/g,"/");iDays=parseInt(Math.abs(new Date(u.formatDate(end).replace(/-/g,"/"))-new Date(u.formatDate(start).replace(/-/g,"/")))/1e3/60/60/24);t.push('<li data-value="',label,'" data-range="',iDays,'"');t.push('onclick="FQDP.fuzzyselect(event,new Date('+(new Date(val)).getFullYear()+","+(new Date(val)).getMonth()+","+(new Date(val)).getDate()+"));",'return false;"');t.push(">",label,"</li>");o++}e.each(s,function(e,n){var i=T(n);_class=r==n?"st-h":"";if(n=="抗战胜利日"||n=="中秋&国庆"){_class+=" st-w"}if(i.lastDate>SERVER_TIME&&o<9){t.push('<li data-value="',i.value,'" class="',_class,'" data-range="',i.range,'"');t.push('onclick="FQDP.fuzzyselect(event,new Date('+i.startDate.getFullYear()+","+i.startDate.getMonth()+","+i.startDate.getDate()+"));",'return false;"');t.push(">",n,"</li>");o++}});t.push(" </ul>");t.push("</div>");t.push("</div>");return t.join("")},_getDateClass:function(t){var n=this.picker.args;var r=n.formatDate(t);var i="";var s=this.picker.activeEl.val();var o=T(s);var u=o?n.formatDate(o.startDate):s;var a=parseInt(r.replace(/-/g,""),10);var f=parseInt(u.replace(/-/g,""),10);var l,c,h,p,v,m,g;var y=this.picker.activeEl.attr("name")=="fromDateMulti";if(this.picker.get("linkTo")&&!y){m=this.picker.get("linkTo").data(e.fdatepicker_train.ROOT_KEY);l=m.activeEl.val();c=T(l);h=c?n.formatDate(c.endDate):l;v=parseInt(u.replace(/-/g,""));ecurrVal=parseInt(h.replace(/-/g,""));n.sDay=u;n.endDay=h;if(typeof s!="undefined"&&a==v){i=this.addRoundClass("FROM")}if(m){if(typeof m.activeEl.val()!="undefined"&&a==ecurrVal){i=this.addRoundClass("BACK")}}if(a<ecurrVal&&a>v){i=this.addRoundClass("AREAR")}}else if(this.picker.get("refObj")){g=this.picker.get("refObj").data(e.fdatepicker_train.ROOT_KEY);l=g.activeEl.val();c=T(l);h=c?n.formatDate(c.startDate):l;u=o?n.formatDate(o.endDate):s;v=parseInt(h.replace(/-/g,""));ecurrVal=parseInt(u.replace(/-/g,""));n.sDay=h;n.endDay=u;if(typeof this.picker.activeEl.val()!="undefined"&&a==ecurrVal){i=this.addRoundClass("BACK")}if(g){if(typeof g.activeEl.val()!="undefined"&&a==v){i=this.addRoundClass("FROM")}}if(a>v&&a<ecurrVal){i=this.addRoundClass("AREAR")}}else if(o&&a>=f){ecurrVal=parseInt(n.formatDate(o.endDate).replace(/-/g,""));v=parseInt(n.formatDate(o.startDate).replace(/-/g,""));n.sDay=n.formatDate(o.startDate);n.endDay=n.formatDate(o.endDate);if(a<ecurrVal){i=this.addRoundClass("AREAR")}if(a==ecurrVal){i=this.addRoundClass("BACK")}if(a==v){i=this.addRoundClass("FROM")}}if(d[r])i+=" "+"holi";return e.trim(i)}});window.FQDP={};e.each(["select","change","_trigger","fuzzyselect"],function(e,t){window.FQDP[t]=function(){l=false;if(!arguments[0])return;var e=_(arguments[0]);if(e&&e[t]){if(t==="select"||t==="fuzzyselect"){return e[t].apply(e,Array.prototype.slice.call(arguments))}else{return e[t].apply(e,Array.prototype.slice.call(arguments,1))}}}});e.extend(P.prototype,{init:function(t,n){n=n||{};if(n["ui"]){if(n["ui"]["isUI"])this.ui=n["ui"];else if(typeof n["ui"]=="string"&&e.fdatepicker_train.uis[n["ui"]])this.ui=new e.fdatepicker_train.uis[n["ui"]]}if(!this.ui)this.ui=new D;this.ui._init(this);n=this.args=e.extend(true,{},b,n||{});this.key=++c;var r=this.ns=s+this.key;var i=this.activeEl=e(t);this.el=e('<div class="'+s+'"></div>').appendTo(i.parent()||document.body).hide();e(this.el).data(s,this);this.ui.init();this.lastShowedDate=null;this.showedDate=null;if(n["showOnInit"])this.show();e.each(n["on"]||{},function(e,t){i.bind(e+"."+r,t)});return this},_trigger:function(){this.activeEl.triggerHandler.apply(this.activeEl,arguments)},select:function(){if(arguments.length>1){var t=arguments[0]||window.event;date=arguments[1]}else{var t=t||window.event;date=arguments[0]}if(t){var n=t.srcElement?t.srcElement:t.target;if(e(n).parents("."+this.args.CLASS["calendar"]).data("index")===1){this.activeEl.attr("data-pos","right")}if(e(n).parents("."+this.args.CLASS["calendar"]).data("index")===0){this.activeEl.attr("data-pos","left")}}this.ui.select(date);this.hide();this._trigger("q-datepicker-select",[date])},setFuzzy:function(e){this.isFuzzy=e},fuzzyselect:function(){var t=function(t){e(f).each(function(e,n){n.fuzzyInput(t);n.autoCheck.call(n)})};e(f).each(function(e,n){n.picker.activeEl.bind("blur."+n.picker.ns,t)});var n=arguments[0].srcElement||arguments[0].target,r,i;this.activeEl.attr("data-pos","left");i=e(n).data("value");l=true;this.activeEl.val(i);a=n;this.ui.fuzzyselect(arguments[1]);this.hide();if(this.get("linkTo")){r=this.get("linkTo").data(e.fdatepicker_train.ROOT_KEY);r.activeEl.val(i)&&r.ui.fuzzyselect(arguments[1])}else if(this.get("refObj")){r=this.get("refObj").data(e.fdatepicker_train.ROOT_KEY);if(r.activeEl.val().indexOf("周")!=-1&&i.indexOf("周")!=-1){return}r.activeEl.val(i);r.ui.fuzzyselect(arguments[1])}this.activeEl.val(i)},_selectTd:function(t,n,r){for(var i=parseInt(t),s=n;i<s;i++){e("td[data-sort='"+i+"']:not('.st-d')").addClass(b.CLASS["day_area_bg"])}},selectUi:function(){var t=this,n,r,i,s,o,u,l;l=t.activeEl.val();var c=t.args.minuteDate(new Date(l.replace(/-/g,"/")));var h=t.activeEl[0]["id"];var p=T(l);var d=this.el;s=this.args;if(s.sDay)r=s.minuteDate(new Date(s.sDay.replace(/-/g,"/")));if(s.endDay)i=s.minuteDate(new Date(s.endDay.replace(/-/g,"/")));var v=d.find("td[data-sort='"+r+"']"),m=d.find("td[data-sort='"+i+"']");d.undelegate(".fly").delegate('td:not(".st-d")',{"mouseenter.fly":function(u){if(e(this).data("info")==="disable"){return}if(T(t.activeEl.val())){e(this).addClass(s.CLASS["day_hover"]);return}e(this).addClass(s.CLASS["day_hover"]);o=e(this).parents(".ch_sch_form");if(!T(t.activeEl.val())&&o.find("[data-type = 'oneWay']").length<1){n=parseInt(e(this).attr("data-sort"));if(r===i&&c===r&&t.activeEl.attr("name")==="fromDate"&&n>i){return}if(r===i&&c===r&&t.activeEl.attr("name")==="toDate"){m.addClass(s.CLASS["day_selected"]+" "+b.CLASS["day_round"])}if(n>r-1&&n<i+1){d.find("td").removeClass(s.CLASS["day_area_bg"]);if(c===i){m.removeClass(s.CLASS["day_selected"]).removeClass("st-a-r");t._selectTd(r+1,n)}else{v.removeClass(s.CLASS["day_selected"]);t._selectTd(n+1,i)}}if(n<r){if(c===i){}else{d.find("td").removeClass(s.CLASS["day_area_bg"]);v.removeClass(s.CLASS["day_selected"]);t._selectTd(n+1,i)}}if(n>i){d.find("td").removeClass(s.CLASS["day_area_bg"]);if(c===i){t._selectTd(r+1,n)}else{d.find("td.st-a").removeClass("st-a")}}}},"mouseleave.fly":function(){if(e(this).data("info")==="disable"){return}if(T(t.activeEl.val())){e(this).removeClass(s.CLASS["day_hover"]);return}e(this).removeClass(s.CLASS["day_hover"]);if(!p&&o&&o.find("[data-type = 'oneWay']").length<1){d.find("td").removeClass(s.CLASS["day_area_bg"]);v.addClass(s.CLASS["day_selected"]);m.addClass(s.CLASS["day_round"]);t._selectTd(r+1,i)}}});d.find('li:not(".st-h")').unbind().bind("mouseover",function(){e(f).each(function(e,t){t.picker.activeEl.unbind("blur")});e(this).addClass(s.CLASS["day_hover"]);var n,r;var u=1,a=e(this).attr("data-range");var l=d.find(".st-a");if(l.length===0){l=d.find(".st-a-r")}d.find(".st-a").removeClass("st-a");d.find(".st-area").removeClass("st-area");d.find(".st-a-r").removeClass("st-a-r");var h=e(this).attr("onclick").match(/\d+/g);var p=new Date(h[0],h[1],h[2]);u=b.minuteDate(p);o=e(this).parents(".ch_sch_form");if(o.find("[data-type = 'oneWay']").length<1){d.find("td").removeClass(s.CLASS["day_area_bg"]);v.removeClass(s.CLASS["day_selected"]);m.removeClass(s.CLASS["day_selected"]+" "+b.CLASS["day_round"])}else{c&&d.find("td[data-sort='"+c+"']").removeClass(s.CLASS["day_selected"]);i&&m.removeClass(s.CLASS["day_selected"]+" "+b.CLASS["day_round"])}if(u!==1){t._selectTd(parseInt(u)+1,parseInt(u)+parseInt(a));d.find("td[data-sort='"+(parseInt(u)+parseInt(a))+"']").addClass(s.CLASS["day_round"])}else{if(l.find("span").text()==="今天"){u=1;t._selectTd(2,a)}else{t._selectTd(2,a)}d.find("td[data-sort='"+a+"']").addClass(s.CLASS["day_round"])}d.find("td[data-sort='"+u+"']").addClass(s.CLASS["day_round"])}).bind("mouseout",function(n){var u=e(".st-h");var f=d.find(".st-a");var l=d.find(".st-area");var h=e(".st-t").find("span").text();var p;if(u.length>1){f.removeClass("st-a");l.removeClass("st-area");d.find(".st-a-r").removeClass("st-a-r");if(a){var g=e(a).attr("onclick").match(/\d+/g)}else{var g=u.eq(1).attr("onclick").match(/\d+/g)}var y=new Date(g[0],g[1],g[2]);var w=e(this).attr("data-range");var E=b.minuteDate(y);p=d.find("td[data-sort='"+E+"']");p.addClass(s.CLASS["day_round"]);t._selectTd(parseInt(E)+1,parseInt(E)+parseInt(w));d.find("td[data-sort='"+(parseInt(E)+parseInt(w))+"']").addClass(s.CLASS["day_round"])}else{if(h==="今天"){var E=0}else{var E=1}p=d.find("td[data-sort='"+E+"']")}f.removeClass("st-a");l.removeClass("st-area");d.find(".st-a-r").removeClass("st-a-r");var w=e(this).attr("data-range");o=e(this).parents(".ch_sch_form");e(this).removeClass(s.CLASS["day_hover"]);d.find("td").removeClass(s.CLASS["day_area_bg"]);p.addClass(s.CLASS["day_round"]);if(o.find("[data-type = 'oneWay']").length<1){v.addClass(s.CLASS["day_selected"]);m.addClass(s.CLASS["day_round"]);t._selectTd(r+1,i)}else{c&&d.find("td[data-sort='"+c+"']").addClass(s.CLASS["day_selected"]);!c&&t._selectTd(r+1,i);i&&m.addClass(s.CLASS["day_round"]);c&&d.find(".st-a-r").removeClass("st-a-r")}r!=E&&p.removeClass(s.CLASS["day_round"]);i!=w&&d.find("td[data-sort='"+w+"']").removeClass(s.CLASS["day_round"]);!c&&p.addClass(s.CLASS["day_round"])})},set:function(t,n,r){if(!this.ui.onSet||this.ui.onSet(t,n,r)===false)return;if(typeof t==="string"){var i=false;switch(t){case"container":this.el.appendTo(e(n).find(".qcbox-fixed")||document.body);this.el.css({top:"",left:""});break}for(var s=0,o=t.split("."),u=o.length,a=this.args;s<u&&(s!==u-1&&(a[o[s]]||(a[o[s]]={}))||(a[o[s]]=n));a=a[o[s]],s++){}}if(r&&this.visible()){this._show(this.showedDate)}},get:function(e){for(var t=0,n=this.args,r=e.split("."),i=r.length;t<i&&(n=n[r[t]]);t++){}return n},change:function(e){var t=this;var n=t.args.cldWrap;if(e=="-1M"&&t.args.leftBtn.hasClass("e-dis")){return}else if(e=="+1M"&&t.args.rightBtn.hasClass("e-dis")){return}if(t._scrolling){return}var r=typeof e==="string"?o(e,this.showedDate):e;var i=this.showedDate;this.lastShowedDate=this.showedDate;this.showedDate=r;this.ui.change(i,r,e);this._trigger("q-datepicker-change",[i,r,e]);t._scrolling=true;var s=e=="-1M"?"+=":"-=";n.animate({left:s+h+"px"},"50",function(){t._scrolling=false})},show:function(e){var t=this;var n,r=t.get("minDate"),i=t.get("maxDate");searchTrack._updateTime(t);setTimeout(function(){if(!e)Ctime=window.SERVER_TIME||new Date;else Ctime=e;n=new Date(Ctime.getFullYear()+"/"+(Ctime.getMonth()+1)+"/"+Ctime.getDate());if(r&&n.getTime()<r.getTime())n.setTime(r.getTime());else if(i&&n.getTime()>i.getTime())n.setTime(i.getTime());t.ui.onBeforeDraw(n);t._show.call(t,n);t._trigger("q-datepicker-show",[e])},100)},_show:function(t){this.lastShowedDate=this.showedDate;this.showedDate=t;this.activeEl&&e(this.activeEl).trigger("beforeRender");if(this.ui.draw(t)!==false);this.ui.picker.activeEl.closest(".qcbox").addClass("qcbox_on");this.el.show()},hide:function(){if(this.visible()){this.ui.picker.activeEl.closest(".qcbox").removeClass("qcbox_on");this.el.hide();this._trigger("q-datepicker-hide")}},dispose:function(){this.ui.dispose();this.el.remove();this.activeEl.unbind("."+this.ns);this._trigger("q-datepicker-dispose")},visible:function(){return this.el.is(":visible")},getContainer:function(){return this.el}});var H={"+M":function(e,t){var n=e.getDate();e.setMonth(e.getMonth()+t);if(e.getDate()!==n)e.setDate(0)},"-M":function(e,t){var n=e.getDate();e.setMonth(e.getMonth()-t);if(e.getDate()!==n){e.setDate(0)}},"+D":function(e,t){e.setDate(e.getDate()+t)},"-D":function(e,t){e.setDate(e.getDate()-t)},"+Y":function(e,t){e.setFullYear(e.getFullYear()+t)},"-Y":function(e,t){e.setFullYear(e.getFullYear()-t)}};e.extend(e.fdatepicker_train,{uis:[],createUI:function(t,n){var r=n&&e.fdatepicker_train.uis[n]?e.fdatepicker_train.uis[n]:D;var i=function(){};e.extend(i,r);e.extend(i.prototype={},r.prototype);if(t){e.fdatepicker_train.uis[t]=i;i.prototype.name=t}return i},calcTime:function(e,t){e=(e||"").toString();var n;if(t)n=new Date(t.getTime());else{n=new Date;var r=e.match(/^\d+/);if(r)n.setTime(r[0]*1)}var i=/([+-])(\d+)([MDY])/g,s;while(s=i.exec(e)){var o=s[1]+s[3];if(H[o])H[o](n,s[2]*1)}return n}});e.fdatepicker_train.createUI("qunar").implement({init:function(){this.parent.apply(this,arguments);var e=this,t=this.picker;if(t.activeEl.attr("name")!=="fromDate"&&t.activeEl.attr("name").indexOf("Multi")===-1){u=e;f.push(e)}var n=t.get("customActiveClass");var r=this.triggerEl=t.activeEl.wrap('<div class="qunar-dp'+(n?" "+n:"")+'"></div>').before('<div class="dp-prefix"></div><div class="dp-info"><b/><span class="dp-text"></span></div>').parent();var i=this.picker.args.prefix||t.activeEl.data("prefix");if(i){r.find(".dp-prefix").text(i);t.activeEl.css({left:r.find(".dp-prefix").outerWidth(true)+"px"})}else{r.find(".dp-prefix").remove()}t.set("container",r[0]);this.attachedEl=this.attachedEl.add(r.find(".dp-info > b , .dp-info")).add(r.find(".dp-info > b , .dp-info > .dp-text "));t.activeEl.attr("maxlength",10);t.activeEl.addClass("textbox");t.activeEl.bind("keyup."+t.ns,function(t){e.updateTip(e.validate.call(e))}).bind("blur."+t.ns,function(t){e.fuzzyInput(t);e.autoCheck.call(e)});if(t.get("defaultDay")!=null)this.setDate(this.getDefaultDate());this.updateTip(this.validate());this.selectedDate=null;this.checkLinked();this.forIframe(t)},forIframe:function(t){e(window).bind("blur."+t.ns,function(){t.hide()})},getDefaultDate:function(){var e=this.picker;var t=o(e.get("defaultDay"));var n=e.get("minDate"),r=e.get("maxDate");if(n&&n.getTime()>t.getTime()||r&&r.getTime()<t.getTime())t=n||r;return t},checkLinked:function(t){var n=this.picker,r;if(!n.get("linkTo")||!(r=n.get("linkTo").data(e.fdatepicker_train.ROOT_KEY))||r.ui.name.indexOf("qunar")!==0)return;var i=(n.get("linkRules")||"").split(",");var s=this.getDate();if(s==null)return;if(t){if(t.restPos&&t.pos||t.restPos&&!r.activeEl.attr("data-pos")){r.activeEl.attr("data-pos",t.restPos)}}var u={};e.each(["ds","mind","maxd"],function(e,t){if(i[e])u[t]=o(i[e],s)});var a=r.get("strictMinDate"),f=r.get("strictMaxDate");if(u["mind"]||a){var l=(u["mind"]?u["mind"].getTime():-1)>(a?a.getTime():-1)?u["mind"]:a;r.set("minDate",l,false)}if(u["maxd"]||f){var l=(u["maxd"]?u["maxd"].getTime():Number.MAX_VALUE)>(f?f.getTime():Number.MAX_VALUE)?f:u["maxd"];r.set("maxDate",l,false)}r.set(null,null,true);var c=r.ui.validate();var h=T(n.activeEl.val()),p=T(r.activeEl.val());if(c&&!c["success"]&&n.get("forceCorrect")||!h&&p){r.select(u["ds"]);r.ui.drawDate=null;c=r.ui.validate()}!p&&c&&r.ui.updateTip(c);var d="Y";return d},checkRefObj:function(t){var n=this.picker,r;if(!n.get("refObj")||!(r=n.get("refObj").data(e.fdatepicker_train.ROOT_KEY))||r.ui.name.indexOf("qunar")!==0)return;if(!T(r.activeEl.val())){return}var i=(n.get("linkRules")||"").split(",");var s=this.getDate();if(s==null)return;if(t){if(t.restPos&&t.pos||t.restPos&&!r.activeEl.attr("data-pos")){r.activeEl.attr("data-pos",t.restPos)}}var u={};e.each(["ds","mind","maxd"],function(e,t){if(i[e])u[t]=o(i[e],s)});var a=r.get("strictMinDate"),f=r.get("strictMaxDate");if(u["mind"]||a){var l=(u["mind"]?u["mind"].getTime():-1)>(a?a.getTime():-1)?u["mind"]:a;r.set("minDate",l,false)}if(u["maxd"]||f){var l=(u["maxd"]?u["maxd"].getTime():Number.MAX_VALUE)>(f?f.getTime():Number.MAX_VALUE)?f:u["maxd"];r.set("maxDate",l,false)}r.set(null,null,true);r.activeEl.val(this.picker.args.today());var c=r.ui.validate();if(c&&!c["success"]&&n.get("forceCorrect")){r.select(u["ds"]);r.ui.drawDate=null;c=r.ui.validate()}c&&r.ui.updateTip(c);var h="Y";return h},select:function(e,t){var n=this.picker;this.parent.apply(this,arguments);this.selectedDate=e;this.drawDate=e;if(!t)this.autoCheck()},fuzzyInput:function(t){var n,r=t.target.value,i,s=T(r);if(s&&s.valid){this.fuzzyselect();n=this.picker.get("linkTo")||this.picker.get("refObj");i=n&&(!T(n.val())||n.val().indexOf("周")==-1||r.indexOf("周")==-1);i&&n.data(e.fdatepicker_train.ROOT_KEY).ui.setFuzzyDate(r)}},fuzzyselect:function(e,t){this.selectedDate=e;this.showText("");if(!t)this.autoCheck()},setFuzzyDate:function(e){var t=T(e),n=this.picker.activeEl.val();if(t){this.picker.activeEl.val(e);this.fuzzyselect(t.startDate)}else if(!T(n)&&this.picker.args.parseDate(n).getTime()>=this.picker.args.parseDate(e).getTime()){return}else{n=this.picker.args.plus(this.picker.args.parseDate(e),3);this.picker.activeEl.val(this.picker.args.formatDate(n));this.autoCheck()}},showText:function(e){var t=this.triggerEl.find(".dp-text");t.removeClass("errtext").html(e)},showErrText:function(e){var t=this.triggerEl.find(".dp-text");t.addClass("errtext").html(e)},autoCheck:function(){var e=this.picker,t,n;var r=e.activeEl.attr("data-pos");n=e.activeEl.val();t=T(n);if(t&&t.valid){this.checkLinked({pos:e.args.pos,restPos:r});e.args.pos="";return}var i=this.validate();if(!i["success"]&&e.get("forceCorrect")){this.setDate(this.getDefaultDate());this.updateTip(this.validate())}else{if(i["formatted"])e.activeEl.val(i["formatted"]);this.updateTip(i)}this.checkLinked({pos:e.args.pos,restPos:r});this.checkRefObj({pos:e.args.pos,restPos:r});e.args.pos=""},updateTip:function(e){if(!this.picker.get("showTip"))return;if(!e.success)this.showErrText(e.errmsg);else this.showText(e.daytip)},validate:function(){var e=this.picker;var t=this.picker.activeEl.val();var n=this.getDate();var r=this;if(n&&this.selectedDate&&this.selectedDate.getTime()!=n.getTime())this.selectedDate=null;var i="";if(n==null){i=e.get("LANG.ERR_FORMAT");e._trigger("q-datepicker-error",["FORMAT",t])}else{var s=e.get("minDate"),o=e.get("maxDate");if(s&&s.getTime()>n.getTime()||o&&o.getTime()<n.getTime()){i=e.get("LANG.OUT_OF_RANGE");e.args.pos="change";e._trigger("q-datepicker-error",["RANGE",t])}}var u={success:!i,errmsg:i,formatted:null,daytip:null};if(u["success"]){var a=e.get("formatDate")(n),f;switch(e.args.minuteDate(n)){case 0:if(!l)f="今天";break;case 1:f="明天";break;case 2:f="后天";break;default:f="周"+e.get("LANG.day_names")[n.getDay()];break}u["daytip"]=S[a]?S[a]["holidayName"]:f;u["formatted"]=a}return u},addRoundClass:function(e){if(e=="FROM")return this.picker.get("CLASS")["day_selected"];else if(e=="BACK"){return this.picker.get("CLASS")["day_round"]}else if(e=="AREAR"){return this.picker.get("CLASS")["day_area_bg"]}}});e.fn.fdatepicker_train=function(){if(this[0]){if(arguments.length>1&&this.data(s)){var e=this.data(s);if(arguments[0]==="option"||arguments[0]==="setting")return arguments.length>2?e.set(arguments[1],arguments[2]):e.get(arguments[1])}else if(arguments.length<=1){if(this.data(s)){this.data(s).dispose();this.removeData(s)}var t=new P(this[0],arguments[0]);this.data(s,t)}}return this};o=e.fdatepicker_train.calcTime}var e=typeof e==="function"&&!e.amd?e:false;(function(e){var r=n(18);var i=n(19);i("json.trainCalendarConfig").then(function(n){var i=JSON.parse(n)||r;t(e,jQuery,i)})})(jQuery);}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports={HolidayData:{"2020-01-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"元旦",holidayClass:"yuandan"},"2020-01-02":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"腊八",holidayClass:"laba"},"2020-01-24":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"除夕",holidayClass:"chuxi"},"2020-01-25":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"春节",holidayClass:"chunjie"},"2020-02-08":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"元宵",holidayClass:"yuanxiao"},"2020-02-14":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"情人节",holidayClass:"qingrenjie"},"2020-04-04":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"清明",holidayClass:"qingming"},"2020-05-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"劳动",holidayClass:"laodong"},"2020-05-10":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"母亲节",holidayClass:"muqinjie"},"2020-06-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"儿童节",holidayClass:"ertongjie"},"2020-06-21":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"父亲节",holidayClass:"fuqinjie"},"2020-06-25":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"端午",holidayClass:"duanwu"},"2020-08-25":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"七夕",holidayClass:"qixi"},"2020-09-10":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"教师节",holidayClass:"jiaoshijie"},"2020-10-01":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"国庆/中秋",holidayClass:"double"},"2020-12-25":{afterTime:3,beforeTime:3,dayindex:0,holidayName:"圣诞",holidayClass:"shengdan"}},WorkHoliday:{work:["2020-01-19","2020-02-01","2020-04-26","2020-05-09","2020-06-28","2020-09-27","2020-10-10"],vacation:["2020-01-01","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-04-04","2020-04-05","2020-04-06","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-06-25","2020-06-26","2020-06-27","2020-10-01","2020-10-02","2020-10-03","2020-10-04","2020-10-05","2020-10-06","2020-10-07","2020-10-08"]},TransDateEx:{week:"周",day:"天",before:"前",after:"后"},fuzzyDate0:[],fuzzyDate:{}}}).call(window)},function(e,t){(function(){function n(e){var t=$.Deferred();var n="//touch.train.qunar.com/api/train/trainHotConf";$.ajax({url:n,type:"get",data:{conf_type:4,confKey:e},jsonp:"jsonpCallback",dataType:"jsonp",success:function(e){if(e&&e.status==0){var n=e.conf;t.resolve(n)}else{t.reject(e.status)}},error:function(){t.reject("NET ERROR")}});return t}var t=typeof t==="function"&&!t.amd?t:false;e.exports=n}).call(window)},function(e,t,n){(function(){function s(e){var t={};for(var n in e){var r=e[n].date;var i=e[n].price;if(i===""){continue}t[r]={price:i,total_price:i}}t=o(t);return t}function o(e){var t={};for(var n in e){var r=n.substring(0,7);var i=parseInt(e[n].price);if(!i){continue}if(!t[r]){t[r]=[];t[r].push(n);continue}var s=t[r][0];var o=parseInt(e[s]["price"]);if(i<o){t[r].length=0;t[r].push(n)}else if(i===o){t[r].push(n)}}for(var u in t){var a=t[u];for(var f=0;f<a.length;f++){var l=a[f];e[l].isLow=true;e[l].isTotalLow=true}}return e}function u(e){var n=$.Deferred();var i=t.getLocalStorage("citylist?type=11");var s=t.getLocalStorage("citylist?type=12");var o;var u=r.toString();var f;var l;var c=new RegExp(a(e),"g");if(u.indexOf(e)!==-1){o=true}if(i&&i.indexOf("\\u")!==-1){var c=new RegExp(a(e),"g");f=i.match(c)}else{f=i&&i.indexOf('"'+e+'"')!==-1}if(!f&&s&&s.indexOf("\\u")!==-1){l=s.match(c)}else{l=s&&s.indexOf('"'+e+'"')!==-1}if(i&&f){var e=!o&&f;n.resolve(!e);return n.promise()}else if(s&&l){n.resolve(l);return n.promise()}else{$.ajax({url:"//m.flight.qunar.com/touch/api/suggest",dataType:"jsonp",data:{queryWord:e},timeout:3e3,success:function(e){if(e){if(e.ret&&e.data&&e.data.suggestData){var t=e.data.suggestData.places[0].suggestSearch&&e.data.suggestData.places[0].suggestSearch.isInter;n.resolve(t)}else{n.resolve(true)}}},error:function(e){console.log("suggest req error:",e);n.reject(e)}});return n.promise()}}function a(e){var t="";for(var n=0;n<e.length;n++){t+="\\\\u"+e.charAt(n).charCodeAt(0).toString(16)}return t}var e=typeof e==="function"&&!e.amd?e:false;var t=n(21);var r=["香港","澳门","台北","高雄","台南","台中","台东","嘉义","花莲"];var i=function(e){var t=this;t.datepicker=e;t.defFrom={$fromCity:null,$toCity:null,$fromDate:null}};i.prototype={init:function(e){var t=this;t.$form=$.extend(t.defFrom,e)},loadData:function(e,t){var n=this;var r=n.datepicker.ui.picker;var i=n.datepicker.ui;var o=!t?n.datepicker.args.multi||2:1;var a=n.$form;var e=e?e:n.datepicker.args.parseDate(a.$fromDate.val());var f=a.$fromCity.val();var l=a.$toCity.val();var c=n.datepicker.args.formatDate(e);var h="";if(n.datepicker.activeEl.attr("name")=="toDate"){c=a.$fromDate.val();h=n.datepicker.args.formatDate(e)}if(f==""||l==""||c==""){return}else{var p={dep:f.indexOf("(")==-1?f:f.substring(0,f.indexOf("(")),arr:l.indexOf("(")==-1?l:l.substring(0,l.indexOf("(")),dep_date:c,ret_date:h,month_num:o};var d=1;if(i.picker.args.schForm._type==="国际"){d=2}$.when($.ajax({url:"//gw.flight.qunar.com/api/f/priceCalendar",data:{dep:p.dep,arr:p.arr,days:"",priceType:d},dataType:"jsonp",timeout:3e3}),u(p.dep),u(p.arr)).then(function(n,o,u){var a=o||u;var n=n[0];if(n&&n.data){var f=s(n.data.gflights);r.args.dataStore=$.extend(r.args.dataStore,f||{});r.args.hasTax=a;var l=r.args.cldWrap;if(t=="+1M"){l.find(".c:last").remove();i.drawNewMonth(false,e,f)}else if(t=="-1M"){l.find(".c:first").remove();i.drawNewMonth(true,e,f)}else{i.drawPanel(e,f)}}},function(e){console.log("lp_calendar/month req error:",e)})}}};$.fn.datepirce=function(e){var t=this;t.each(function(t,n){var r=this;var s=$(n),o=s.data("q-datepicker-fly"),u=o.args;if(!s.data("q-dateprice")){var a=new i(o);a.init(e);s.on("q-datepicker-show",function(t,n){var r=$(this).closest("form").find(".js-searchtype-roundtrip");var i=r.length&&r.attr("checked");if(e.$fromCity.val()==""||e.$toCity.val()==""||i){s.closest(".qcbox").find(".q-datepicker-fly").removeClass("q-datepicker-fly-price");return}s.closest(".qcbox").find(".q-datepicker-fly").addClass("q-datepicker-fly-price");a.loadData(n)}).on("q-datepicker-change-prc",function(t,n,r,i){var s=$(this).closest("form").find(".js-searchtype-roundtrip");var o=s.length&&s.attr("checked");if(e.$fromCity.val()==""||e.$toCity.val()==""||o){return}a.loadData(u.curMonthMove,i)});s.data("q-dateprice",a)}})}}).call(window)},function(e,t){(function(){function i(e){return r?n.getItem(e):0}function s(e,t){if(r){n.setItem(e,t);return 1}return 0}var t=typeof t==="function"&&!t.amd?t:false;var n=null;var r=true;var r=function(){try{n=window.localStorage;n.setItem("isOk","ok");n.getItem("isOk");n.removeItem("isOk");return true}catch(e){return false}}();e.exports=function(){return{hasLocalStorage:r,getLocalStorage:i,setLocalStorage:s}}()}).call(window)},function(e,t,n){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){function g(e,t){e=e==null?"":e+"";for(var n=0,r=t-e.length;n<r;n++)e="0"+e;return e}function y(e){if(r.isWork(e)){return'<span class="ban">班</span>'}else if(r.isVacation(e)){return"<span>休</span>"}else{return""}}function b(e){var t=window.SERVER_TIME||new Date;var n=d[e];if(n&&!n.fuzzy){var r;if(n.range){r=n.range}else if(/^\d{1,2}月$/.test(e)){var i=parseInt(e.replace("月",""))-1,s=t.getMonth(),o=i<s?t.getFullYear()+1:t.getFullYear(),u=i==s?t:new Date(o,i,1),a=new Date(o,i,(new Date(o,i+1,0)).getDate()),r=parseInt(Math.abs(new Date(v.formatDate(a).replace(/-/g,"/"))-new Date(v.formatDate(u).replace(/-/g,"/")))/1e3/60/60/24)}n.startDate=new Date(u.getTime());n.endDate=new Date(u.getTime()+r*24*3600*1e3)}if(n&&n.fuzzy){n.startDate=E(n.start);n.endDate=E(n.end);n.lastDate=E(n.last)}return n}function w(){return p}function E(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}function S(e){if(typeof e=="number"){e=new Date(e)}return e.getFullYear()+"-"+x(e.getMonth()+1)+"-"+x(e.getDate())}function x(e){return e<10?"0"+e:e}function T(e){e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e}function N(e){var t=e.offset();t["top"]+=e.outerHeight();return t}function C(t){var n;if(t&&!t.nodeType)n=jQuery.event.fix(t||window.event).target;else n=t;if(!n)return null;var r=e(n).parents("."+i);return r.size()>0?r.eq(0).data(i):null}function k(){}function L(e,t){if(!this.init)return new L(e,t);else return this.init(e,t)}window.searchTrack=n(13);var t=n(15);var r=n(23);e.fdatepicker_price={};var i=e.fdatepicker_price.ROOT_KEY="q-datepicker-fly";var s;var o;var u;var a=[];var f=false;var l=0;var c=0;var h=t;var p=h.fuzzyDate0;var d=h.fuzzyDate;var v={LANG:{prev:"",next:"",day_names:["日","一","二","三","四","五","六"],OUT_OF_RANGE:"超出范围",ERR_FORMAT:"格式错误"},CLASS:{group:"g",header_mc:"m-h",header:"h",cld_mc:"m-c",cld_wp:"c-wp",calendar:"c",next:"e-n",prev:"e-p",title:"t",week:"w",month:"cm_",prc_wp:"m-p",tax_wp:"e-t",day_default:"st",day_selected:"st-a",day_othermonth:"st-s",day_today:"st-t",day_hover:"st-h",day_disabled:"st-d",day_round:"st-a-r",day_holiday:"st-holi-",day_area_bg:"st-area"},WEEKDAYS:7,STARTDAY:1,showOtherMonths:false,defaultDay:"",disabledDays:"",customClass:"",customActiveClass:"",multi:2,showTip:true,linkTo:null,linkRules:"",refObj:null,forceCorrect:true,loadMonthStore:[],dataStore:{},leftBtn:null,rightBtn:null,curMonthMove:{},cldWrap:null,hasTax:false,formatTitle:function(e){return e.getFullYear()+"年"+(e.getMonth()+1)+"月"},showOnInit:false,showOnFocus:false,container:null,minDate:null,maxDate:null,ui:null,sDay:null,endDay:null,pos:"",parseDate:function(e){var t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);return t?new Date(t[1],t[2]*1-1,t[3]):null},formatDate:function(e){return e.getFullYear()+"-"+g(e.getMonth()+1,2)+"-"+g(e.getDate(),2)},minuteDate:function(e){var t=window.SERVER_TIME||new Date;t=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate());return(e-t)/(24*60*60*1e3)},today:function(){var e=window.SERVER_TIME||new Date;e=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate());return this.formatDate(e)},plus:function(e,t){return new Date(e.getTime()+t*24*60*60*1e3)}};var m=function(){var t=this;for(var n=0,r=arguments.length;n<r;n++)e.each(arguments[n],function(e,n){var r;if(t.prototype[e]&&jQuery.isFunction(t.prototype[e]))r=t.prototype[e];t.prototype[e]=n;if(r)t.prototype[e]["_PARENT_"]=r});if(!t.prototype["parent"])t.prototype["parent"]=function(){return arguments.callee.caller["_PARENT_"].apply(this,arguments)}};k.implement=m;e.extend(k.prototype,{isUI:1,init:function(){var t=this,n=this.picker,r=n.ns;t.attachedEl=t.attachedEl||new e;e(document).bind("mousedown."+r,function(e){var r,i;if(n.activeEl[0]===e.target&&(r=1)||t.attachedEl.index(e.target)!=-1&&(r=2)){if(!n.visible()){i=b(n.activeEl.val());t.drawDate=i?i.startDate:t.drawDate;setTimeout(function(){n.show(t.getDate())},0)}else{n.hide()}if(r==2)n.activeEl.focus();return}var s;if((s=C(e))&&s.key===n.key)return;else n.hide()});var i=function(){if(!n.get("container"))n.getContainer().css(N(n.activeEl))};i();e(window).bind("load."+r+" resize."+r,i);n.activeEl.bind("focus."+r,function(e){if(n.get("showOnFocus"))n.show(t.getDate())});n.activeEl.bind("keydown."+r,function(e){switch(e.keyCode){case 40:t.setDate(new Date(t.getDate().getTime()+24*60*60*1e3));var r=t.validate();if(!r.success){return}n.show(t.getDate());break;case 38:t.setDate(new Date(t.getDate().getTime()-24*60*60*1e3));var r=t.validate();if(!r.success){return}n.show(t.getDate());break;case 9:case 27:n.hide();break;default:t.onKeyDown(e)}})},_init:function(e){this.picker=e},select:function(e){this.picker.activeEl.val(this.picker.args.formatDate(e))},posHandler:function(e,t){var n=this.picker.activeEl.attr("data-pos"),r=e,i,s=t.parseDate(this.picker.activeEl.val()),o=s?s.getMonth():(window.SERVER_TIME||new e).getMonth();i=new Date(r);i.setDate(1);return i},change:function(t,n,r){var i=this;var s=i.picker.args,o=s.leftBtn,u=s.rightBtn,a=s.cldWrap;var f=i.picker.get("minDate"),l=i.picker.get("maxDate");var h=r=="+1M"?false:true;var p=new Date(new Date(n.getFullYear(),n.getMonth(),1));var d=s.parseDate(s.formatDate(p));var v=s.parseDate(s.formatDate(p));v.setMonth(v.getMonth()+1);s.curMonthMove=h?d:v;if(e.inArray(s.curMonthMove.getMonth(),s.loadMonthStore)==-1){i.drawNewMonth(h,s.curMonthMove);i.picker._trigger("q-datepicker-change-prc",[t,p,r]);h?a.css({left:"-="+c+"px"}):"";s.loadMonthStore.push(s.curMonthMove.getMonth())}else if(s.loadMonthStore.length==12){var m=a.find(".c");var g=h?m.last().data("month"):m.first().data("month");if(s.curMonthMove.getMonth()==g){h?m.last().remove():m.first().remove();i.drawNewMonth(h,s.curMonthMove);i.picker._trigger("q-datepicker-change-prc",[t,p,r]);h?a.css({left:"-="+c+"px"}):a.css({left:"+="+c+"px"})}}if(h){!f||f.getFullYear()<t.getFullYear()||f.getFullYear()===t.getFullYear()&&f.getMonth()<t.getMonth()-1?o.removeClass("e-dis"):o.addClass("e-dis");u.removeClass("e-dis")}else{var y,b;if(l){b=l.getMonth()-1;if(b<0){b=11;y=l.getFullYear()-1}else{y=l.getFullYear()}}!l||y>t.getFullYear()||y===t.getFullYear()&&b>t.getMonth()+1?u.removeClass("e-dis"):u.addClass("e-dis");o.removeClass("e-dis")}},renderDateWraper:function(t){var n=this;n.drawDate=t;T(t);var r=n.picker.getContainer(),i=n.picker.args,s=i["CLASS"],o=i["LANG"],u=i.hasTax,a=i.minDate,f=i.maxDate;var l=[];i.dataStore={};i.loadMonthStore.length=0;l.push('<div class="'+s["group"]+'" style="display:none;">');l.push('<div class="'+s["header_mc"]+'">');l.push('<p class="'+s["next"]+"",!f||f.getFullYear()>t.getFullYear()||f.getFullYear()===t.getFullYear()&&f.getMonth()>t.getMonth()+1?"":" e-dis",'"><span href="#" class="icon_arr_right" onclick="FQDP.change( event , \'+1M\' );return false;">',o["next"],"</span></p>");l.push('<p class="'+s["prev"]+"",!a||a.getFullYear()<t.getFullYear()||a.getFullYear()===t.getFullYear()&&a.getMonth()<t.getMonth()?"":" e-dis",'"><span href="#" class="icon_arr_left" onclick="FQDP.change( event , \'-1M\' );return false;">',o["prev"],"</span></p>");l.push("</div>");l.push('<div class="'+s["cld_mc"]+'">');l.push('<div class="'+s["cld_wp"]+'">');l.push("</div>");l.push("</div>");l.push('<div class="'+s["prc_wp"]+'">');l.push('<div class="e_r">');if(n.picker.isSupportPrc){l.push('    <div class="'+s["tax_wp"]+' js_prc_change" style="display:none;">');l.push('        <span class="'+(u?"":"cur")+'" data-set="">未含税</span><span class="'+(u?"cur":"")+'" data-set="tax">含税总价</span>');l.push("    </div>")}if(window.QNR.isLocal){l.push("    当前为出发地时间")}l.push("</div>");n.picker.isFuzzy&&l.push(n._drawFuzzyDate());l.push("</div>");l.push("</div>");e(l.join("")).appendTo(r.empty()).show();i.leftBtn=r.find("."+s["prev"]);i.rightBtn=r.find("."+s["next"]);i.cldWrap=r.find("."+s["cld_wp"]);n.picker.isFuzzy&&window.QNR.isLocal&&n.bindFuzzyEvent(r)},bindFuzzyEvent:function(t){var n=t.find(".js_fuzzy_wp .m-fuzzy-box").width();t.find(".js_fuzzy_wp").addClass("e_fuzzy_w").bind("mouseenter",function(t){var n=e(this).parent().width()+15;e(this).find(".m-fuzzy-box").animate({width:n+"px"},200)}).bind("mouseleave",function(){e(this).find(".m-fuzzy-box").animate({width:n+"px"},200)})},renderPanelHTML:function(e,t,n){var r=this;var i=r.picker.args,s=i.multi,o=i["CLASS"];var u=[],a;a=r.posHandler(e,i);for(var f=0;f<t;f++){u.push('<div class="'+o["calendar"]+'" data-month="'+a.getMonth()+'">');u.push(r._drawTitle(a));u.push(r._drawBody(a,n));u.push("</div>");a.setMonth(a.getMonth()+1)}return u.join("")},drawPanel:function(t,n){var r=this;var i=r.picker.args,s=r.picker.args.cldWrap;var o=r.renderPanelHTML(t,i.multi,n);s.empty().append(e(o));r.picker.selectUi()},drawNewMonth:function(t,n,r){var i=this;var s=i.picker.args.cldWrap;var o=i.renderPanelHTML(n,1,r);t?e(o).prependTo(s):e(o).appendTo(s)},draw:function(t){var n=this;var r=n.picker.args;var i=b(n.picker.activeEl.val());r.activeDate=r.parseDate(n.picker.activeEl.val())||i&&i.startDate;n.renderDateWraper(t);n.drawPanel(t);setTimeout(function(){c=e(n.picker.args.cldWrap.find(".c")[0]).width()},0);r.loadMonthStore.push(t.getMonth(),t.getMonth()+1==12?0:t.getMonth()+1)},dispose:function(){var t="."+this.picker.ns;e(document).unbind(t);e(window).unbind(t)},getDate:function(){var e=this.picker.activeEl.val();var t=b(e);var n=t&&t.valid?t.startDate:this.picker.get("parseDate")(e);return n!=n?null:n},setDate:function(e){this.picker.activeEl.val(this.picker.get("formatDate")(e))},onBeforeDraw:function(e){var t=this;var n=function(e,t){if(e.getFullYear()>t.getFullYear())return 1;else if(e.getFullYear()===t.getFullYear())return(e.getMonth()-t.getMonth())/(Math.abs(e.getMonth()-t.getMonth())||1);else return-1};if(this.selectedDate&&this.drawDate)e.setTime(this.drawDate.getTime());else{var r=this.picker,i=r.get("minDate"),s=r.get("maxDate"),o=r.get("multi");var u=new Date(e.getFullYear(),e.getMonth()+o-1,1);if(s&&n(u,s)>0)for(var a=1;s&&o&&o>1&&o-a>0;a++){u=new Date(e.getFullYear(),e.getMonth()+o-a-1,1);if(n(u,s)<=0){u.setMonth(u.getMonth()-o+1);break}}else u=null;if(u&&(!i||u.getTime()>=i.getTime()))e.setTime(u.getTime())}},onKeyDown:function(e){},onSet:function(){this.selectedDate=null},_drawTitle:function(e){var t=this.picker.args;var n=t["CLASS"];var r=[];r.push('<div class="'+n["header"]+'">');r.push('<div class="'+n["title"]+'">',t.formatTitle(e),"</div>");r.push("</div>");return r.join("")},_drawBody:function(t,n){var i=this.picker.args,s=i["STARTDAY"],o=i["WEEKDAYS"],u=i["LANG"],a=i["CLASS"],f=i.activeDate,l=i.minDate,c=i.maxDate;if(f&&f!=f)f=null;var h=window.SERVER_TIME||new Date;var p=[];p.push('<div class="thwrap"><table cellspacing="0" cellpadding="0" border="0"><thead><tr>');for(var d=0;d<o;d++){var v=(s+d)%o;p.push('<th class="'+a["week"]+v+'">',u["day_names"][v]||"","</th>")}p.push("</tr></thead></table></div>");p.push('<div class="tdwrap"><table cellspacing="0" cellpadding="0" border="0"><tbody>');var m=[];var g=t.getFullYear(),b=t.getMonth()+1;var w=new Date(g,b-1,1);var E=1,S=(new Date(g,b,0)).getDate();var x=w.getDay()-s;while(x<0)x+=o;var T=E-x;var N=o-((1-T+S)%o||o)+S;for(var d=T,C=0;d<=N;d++,C++){var k=new Date(g,b-1,d);var L=i.formatDate(k);if(C%o==0)m.push("</tr>","<tr>");var v=(s+C)%o;m.push('<td class="'+a["week"]+v+" "+a["day_default"]);var A=false;if(e.grep(["getFullYear","getMonth","getDate"],function(e){return k[e]()==h[e]()}).length==3)m.push(" "+a["day_today"]);if(f!=null&&f.getTime()==k.getTime())m.push(" "+a["day_selected"]);var O=false;if(d<1||d>S){m.push(" "+a["day_othermonth"]);O=true}var M=i.formatDate(k).replace(/-/g,"")*1;var _=l&&i.formatDate(l).replace(/-/g,"")*1;var D=c&&i.formatDate(c).replace(/-/g,"")*1;if(l&&M<_||c&&M>D||~i.disabledDays.toString().indexOf(L)){if(!O){m.push(" "+a["day_disabled"])}A=true}var P=this._getDateClass(k);if(P&&!O)m.push(" "+P);m.push('"');if(!A){m.push(' onclick="FQDP.select(event,new Date('+k.getFullYear()+","+k.getMonth()+","+k.getDate()+"));",'return false;"')}if(!A&&!O){m.push(" data-sort="+i.minuteDate(k)+">")}else{m.push('data-info = "disable">')}if(!O||i.showOtherMonths){var H=r.getHolidayInfo(L);m.push('<div class="t-d">');if(!H||H&&H.holidayClass!=="double"){m.push('   <div class="d-t">');m.push(y(L));m.push("    </div>")}m.push('<span class="');dateText=k.getDate();if(!A&&H&&H.holidayClass){m.push(" "+a["day_holiday"]+"default");m.push(" "+a["day_holiday"]+H.holidayClass);if(H.holidayClass==="double"){var B=H.holidayName.indexOf("/")?H.holidayName.split("/"):[];dateText="<div>"+B[0]+"</div><div>"+B[1]+"</div>"}else{dateText=H.holidayName}}m.push('">');var j=window.SERVER_TIME||new Date;if(k.getMonth()===j.getMonth()&&k.getFullYear()===j.getFullYear()&&dateText===j.getDate()&&i.minuteDate(k)===0){dateText="今天"}m.push(dateText);m.push("</span>");if(n){var F="";var I="";var q=n[L];if(q){var R=!i.hasTax?q.price:q.total_price;F='<i class="rmb">&yen;</i>'+R;I=(!i.hasTax?q.isLow:q.isTotalLow)?"d-b-low":""}m.push('<div class="d-b '+I+'">'+F+"</div>")}else{m.push('<div class="d-b">&nbsp;</div>')}m.push("</div>")}else{m.push("&nbsp;")}m.push("</td>")}p.push(m.length>0?m.slice(1,-1).join(""):"");if(x+N<=35){p.push("<tr>");for(var d=0;d<o;d++){p.push('<td class="w3 st st-s" data-info="disable">&nbsp;</td>')}p.push("</tr>")}p.push("</tbody></table></div>");return p.join("")},_drawFuzzyDate:function(){var t=[],n=this,r,i,s;var o=0;t.push('<div class="e_fuzzy '+(window.QNR.isLocal?"e_fuzzy_w ":"")+'js_fuzzy_wp">');t.push('<i class="icon_arr_f"></i>');t.push('<div class="m-fuzzy-box">');t.push(' <ul class="m-fuzzy-lst clrfix">');i=n.picker.activeEl.val();r=b(i)?i:"";s=w();var u=this.picker.args;var a=window.SERVER_TIME||new Date,f=a.getMonth(),l=a.getFullYear();for(var c=0;c<5;c++){month=f+c;if(month>12){month-=12;year=l+1}else{year=l}start=c==0?a:new Date(year,month,1);end=new Date(year,month,(new Date(year,month+1,0)).getDate());label=start.getMonth()+1+"月";val=u.formatDate(start).replace(/-/g,"/");iDays=parseInt(Math.abs(new Date(u.formatDate(end).replace(/-/g,"/"))-new Date(u.formatDate(start).replace(/-/g,"/")))/1e3/60/60/24);t.push('<li data-value="',label,'" data-range="',iDays,'"');t.push('onclick="FQDP.fuzzyselect(event,new Date('+(new Date(val)).getFullYear()+","+(new Date(val)).getMonth()+","+(new Date(val)).getDate()+"));",'return false;"');t.push(">",label,"</li>");o++}e.each(s,function(e,n){var i=b(n);_class=r==n?"st-h":"";if(n=="抗战胜利日"||n=="中秋&国庆"){_class+=" st-w"}if(i.lastDate>SERVER_TIME&&o<9){t.push('<li data-value="',i.value,'" class="',_class,'" data-range="',i.range,'"');t.push('onclick="FQDP.fuzzyselect(event,new Date('+i.startDate.getFullYear()+","+i.startDate.getMonth()+","+i.startDate.getDate()+"));",'return false;"');t.push(">",n,"</li>");o++}});t.push(" </ul>");t.push("</div>");t.push("</div>");return t.join("")},_getDateClass:function(t){var n=this.picker.args;var i=n.formatDate(t);var s="";var o=this.picker.activeEl.val();var u=b(o);var a=u?n.formatDate(u.startDate):o;var f=parseInt(i.replace(/-/g,""),10);var l=parseInt(a.replace(/-/g,""),10);var c,h,p,d,v,m,g;var y=this.picker.activeEl.attr("name")=="fromDateMulti";if(this.picker.get("linkTo")&&!y){m=this.picker.get("linkTo").data(e.fdatepicker_price.ROOT_KEY);c=m.activeEl.val();h=b(c);p=h?n.formatDate(h.endDate):c;v=parseInt(a.replace(/-/g,""));ecurrVal=parseInt(p.replace(/-/g,""));n.sDay=a;n.endDay=p;if(typeof o!="undefined"&&f==v){s=this.addRoundClass("FROM")}if(m){if(typeof m.activeEl.val()!="undefined"&&f==ecurrVal){s=this.addRoundClass("BACK")}}if(f<ecurrVal&&f>v){s=this.addRoundClass("AREAR")}}else if(this.picker.get("refObj")){g=this.picker.get("refObj").data(e.fdatepicker_price.ROOT_KEY);c=g.activeEl.val();h=b(c);p=h?n.formatDate(h.startDate):c;a=u?n.formatDate(u.endDate):o;v=parseInt(p.replace(/-/g,""));ecurrVal=parseInt(a.replace(/-/g,""));n.sDay=p;n.endDay=a;if(typeof this.picker.activeEl.val()!="undefined"&&f==ecurrVal){s=this.addRoundClass("BACK")}if(g){if(typeof g.activeEl.val()!="undefined"&&f==v){s=this.addRoundClass("FROM")}}if(f>v&&f<ecurrVal){s=this.addRoundClass("AREAR")}}else if(u&&f>=l){ecurrVal=parseInt(n.formatDate(u.endDate).replace(/-/g,""));v=parseInt(n.formatDate(u.startDate).replace(/-/g,""));n.sDay=n.formatDate(u.startDate);n.endDay=n.formatDate(u.endDate);if(f<ecurrVal){s=this.addRoundClass("AREAR")}if(f==ecurrVal){s=this.addRoundClass("BACK")}if(f==v){s=this.addRoundClass("FROM")}}if(r.isHoliday(i))s+=" "+"holi";return e.trim(s)}});window.FQDP={};e.each(["select","change","_trigger","fuzzyselect"],function(e,t){window.FQDP[t]=function(){f=false;if(!arguments[0])return;var e=C(arguments[0]);if(e&&e[t]){if(t==="select"||t==="fuzzyselect"){return e[t].apply(e,Array.prototype.slice.call(arguments))}else{return e[t].apply(e,Array.prototype.slice.call(arguments,1))}}}});e.extend(L.prototype,{init:function(t,n){n=n||{};if(n["ui"]){if(n["ui"]["isUI"])this.ui=n["ui"];else if(typeof n["ui"]=="string"&&e.fdatepicker_price.uis[n["ui"]])this.ui=new e.fdatepicker_price.uis[n["ui"]]}if(!this.ui)this.ui=new k;this.ui._init(this);n=this.args=e.extend(true,{},v,n||{});this.key=++l;var r=this.ns=i+this.key;var s=this.activeEl=e(t);this.el=e('<div class="'+i+'"></div>').appendTo(s.parent()||document.body).hide();e(this.el).data(i,this);this.ui.init();this.lastShowedDate=null;this.showedDate=null;if(n["showOnInit"])this.show();e.each(n["on"]||{},function(e,t){s.bind(e+"."+r,t)});return this},_trigger:function(){this.activeEl.triggerHandler.apply(this.activeEl,arguments)},select:function(){if(arguments.length>1){var t=arguments[0]||window.event;date=arguments[1]}else{var t=t||window.event;date=arguments[0]}if(t){var n=t.srcElement?t.srcElement:t.target;if(e(n).parents("."+this.args.CLASS["calendar"]).data("index")===1){this.activeEl.attr("data-pos","right")}if(e(n).parents("."+this.args.CLASS["calendar"]).data("index")===0){this.activeEl.attr("data-pos","left")}}this.ui.select(date);this.hide();this._trigger("q-datepicker-select",[date])},setFuzzy:function(e){this.isFuzzy=e},supportPrice:function(e,t){this.isSupportPrc=e;e&&this.activeEl.datepirce(t)},fuzzyselect:function(){var t=function(t){e(a).each(function(e,n){n.fuzzyInput(t);n.autoCheck.call(n)})};e(a).each(function(e,n){n.picker.activeEl.bind("blur."+n.picker.ns,t)});var n=arguments[0].srcElement||arguments[0].target,r,i;this.activeEl.attr("data-pos","left");i=e(n).data("value");f=true;this.activeEl.val(i);u=n;this.ui.fuzzyselect(arguments[1]);this.hide();if(this.get("linkTo")){r=this.get("linkTo").data(e.fdatepicker_price.ROOT_KEY);r.activeEl.val(i)&&r.ui.fuzzyselect(arguments[1])}else if(this.get("refObj")){r=this.get("refObj").data(e.fdatepicker_price.ROOT_KEY);if(r.activeEl.val().indexOf("周")!=-1&&i.indexOf("周")!=-1){return}r.activeEl.val(i);r.ui.fuzzyselect(arguments[1])}this.activeEl.val(i)},_selectTd:function(t,n,r){for(var i=parseInt(t),s=n;i<s;i++){e("td[data-sort='"+i+"']:not('.st-d')").addClass(v.CLASS["day_area_bg"])}},selectUi:function(){var t=this,n,r,i,s,o,f,l;l=t.activeEl.val();var c=t.args.minuteDate(new Date(l.replace(/-/g,"/")));var h=t.activeEl[0]["id"];var p=b(l);var d=this.el;s=this.args;if(s.sDay)r=s.minuteDate(new Date(s.sDay.replace(/-/g,"/")));if(s.endDay)i=s.minuteDate(new Date(s.endDay.replace(/-/g,"/")));var m=d.find("td[data-sort='"+r+"']"),g=d.find("td[data-sort='"+i+"']");d.undelegate(".fly").delegate('td:not(".st-d")',{"mouseenter.fly":function(u){if(e(this).data("info")==="disable"){return}if(b(t.activeEl.val())){e(this).addClass(s.CLASS["day_hover"]);return}e(this).addClass(s.CLASS["day_hover"]);o=e(this).parents(".ch_sch_form");if(!b(t.activeEl.val())&&o.find("[data-type = 'oneWay']").length<1){n=parseInt(e(this).attr("data-sort"));if(r===i&&c===r&&t.activeEl.attr("name")==="fromDate"&&n>i){return}if(r===i&&c===r&&t.activeEl.attr("name")==="toDate"){g.addClass(s.CLASS["day_selected"]+" "+v.CLASS["day_round"])}if(n>r-1&&n<i+1){d.find("td").removeClass(s.CLASS["day_area_bg"]);if(c===i){g.removeClass(s.CLASS["day_selected"]).removeClass("st-a-r");t._selectTd(r+1,n)}else{m.removeClass(s.CLASS["day_selected"]);t._selectTd(n+1,i)}}if(n<r){if(c===i){}else{d.find("td").removeClass(s.CLASS["day_area_bg"]);m.removeClass(s.CLASS["day_selected"]);t._selectTd(n+1,i)}}if(n>i){d.find("td").removeClass(s.CLASS["day_area_bg"]);if(c===i){t._selectTd(r+1,n)}else{d.find("td.st-a").removeClass("st-a")}}}},"mouseleave.fly":function(){if(e(this).data("info")==="disable"){return}if(b(t.activeEl.val())){e(this).removeClass(s.CLASS["day_hover"]);return}e(this).removeClass(s.CLASS["day_hover"]);if(!p&&o&&o.find("[data-type = 'oneWay']").length<1){d.find("td").removeClass(s.CLASS["day_area_bg"]);m.addClass(s.CLASS["day_selected"]);g.addClass(s.CLASS["day_round"]);t._selectTd(r+1,i)}}});d.find('li:not(".st-h")').unbind().bind("mouseover",function(){e(a).each(function(e,t){t.picker.activeEl.unbind("blur")});e(this).addClass(s.CLASS["day_hover"]);var n,r;var u=1,f=e(this).attr("data-range");var l=d.find(".st-a");if(l.length===0){l=d.find(".st-a-r")}d.find(".st-a").removeClass("st-a");d.find(".st-area").removeClass("st-area");d.find(".st-a-r").removeClass("st-a-r");var h=e(this).attr("onclick").match(/\d+/g);var p=new Date(h[0],h[1],h[2]);u=v.minuteDate(p);o=e(this).parents(".ch_sch_form");if(o.find("[data-type = 'oneWay']").length<1){d.find("td").removeClass(s.CLASS["day_area_bg"]);m.removeClass(s.CLASS["day_selected"]);g.removeClass(s.CLASS["day_selected"]+" "+v.CLASS["day_round"])}else{c&&d.find("td[data-sort='"+c+"']").removeClass(s.CLASS["day_selected"]);i&&g.removeClass(s.CLASS["day_selected"]+" "+v.CLASS["day_round"])}if(u!==1){t._selectTd(parseInt(u)+1,parseInt(u)+parseInt(f));d.find("td[data-sort='"+(parseInt(u)+parseInt(f))+"']").addClass(s.CLASS["day_round"])}else{if(l.find("span").text()==="今天"){u=1;t._selectTd(2,f)}else{t._selectTd(2,f)}d.find("td[data-sort='"+f+"']").addClass(s.CLASS["day_round"])}d.find("td[data-sort='"+u+"']").addClass(s.CLASS["day_round"])}).bind("mouseout",function(n){var a=e(".st-h");var f=d.find(".st-a");var l=d.find(".st-area");var h=e(".st-t").find("span").text();var p;if(a.length>1){f.removeClass("st-a");l.removeClass("st-area");d.find(".st-a-r").removeClass("st-a-r");if(u){var y=e(u).attr("onclick").match(/\d+/g)}else{var y=a.eq(1).attr("onclick").match(/\d+/g)}var b=new Date(y[0],y[1],y[2]);var w=e(this).attr("data-range");var E=v.minuteDate(b);p=d.find("td[data-sort='"+E+"']");p.addClass(s.CLASS["day_round"]);t._selectTd(parseInt(E)+1,parseInt(E)+parseInt(w));d.find("td[data-sort='"+(parseInt(E)+parseInt(w))+"']").addClass(s.CLASS["day_round"])}else{if(h==="今天"){var E=0}else{var E=1}p=d.find("td[data-sort='"+E+"']")}f.removeClass("st-a");l.removeClass("st-area");d.find(".st-a-r").removeClass("st-a-r");var w=e(this).attr("data-range");o=e(this).parents(".ch_sch_form");e(this).removeClass(s.CLASS["day_hover"]);d.find("td").removeClass(s.CLASS["day_area_bg"]);p.addClass(s.CLASS["day_round"]);if(o.find("[data-type = 'oneWay']").length<1){m.addClass(s.CLASS["day_selected"]);g.addClass(s.CLASS["day_round"]);t._selectTd(r+1,i)}else{c&&d.find("td[data-sort='"+c+"']").addClass(s.CLASS["day_selected"]);!c&&t._selectTd(r+1,i);i&&g.addClass(s.CLASS["day_round"]);c&&d.find(".st-a-r").removeClass("st-a-r")}r!=E&&p.removeClass(s.CLASS["day_round"]);i!=w&&d.find("td[data-sort='"+w+"']").removeClass(s.CLASS["day_round"]);!c&&p.addClass(s.CLASS["day_round"])})},set:function(t,n,r){if(!this.ui.onSet||this.ui.onSet(t,n,r)===false)return;if(typeof t==="string"){var i=false;switch(t){case"container":this.el.appendTo(e(n).find(".qcbox-fixed")||document.body);this.el.css({top:"",left:""});break}for(var s=0,o=t.split("."),u=o.length,a=this.args;s<u&&(s!==u-1&&(a[o[s]]||(a[o[s]]={}))||(a[o[s]]=n));a=a[o[s]],s++){}}if(r&&this.visible()){this._show(this.showedDate)}},get:function(e){for(var t=0,n=this.args,r=e.split("."),i=r.length;t<i&&(n=n[r[t]]);t++){}return n},change:function(e){var t=this;var n=t.args.cldWrap;if(e=="-1M"&&t.args.leftBtn.hasClass("e-dis")){return}else if(e=="+1M"&&t.args.rightBtn.hasClass("e-dis")){return}if(t._scrolling){return}var r=typeof e==="string"?s(e,this.showedDate):e;var i=this.showedDate;this.lastShowedDate=this.showedDate;this.showedDate=r;this.ui.change(i,r,e);this._trigger("q-datepicker-change",[i,r,e]);t._scrolling=true;var o=e=="-1M"?"+=":"-=";n.animate({left:o+c+"px"},"50",function(){t._scrolling=false})},show:function(e){var t=this;var n,r=t.get("minDate"),i=t.get("maxDate");searchTrack._updateTime(t);setTimeout(function(){if(!e)Ctime=window.SERVER_TIME||new Date;else Ctime=e;n=new Date(Ctime.getFullYear()+"/"+(Ctime.getMonth()+1)+"/"+Ctime.getDate());if(r&&n.getTime()<r.getTime())n.setTime(r.getTime());else if(i&&n.getTime()>i.getTime())n.setTime(i.getTime());t.ui.onBeforeDraw(n);t._show.call(t,n);t._trigger("q-datepicker-show",[e])},100)},_show:function(t){this.lastShowedDate=this.showedDate;this.showedDate=t;this.activeEl&&e(this.activeEl).trigger("beforeRender");if(this.ui.draw(t)!==false);this.ui.picker.activeEl.closest(".qcbox").addClass("qcbox_on");this.el.show()},hide:function(){if(this.visible()){this.ui.picker.activeEl.closest(".qcbox").removeClass("qcbox_on");this.el.hide();this._trigger("q-datepicker-hide")}},dispose:function(){this.ui.dispose();this.el.remove();this.activeEl.unbind("."+this.ns);this._trigger("q-datepicker-dispose")},visible:function(){return this.el.is(":visible")},getContainer:function(){return this.el}});var A={"+M":function(e,t){var n=e.getDate();e.setMonth(e.getMonth()+t);if(e.getDate()!==n)e.setDate(0)},"-M":function(e,t){var n=e.getDate();e.setMonth(e.getMonth()-t);if(e.getDate()!==n){e.setDate(0)}},"+D":function(e,t){e.setDate(e.getDate()+t)},"-D":function(e,t){e.setDate(e.getDate()-t)},"+Y":function(e,t){e.setFullYear(e.getFullYear()+t)},"-Y":function(e,t){e.setFullYear(e.getFullYear()-t)}};e.extend(e.fdatepicker_price,{uis:[],createUI:function(t,n){var r=n&&e.fdatepicker_price.uis[n]?e.fdatepicker_price.uis[n]:k;var i=function(){};e.extend(i,r);e.extend(i.prototype={},r.prototype);if(t){e.fdatepicker_price.uis[t]=i;i.prototype.name=t}return i},calcTime:function(e,t){e=(e||"").toString();var n;if(t)n=new Date(t.getTime());else{n=new Date;var r=e.match(/^\d+/);if(r)n.setTime(r[0]*1)}var i=/([+-])(\d+)([MDY])/g,s;while(s=i.exec(e)){var o=s[1]+s[3];if(A[o])A[o](n,s[2]*1)}return n}});e.fdatepicker_price.createUI("qunar").implement({init:function(){this.parent.apply(this,arguments);var e=this,t=this.picker;if(t.activeEl.attr("name")!=="fromDate"&&t.activeEl.attr("name").indexOf("Multi")===-1){o=e;a.push(e)}var n=t.get("customActiveClass");var r=this.triggerEl=t.activeEl.wrap('<div class="qunar-dp'+(n?" "+n:"")+'"></div>').before('<div class="dp-prefix"></div><div class="dp-info"><b/><span class="dp-text"></span></div>').parent();var i=this.picker.args.prefix||t.activeEl.data("prefix");if(i){r.find(".dp-prefix").text(i);t.activeEl.css({left:r.find(".dp-prefix").outerWidth(true)+"px"})}else{r.find(".dp-prefix").remove()}t.set("container",r[0]);this.attachedEl=this.attachedEl.add(r.find(".dp-info > b , .dp-info")).add(r.find(".dp-info > b , .dp-info > .dp-text "));t.activeEl.attr("maxlength",10);t.activeEl.addClass("textbox");t.activeEl.bind("keyup."+t.ns,function(t){e.updateTip(e.validate.call(e))}).bind("blur."+t.ns,function(t){e.fuzzyInput(t);e.autoCheck.call(e)});if(t.get("defaultDay")!=null)this.setDate(this.getDefaultDate());this.updateTip(this.validate());this.selectedDate=null;this.checkLinked()},getDefaultDate:function(){var e=this.picker;var t=s(e.get("defaultDay"));var n=e.get("minDate"),r=e.get("maxDate");if(n&&n.getTime()>t.getTime()||r&&r.getTime()<t.getTime())t=n||r;return t},checkLinked:function(t){var n=this.picker,r;if(!n.get("linkTo")||!(r=n.get("linkTo").data(e.fdatepicker_price.ROOT_KEY))||r.ui.name.indexOf("qunar")!==0)return;var i=(n.get("linkRules")||"").split(",");var o=this.getDate();if(o==null)return;if(t){if(t.restPos&&t.pos||t.restPos&&!r.activeEl.attr("data-pos")){r.activeEl.attr("data-pos",t.restPos)}}var u={};e.each(["ds","mind","maxd"],function(e,t){if(i[e])u[t]=s(i[e],o)});var a=r.get("strictMinDate"),f=r.get("strictMaxDate");if(u["mind"]||a){var l=(u["mind"]?u["mind"].getTime():-1)>(a?a.getTime():-1)?u["mind"]:a;r.set("minDate",l,false)}if(u["maxd"]||f){var l=(u["maxd"]?u["maxd"].getTime():Number.MAX_VALUE)>(f?f.getTime():Number.MAX_VALUE)?f:u["maxd"];r.set("maxDate",l,false)}r.set(null,null,true);var c=r.ui.validate();var h=b(n.activeEl.val()),p=b(r.activeEl.val());if(c&&!c["success"]&&n.get("forceCorrect")||!h&&p){r.select(u["ds"]);r.ui.drawDate=null;c=r.ui.validate()}!p&&c&&r.ui.updateTip(c);var d="Y";return d},checkRefObj:function(t){var n=this.picker,r;if(!n.get("refObj")||!(r=n.get("refObj").data(e.fdatepicker_price.ROOT_KEY))||r.ui.name.indexOf("qunar")!==0)return;if(!b(r.activeEl.val())){return}var i=(n.get("linkRules")||"").split(",");var o=this.getDate();if(o==null)return;if(t){if(t.restPos&&t.pos||t.restPos&&!r.activeEl.attr("data-pos")){r.activeEl.attr("data-pos",t.restPos)}}var u={};e.each(["ds","mind","maxd"],function(e,t){if(i[e])u[t]=s(i[e],o)});var a=r.get("strictMinDate"),f=r.get("strictMaxDate");if(u["mind"]||a){var l=(u["mind"]?u["mind"].getTime():-1)>(a?a.getTime():-1)?u["mind"]:a;r.set("minDate",l,false)}if(u["maxd"]||f){var l=(u["maxd"]?u["maxd"].getTime():Number.MAX_VALUE)>(f?f.getTime():Number.MAX_VALUE)?f:u["maxd"];r.set("maxDate",l,false)}r.set(null,null,true);r.activeEl.val(this.picker.args.today());var c=r.ui.validate();if(c&&!c["success"]&&n.get("forceCorrect")){r.select(u["ds"]);r.ui.drawDate=null;c=r.ui.validate()}c&&r.ui.updateTip(c);var h="Y";return h},select:function(e,t){var n=this.picker;this.parent.apply(this,arguments);this.selectedDate=e;this.drawDate=e;if(!t)this.autoCheck()},fuzzyInput:function(t){var n,r=t.target.value,i,s=b(r);if(s&&s.valid){this.fuzzyselect();n=this.picker.get("linkTo")||this.picker.get("refObj");i=n&&(!b(n.val())||n.val().indexOf("周")==-1||r.indexOf("周")==-1);i&&n.data(e.fdatepicker_price.ROOT_KEY).ui.setFuzzyDate(r)}},fuzzyselect:function(e,t){this.selectedDate=e;this.showText("");if(!t)this.autoCheck()},setFuzzyDate:function(e){var t=b(e),n=this.picker.activeEl.val();if(t){this.picker.activeEl.val(e);this.fuzzyselect(t.startDate)}else if(!b(n)&&this.picker.args.parseDate(n).getTime()>=this.picker.args.parseDate(e).getTime()){return}else{n=this.picker.args.plus(this.picker.args.parseDate(e),3);this.picker.activeEl.val(this.picker.args.formatDate(n));this.autoCheck()}},showText:function(e){var t=this.triggerEl.find(".dp-text");t.removeClass("errtext").html(e)},showErrText:function(e){var t=this.triggerEl.find(".dp-text");t.addClass("errtext").html(e)},autoCheck:function(){var e=this.picker,t,n;var r=e.activeEl.attr("data-pos");n=e.activeEl.val();t=b(n);if(t&&t.valid){this.checkLinked({pos:e.args.pos,restPos:r});e.args.pos="";return}var i=this.validate();if(!i["success"]&&e.get("forceCorrect")){this.setDate(this.getDefaultDate());this.updateTip(this.validate())}else{if(i["formatted"])e.activeEl.val(i["formatted"]);this.updateTip(i)}this.checkLinked({pos:e.args.pos,restPos:r});this.checkRefObj({pos:e.args.pos,restPos:r});e.args.pos=""},updateTip:function(e){if(!this.picker.get("showTip"))return;if(!e.success)this.showErrText(e.errmsg);else this.showText(e.daytip)},validate:function(){var e=this.picker;var t=this.picker.activeEl.val();var n=this.getDate();var i=this;if(n&&this.selectedDate&&this.selectedDate.getTime()!=n.getTime())this.selectedDate=null;var s="";if(n==null){s=e.get("LANG.ERR_FORMAT");e._trigger("q-datepicker-error",["FORMAT",t])}else{var o=e.get("minDate"),u=e.get("maxDate");if(o&&o.getTime()>n.getTime()||u&&u.getTime()<n.getTime()){s=e.get("LANG.OUT_OF_RANGE");e.args.pos="change";e._trigger("q-datepicker-error",["RANGE",t])}}var a={success:!s,errmsg:s,formatted:null,daytip:null};if(a["success"]){var l=e.get("formatDate")(n),c;switch(e.args.minuteDate(n)){case 0:if(!f)c="今天";break;case 1:c="明天";break;case 2:c="后天";break;default:c="周"+e.get("LANG.day_names")[n.getDay()];break}var h=r.getDateTip(l);a["daytip"]=h||c;a["formatted"]=l}return a},addRoundClass:function(e){if(e=="FROM")return this.picker.get("CLASS")["day_selected"];else if(e=="BACK"){return this.picker.get("CLASS")["day_round"]}else if(e=="AREAR"){return this.picker.get("CLASS")["day_area_bg"]}}});e.fn.fdatepicker_price=function(){if(this[0]){if(arguments.length>1&&this.data(i)){var e=this.data(i);if(arguments[0]==="option"||arguments[0]==="setting")return arguments.length>2?e.set(arguments[1],arguments[2]):e.get(arguments[1])}else if(arguments.length<=1){if(this.data(i)){this.data(i).dispose();this.removeData(i)}var t=new L(this[0],arguments[0]);this.data(i,t)}}return this};s=e.fdatepicker_price.calcTime})(jQuery)}).call(window)},function(e,t){(function(){function s(e){if(typeof e=="number"){e=new Date(e)}return e.getFullYear()+"-"+o(e.getMonth()+1)+"-"+o(e.getDate())}function o(e){return e<10?"0"+e:e}function u(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}function f(e){var t={};for(var n in e){var r=n;var o=e[n];t[n]=o;var u;if(o.beforeTime>0){for(var a=1;a<=o.beforeTime;a++){var f={};u=r.split("-");var l=new Date(u[0],u[1]-1,u[2]-a);var c=s(l);f.holidayName=o.holidayName+i.before+a+i.day;f.dayindex=o.dayindex;if(!t[c]){t[c]=f}else{if(o.dayindex>t[c].dayindex&&t[c].beforeTime==null){t[c]=f}}}}if(o.afterTime>0){for(var a=1;a<=o.afterTime;a++){var f={};u=r.split("-");var h=new Date(u[0],u[1]-1,parseInt(u[2])+a);var p=s(h);f.holidayName=o.holidayName+i.after+a+i.day;f.dayindex=o.dayindex;if(!t[p]){t[p]=f}else{if(o.dayindex>t[p].dayindex&&t[s(new Date(l))].afterTime==null){t[p]=f}}}}}return t}var t=typeof t==="function"&&!t.amd?t:false;var n,r,i;window.getConfigFuns.getCalendarHoliday("www",function(e){n=e.HolidayData;r=e.WorkHoliday;i=e.TransDateEx});var a;var l={getHolidayName:function(e){if(e in n){return n[e].holidayName}return""},getDateTip:function(e){if(a===void 0){a=f(n)}if(e in a){return a[e].holidayName}return""},getAllDateTip:function(){return a},isHoliday:function(e){return n[e]},isWork:function(e){return $.inArray(e,r.work)>-1},isVacation:function(e){return $.inArray(e,r.vacation)>-1},getHolidayInfo:function(e){var t=n[e];return t}};e.exports=l}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e,t){var n=e.jQuery,r=e.document;var i="YSELECTOR",s=".SELECTOR_EVENT",o="hover",u=n.browser.msie&&n.browser.version==="6.0";var a=function(){};a.options={emptyHidden:false,maxRows:10,index:null,direction:"bottom",onchange:function(){},onselect:function(e){return e||""}};a.prototype={_init:function(e){var t=this;t._setOptions(e||{});t._bindEvents()},_bindEvents:function(){function i(t){if(e.option("disable")){return}if(r){e._hide();if(e.options.holder.attr("data-prefix")){newClkObj.nanachiClk({button_id:"4-4-2-1",button_name:"搜索-邮轮输入",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}else{newClkObj.nanachiClk({button_id:"4-4-3-1",button_name:"搜索-签证输入",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}}else{e._show()}r=!r}var e=this,t=e.option("jquery"),r=false;t.delegate(".yselector_input","click"+s,i).delegate(".yselector_arraw","mousedown"+s,function(t){e.option("input").focus();t.preventDefault();if(this.setCapture){this.setCapture()}i(t)}).delegate(".yselector_arraw","click"+s,function(e){if(this.releaseCapture){this.releaseCapture()}}).delegate(".yselector_input","focusout"+s,function(){if(r){e._hide();r=false}var t=e.val(),i=e._getByValue(t);n(n.fn.yselector.events).trigger("blur",[e,i,e.option("holder")])}).delegate(".yselector_suggest ul","mousedown"+s,function(t){t.preventDefault();if(this.setCapture){this.setCapture()}var r=t.target;if(r.tagName!=="A"){return}var s=n(r).data("index");e.index(s);i(t)}).delegate(".yselector_suggest ul","click"+s,function(e){if(this.releaseCapture){this.releaseCapture()}}).delegate(".yselector_suggest ul","mouseenter"+s,function(t){e._cur().removeClass(o)}).delegate(".yselector_input","keydown"+s,function(t){if(e.option("disable")){return}var n=t.keyCode;if(n===37||n===38){return false}else if(n===39||n===40){return false}else if(n===13){i(t)}else if(n===8){return false}})},_cur:function(e){var t=this,n=e==null?t.option("index"):e,r=t.option("suggest").find("a:eq("+n+")");return r},_drawHtml:function(){var e=this;var t=['<div class="yselector">','<div class="yselector_box">','<div class="yselector_arraw"><b></b></div>','<span class="yselector_input" tabindex="0"></span>',"</div>",'<div style="display:none;" class="yselector_suggest">',"<ul></ul>","</div>","</div>"];var r=n(t.join("\n")),i=e.option("holder").hide();i.after(r);e.option("jquery",r);e.option("suggest",n(".yselector_suggest",r));e.option("input",n(".yselector_input",r))},_drawSuggest:function(){var e=[],t,n=this,r=n.option("data");for(var i=0,s=r.length;i<s;i++){t=r[i];e.push('<li><a data-value="'+t.value+'" hidefocus="on" data-index="'+i+'"');e.push(' onclick="return false;" href="javascript:;" rel="nofollow" tabindex="-1">'+t.text+"</a></li>")}n.option("suggest").html("<ul>"+e.join("\n")+"</ul>")},_setOptions:function(e){var t=this;t.options=n.extend({},a.options,e);var r=e.rawSelect,i=r.options,s=r.selectedIndex,o;var u=function(){var e=[];for(var t=0,n=i.length;t<n;t++){o=i[t];e.push({value:o.value||o.text,text:o.text})}return e};t.option("holder",n(r));t.option("index",e.index!=null?e.index:s);t._drawHtml();t.setOptions(u());n(r).bind("update",function(){t.setOptions(u())})},_getByValue:function(e,t){if(!e){return}var n=this.option("data"),r;t=t||"value";for(var i=0,s=n.length;i<s;i++){r=n[i];if(r[t]==e){return r}}},_setByObject:function(e,t){e=e||{};if(!t&&this.option("index")===e.index){return}var r=this,i=r.option("onselect"),s=r.option("onchange");var o=i?i(e.text):e.text||"";r.option("value",e.value||"");r.option("text",o);r.option("index",e.index||0);var u=r.option("holder"),a=r.option("input");if(u){u[0].selectedIndex=e.index}if(a){r.option("input").text(o)}if(s){s.call(r,e)}n(n.fn.yselector.events).trigger("change",[r,e,r.option("holder")])},_triggerClass:function(e,t){var n=this;if(e===t){return}n._cur(e).removeClass(o);n._cur(t).addClass(o)},_show:function(){var e=this,t=e.option("suggest"),n=e.option("index"),r=e.option("direction");e._drawSuggest();var i=t.find("a");i.eq(n).addClass(o);t.show();var s=e.option("maxRows");var u=Math.min(i.size(),s)*i.height();var a=r==="top"?0-u-e.option("jquery").height():0;t.find("ul").css("height",u).css("top",a)},_hide:function(){this.option("suggest").hide()},setOptions:function(e){var t=this,n=t.option("jquery");e=e||[];var r=t.option("holder")[0];r.length=0;for(var i=0,s=e.length,o;i<s;i++){o=e[i];o.index=i;r.options.add(new Option(o.text,o.value))}t.option("data",e);if(!e.length&&t.option("emptyHidden")){n.hide()}else{n.show()}t._setByObject(e[t.option("index")]||e[0],true)},first:function(){return this.option("data")[0]||{}},option:function(e,t){if(t!=null){this.options[e]=t}else{return this.options[e]}},previous:function(){var e=this,t=e.index()-1;if(t<0){t=e.option("data").length+t}e.index(t)},next:function(){var e=this;e.index(e.option("index")+1)},index:function(e){var t=this;if(e==null){return t.option("index")}var n=t.option("data"),r=n[e],i=t.option("index");if(!r){r=t.first();e=0}t._setByObject(r)},val:function(e,t){var n=this;if(e==null){return n.option("value")}var r=n._getByValue(e);if(r==null){r=n.first()}n._setByObject(r,t)},text:function(e){var t=this;if(e==null){return t.option("text")}var n=t._getByValue(e,"text");if(n==null){n=t.first()}t._setByObject(n)},disable:function(){this.option("jquery").addClass("disble");this.option("disable",true)},enable:function(){this.option("jquery").removeClass("disble");this.option("disable",false)}};n.fn.extend({yselector:function(e){n.fn.yselector.events={};this.each(function(t,r){var s=n(this);var o=s.data(i);if(!o){e=e||{};e.rawSelect=s[0];o=new a;s.data(i,o);o._init(e)}return o});return this}})})(this)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){function i(e){if(typeof e=="string"){if(r.test(e)){return parseInt(e,10)}}return e}function s(e,t){if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16);if(e.contains&&t.nodeType===1){return e.contains(t)&&e!==t}while(t=t.parentNode)if(t===e)return true;return false}if(!e.bui){e.bui={}}var t={};var n={};var r=/^\d+$/;jQuery.expr[":"].focus=function(e){return e===document.activeElement&&(e.type||e.href)};e.RegisterUI=function(n,r){if(t[n])return;r=r||{};t[n]=function(t){var n=this;this.el=t;this.$el=e(t);this._options={};this._plugins={};e.each(r.propertychange||{},function(e,t){n.on(e+"_changed",t)});e.each(r.properties||{},function(e,t){n._options[e]=t})};t[n].prototype=e.extend({options:function(t){var n=this;e.each(t,function(e,t){n.set(e,t)})},dom:function(){return this.el},plugins:function(e,t){if(t){this._plugins[e]=t}else{return this._plugins[e]}},data:function(e,t){if(arguments.length==1){return this.get(e)||this.$el.data(n+"-"+e)}else{this.$el.data(n+"-"+e,t);this.set(e,t)}},set:function(t,n,r){n=i(n);var s={name:t,new_value:n,old_value:this.get(t)};if(r!=true){e(this).trigger(t+"_before_change",[s])}this._options[t]=s.new_value;if(r!=true){e(this).trigger(t+"_changed",[n])}},get:function(e){return this._options[e]},on:function(t,n){e(this).bind(t,n)},un:function(t){e(this).unbind(t)},fire:function(){var t=e(this);t.trigger.apply(t,Array.prototype.slice.apply(arguments))}},r);e.fn[n]=function(r){r=r||{};if(e.isPlainObject(r)){return e.each(this,function(){var i=e(this).data(n);if(!i){var s=new t[n](this);e(this).data(n,s);s.options(r);s.initialize()}else{e(this).data(n).options(r)}})}else if(typeof r=="string"){var i=arguments[0];var s=Array.prototype.slice.call(arguments,1);var o=e(this).data(n);if(e.isFunction(o[i])){return o[i].apply(o,s)}}return this}};e.RegisterPlugin=function(e,r,i,s){if(!t[e]){alert("not found UI["+e+"]");return}var o=n[e]=n[e]||{};var u=o[r]=o[r]||{};u[i]=s};e.usePlugin=function(t,r){e.each(n[r],function(n,r){e.each(r,function(e,r){if(t.data(n)===e){var i=function(){this.ui=t;this.initialize()};i.prototype=r;t.plugins(n,new i)}})})};var o=e.fn.val;jQuery.fn.val=function(t){var n=this[0];if(n&&n.qcbox){if(t!=null){if(e.trim(t)==""){n.qcbox.showPlaceHolder()}else{n.qcbox.hidePlaceHolder()}}}return o.apply(this,Array.prototype.slice.apply(arguments))};e.RegisterUI("qcbox",{initialize:function(){var t=this;var n=this.$el;n[0].qcbox=this;var r=null;var i=this.data("customclass");var s=this.$wrap=n.wrap('<div class="qunar-qcbox'+(i?" "+i:"")+'"></div>').before('<div class="qcbox-placeholder"></div>').before('<div class="qcbox-prefix"></div><div class="qcbox-info"><b /></div>').after('<div class="qcbox-fixed"></div>').parent();var o=this.$fixed=s.find(".qcbox-fixed");var u=this.$handler=s.find(".qcbox-info b");n.addClass("textbox");if(this.data("hideicon")){u.hide()}s.click(function(e){t.fire("qcbox-focus")});e(document.body).bind("mouseup",function(n){if(e(n.target).closest(".qunar-qcbox").length==0){t.fire("qcbox-blur")}});s.mouseup(function(e){n.focus()});n.bind("blur",function(){t.resetPlaceHolder()});n.bind("focus",function(){t.hidePlaceHolder();this.select()});n.bind("showHotCity",function(){t.plugins("hotcity").showHotcity()});n.keyup(function(e){switch(e.keyCode){case 9:s.find(".qcbox-placeholder").hide();break;default:break}});this._resetWidth();e.usePlugin(t,"qcbox");this._resetHotcity();this._resetPlaceHolder()},_resetHotcity:function(){function o(){var i=r.$el;var s=r.$fixed;if(!t.initialized){s.empty();t.$hotcity=s.append("<div class='hotcity'><div>").find(".hotcity");t.initializeStruct();t.initialized=true}e(t).trigger("hotcity-preshow",[t]);t.$hotcity.show();n=1;e(t).trigger("hotcity-show")}function u(){if(typeof t=="undefined"||!t.$hotcity)return;t.$hotcity.hide();n=0;e(t).trigger("hotcity-hide")}var t=this.plugins("hotcity");if(!t)return;var n=0;var r=this;var i=this.$el;var s=this.$wrap;t.attachedEl=t.attachedEl||new e;this.$el.keydown(function(e){u()});t.attachedEl=t.attachedEl.add(s.find(".qcbox-info > b , .qcbox-info")).add(s.find(".qcbox-info > b , .qcbox-info > .qcbox-text ").add(s.find(".qcbox-placeholder"))).add(s.find(".qcbox-prefix"));e(document).bind("mouseup",function(n){var r;if(i[0]===n.target&&(r=1)||~t.attachedEl.index(n.target)&&(r=2)){if(!t.$hotcity||!t.$hotcity.is(":visible")){o()}else{u()}if(r==2)i.focus();return}if(!e(n.target).data("hotcity-nogo")&&e(n.target).parents("[data-hotcity-nogo]").length==0)u()});t.showHotcity=o;t.hideHotcity=u},_resetPlaceHolder:function(){function r(){var n=t.$el.val();if(e.trim(n)==""){i()}else{s()}}function i(){n.text(t.data("placeholder"));n.show()}function s(){n.hide()}var t=this;var n=this.$wrap.find(".qcbox-placeholder");r();this.showPlaceHolder=i;this.hidePlaceHolder=s;this.resetPlaceHolder=r},_resetWidth:function(){var e=this.$el;var t=this.$wrap;var n=this.data("prefix");if(n){t.find(".qcbox-prefix").text(n);e.css({left:t.find(".qcbox-prefix").outerWidth(true)+"px"})}else{t.find(".qcbox-prefix").remove()}t.find(".qcbox-placeholder").css({width:e.width(),left:e.css("left"),"padding-left":e.css("padding-left"),height:e.height(),"line-height":e.height()+"px"})}});e.RegisterUI("qcboxfuzzy",{initialize:function(){var t=this;var n=t.$el;n[0].qcboxfuzzy=this;n.parent().find(".qunar-qcbox").remove();var r=['<div class="qunar-qcbox">','<div class="qn-prefix">我想去</div>','<div class="qn-qcbox"></div>','<div class="qn-plc"><div class="plc">可输入城市或国家</div>',"</div>"];var i=['<div class="qcbox-fixed js_fuzzylist"></div>','<div class="qcbox-fixed"><div class="q-err"></div></div>'];var s=t.$wrap=n.before(r.join("")).after(i.join("")).parent();t.$fixed=s.find(".js_fuzzylist");t.$qtab=s.find(".qn-qcbox");t.$topic=s.find("#topic");t.$suggest=s.find(".js-suggestcontainer");t.$topic.val("");s.on("mouseup.fuzzyEvt",function(e){if(t.isFuzzyDis()){e.stopPropagation();t.setFuzzyErr();t.hidePlaceHolder()}});n.on("blur.fuzzyEvt",function(){t.resetPlaceHolder();s.removeClass("qcbox-fuzzy-on")}).on("focus.fuzzyEvt",function(){t.hidePlaceHolder();s.addClass("qcbox-fuzzy-on")});n.bind("showHotfuzzy",function(){t.plugins("hotfuzzy").showHotfuzzy()});n.bind("fuzzychange",function(){if(t.isFuzzyDis()){t.hidePlaceHolder()}});t.$qtab.delegate(".qtab","mouseover",function(){e(this).addClass("qtab-hover")}).delegate(".qtab","mouseout",function(){e(this).removeClass("qtab-hover")}).delegate(".f-delete","mouseup",function(){var n=t.$topic.val();var r=n.replace(/\([^)]*\)/g,"").split(",");var i=n.split(",");i.splice(e.inArray(e(this).parent(".qtab").data("txt"),r),1);t.$topic.val(i.join(","));e(this).parent(".qtab").remove();t.clearFuzzyErr();var s=[];e.map(t.$qtab.find(".qtab"),function(t){var n=e(t).data("type");if(e.inArray(n,s)<0){s.push(n)}});t.setElWidth()});n.keydown(function(e){switch(e.keyCode){case 9:s.find(".qcbox-placeholder").hide();break;case 8:if(n.val()==""&&t.$topic.val()!=""){var r=t.$topic.val().split(",");r.splice(r.length-1,1);t.$topic.val(r.join(","));t.$qtab.find(".qtab:last-child").remove();t.clearFuzzyErr();t.setElWidth()};default:t.isFuzzyDis()&&e.preventDefault();break}});e(document.body).bind("mouseup",function(r){if(e(r.target).closest(".qcbox-fuzzy").length==0){n.val();t.showPlaceHolder();t.isFuzzyDis()&&t.clearFuzzyErr()}});e.usePlugin(t,"qcboxfuzzy");this._resetHotfuzzy();this._resetPlaceHolder()},setFuzzyErr:function(e){var t=this;var n=!e?"最多支持输入5项":e;t.$wrap.addClass("qcbox-fuzzy-err");t.$wrap.find(".q-err").html(n)},clearFuzzyErr:function(){var e=this;e.$wrap.removeClass("qcbox-fuzzy-err")},renderTopicHtml:function(e){var t=this;var n=e.topic.length>3?e.topic.substring(0,3)+"..":e.topic,r=e.type||"",i=e.code||"";if(n.replace(/\ +/g,"")=="")return;var s=e.topic.length>3?"title="+e.topic:"";this.$qtab.append('<div class="qtab" data-type="'+r+'" data-code="'+i+'" data-txt="'+e.topic+'"'+s+'><span class="f-delete"></span>'+n+"</div>");t.setElWidth()},_resetHotfuzzy:function(){function a(){var i=r.$el;var s=r.$fixed;if(r.$suggest.find(".q-suggest")&&r.$suggest.find(".q-suggest").is(":visible")){return}if(!t.initialized){s.empty();t.$hotfuzzy=s.append("<div class='hotfuzzy'><div>").find(".hotfuzzy");t.initializeStruct();t.initialized=true}e(t).trigger("hotfuzzy-preshow",[t]);t.$hotfuzzy.show();n=1;e(t).trigger("hotfuzzy-show")}function f(){if(typeof t=="undefined"||!t.$hotfuzzy)return;t.$hotfuzzy.hide();n=0;e(t).trigger("hotfuzzy-hide")}var t=this.plugins("hotfuzzy");if(!t)return;var n=0;var r=this;var i=this.$el;var s=this.$wrap;var o=new e;o=o.add(s.find(".qn-qcbox"));var u=new e;u=u.add(s.find(".qn-prefix")).add(s.find(".plc")).add(i);s.keydown(function(e){f()});e(document).bind("mouseup",function(n){var r;if(o.index(n.target)==-1&&(s[0]===n.target||u.index(n.target)!=-1)){if(!t.$hotfuzzy||!t.$hotfuzzy.is(":visible")){a();i.focus()}else{f()}return}if(e(n.target).parents("[data-hotfuzzy-nogo]").length==0)f()});t.showHotfuzzy=a;t.hideHotfuzzy=f;return t},_resetPlaceHolder:function(){function r(){var n=t.$el.val();if(e.trim(n)==""){i()}else{s()}}function i(){if(t.isFuzzyDis()){return}n.text(t.data("placeholder"));n.show()}function s(){n.hide()}var t=this;var n=t.$wrap.find(".plc");r();this.showPlaceHolder=i;this.hidePlaceHolder=s;this.resetPlaceHolder=r},isFuzzyDis:function(){return this.$topic.size()&&this.$topic.val().split(",").length==5},setElWidth:function(){var e=this;e.$el.width(e.$wrap.width()-e.$qtab.width()-58)},checkTopic:function(){var e=this;e.$el.trigger("fuzzychange")}})})(jQuery)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){function s(e){var t=e.offset();t["top"]+=e.outerHeight();return t}function o(e){return e.closest("table").data("data")[e.attr("data-ind")*1]}function u(e){var t=this;var n=t.visible();var r=e.keyCode;if(r===40&&!n){t.show();return}var i=t.el.find("tr");var s=i.filter(".active");switch(r){case 38:case 40:if(n){t._excludeEl=t._mouseFocus;s.removeClass("active");var u=e.keyCode===38?s.prev():s.next();if(u.size()===0)u=i.filter(r===38?":last":":first");var a=t.args.getData||o;var f=a(u);t.setValue(f);u.addClass("active");e.preventDefault();t._trigger("q-suggest-user-action",[e.type,f,r])}break;case 13:case 27:if(n){t.hide();t._trigger("q-suggest-user-action",[e.type,t.getValue(),r])}break;case 18:case 9:break;default:}}function a(e,t){if(!this.init)return new qsuggest(e,t);else return this.init(e,t)}var t=function(){var t="data-detect-oninput",n={},r={},i=1,s=1;var o=function(e,t,r,i){if(e.addEventListener)e.addEventListener(t,r,false);else if(e.attachEvent)e.attachEvent("on"+t,r);(n[i]||(n[i]=[])).push({t:t,h:r})};var u=function(e,t){if(!n[t])return;for(var r=0,i;i=n[t][r];r++)if(e.removeEventListener)e.removeEventListener(i["t"],i["h"],false);else if(e.detachEvent)e.detachEvent("on"+i["t"],i["h"]);delete n[t]};var a=function(e,t){var n=e.value;var r=function(){var i;if((i=e.value)!==n){if(r._sleep!==true)t.call(e,i,n);n=e.value}};return r};var f=navigator.userAgent.toLowerCase();return{version:"1.3",bind:function(e,n){var u,l=n[t];if(!l)n[t]=l=i++;if(!(u=e.getAttribute(t)))e.setAttribute(t,u=""+s++);var c=a(e,n);if("oninput"in e&&!/msie\s9/.test(f)&&!/opera/.test(f))o(e,"input",c,l);else{var h;o(e,"focus",function(){if(!h)h=setInterval(c,100)},l);o(e,"blur",function(){if(h){clearInterval(h);h=null}},l)}r[l]={eid:u,checker:c};return e},unbind:function(e,n){if(n[t]){u(e,n[t]);delete r[n[t]]}return e},set:function(e,n){var i=e.getAttribute(t);if(i){var s=[];for(var o in r)if(r[o]["eid"]===i){s.push(r[o]["checker"]);r[o]["checker"]._sleep=true}e.value=n;for(var u=0,a=s.length;u<a;u++){s[u].call(e);s[u]._sleep=false}}else e.value=n},setFuzzy:function(n,i){var s=n.getAttribute(t);var o=e(n);var u=e(n).siblings("#topic"),a=u.val()==""?"":u.val()+",",f=i.replace(/\([^)]*\)/g,""),l=i.match(/\(([^\)]+)\)/),c=l?l[1]:"",h=l?l[0]:"";if(u.size()&&u.val().indexOf(f)!=-1){return}if(s){var p=[];for(var d in r)if(r[d]["eid"]===s){p.push(r[d]["checker"]);r[d]["checker"]._sleep=true}o.data("qcboxfuzzy").renderTopicHtml({topic:f,type:1,code:c});u.val(a+f+h);n.value="";for(var v=0,m=p.length;v<m;v++){p[v].call(n);p[v]._sleep=false}}else{o.data("qcboxfuzzy").renderTopicHtml({topic:f,type:1,code:c});u.val(a+f+h);n.value=""}}}}();e.qsuggest={version:"1.2"};var n=e.qsuggest.ROOT_KEY="q-suggest";var r=0;var i={ajax:{url:null,cache:false,success:function(){}},reader:function(e){return e},loader:function(e){return e},max:10,min:1,container:null,delay:100,rdelay:1e3,requestWithNothing:false,trimQuery:true,autoSelect:true,css:{"z-index":500},setValue:function(e){return e},render:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},exattr:function(e){return e}};e.extend(a.prototype,{init:function(s,a){this.key=++r;var f=this.ns=n+this.key;a=this.args=e.extend(true,{},i,a||{});var l=this.activeEl=e(s);var c=this;this.el=e('<div class="'+n+(a.customClass?" "+a.customClass:"")+'"></div>').appendTo(a["container"]||document.body).hide();this.el.data(n,this);this._handler=null;this._ajaxHandler=null;this._excludeEl=null;this._mouseFocus=null;this._last=[];this._cache={};this._value=null;e.each(a["on"]||{},function(e,t){l.bind(e+"."+f,t)});if(a["css"])this.el.css(c.args["css"]);var c=this;var h=false;l.bind("keydown."+f,function(e){var t=e.keyCode;if(t>=229){h=true}});t.bind(l[0],function(){c._trigger("q-suggest-inputChange");c.show()});l.bind("keydown."+f,function(e){if(h){h=false;return}var t=c.args.keyevent||u;t.call(c,e);h=false});l.bind("blur."+f,function(e){if(c.visible()&&c.args.fuzzyFun){this.value="";c.hide();return}if(c.visible()){var t=c.el.find(a.ACT_CLASS||"tr.active");if(t.length>0){var n=c.args.getData||o;if(c.args.autoSelect){var r=n(t);r&&c.setValue(r)}}else{c._trigger("q-suggest-noresult",[l])}c.hide()}});e("tr",this.el[0]).live("mouseover."+f+" mouseout."+f+" mousedown."+f,function(t){var n=e.nodeName(t.target,"tr")?e(t.target):e(t.target).parents("tr").eq(0);if(e(n[0]).attr("data-sug_type")==1){t.preventDefault();return}var r=n[0]!=c._excludeEl;if(t.type==="mouseover"){if(r){n.parents().children().removeClass("active");n.addClass("active");c._excludeEl=null}c._mouseFocus=n[0]}else if(t.type==="mouseout"){c._mouseFocus=null}else{var i=c.args.getData||o;c.setValue(i(n));c.hide();c._trigger("q-suggest-user-action",[t.type,c.getValue(),n.index(),null])}});this._trigger("q-suggest-init",[this]);return this},req:function(){var t=this;if(t._handler)clearTimeout(t._handler);if(t._timeoutHandler){clearTimeout(t._timeoutHandler);t._timeoutHandler=null}if(t._ajaxHandler){t._ajaxHandler=null}t._handler=setTimeout(function(){t.args.fuzzyFun?t.args.fuzzyFun():"";var n=t.activeEl.val(),r=t.args.loader(n),i=null,s;var o=function(){(t.args.draw||t.draw).apply(t,[].slice.call(arguments))};if(t.args.trimQuery)r=e.trim(r);if(!r&&!t.args.requestWithNothing){o(null);return}if(t._last&&t._last[0]===r){o(t._last[1]);return}if(t._last&&t._last[0]==r)i=t._last;else if(t.args.cache&&t._cache[r])i=t._cache[r];var u=typeof t.args.ajax.url=="function"?t.args.ajax.url():t.args.ajax.url;if(i)o((t._last=i)[1]);else if(!u)o(null);else{u=u.replace(/\*([^*]+)$/,encodeURIComponent(r)+"$1");var a=t.args.ajax.success;t._timeoutHandler=setTimeout(function(){t.hide()},t.args.rdelay);t._ajaxHandler=e.ajax(e.extend({},t.args.ajax,{url:u,success:function(e,i){clearTimeout(t._timeoutHandler);t._timeoutHandler=null;t._ajaxHandler=null;if(n!==t.activeEl.val())return;var s=t.args.reader.call(t,e,i);if(t.type(s)==="Array"){o(s,e);t._last=t._cache[r]=[r,s,i]}a.apply(this,arguments)}}))}},t.args.delay)},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},show:function(){this.req()},hide:function(){if(this.visible()){this.el.hide();this._trigger("q-suggest-hide")}},draw:function(t,n){this.el.empty();var r=this.args.min,i=this.args.max,o=t?t.length:0;if(!t||!o||o<r){this.hide();return}var u=t[0].country;var a={country:"中国",txt:"所有地点",val:"所有地点",type:0};var f={country:u,txt:u,val:u,type:0};if(this.args.allPlace&&t[o-1].val!=a.val){t.push(a)}var l=[],c=this.args.render,h=this.args.exattr,p=true;l.push('<table cellspacing="0" cellpadding="2"><tbody>');e.each(t,function(e,t){if(e>=i)return false;var n="";if(t.type!==1&&p){p=false;n=' class="active'}if(t.exClass){n=n?n+" "+t.exClass+'" ':' class="'+t.exClass+'" '}else{n=n?n+'" ':""}l.push("<tr",n,' data-ind="',e,'" ',h(t),"><td>",c(t),"</td></tr>")});l.push("</tbody></table>");this._trigger("q-suggest-beforeshow",[this.el,n]);var d=e(l.join("")).appendTo(this.el).data("data",t);if(!this.args["container"])this.el.css(s(this.activeEl));this.el.show();this._trigger("q-suggest-show",[t])},dispose:function(){this._trigger("q-suggest-dispose");this.activeEl.unbind("."+this.ns);e(window).unbind("."+this.ns);this.el.remove()},visible:function(){return this.el.is(":visible")},_trigger:function(){this.activeEl.triggerHandler.apply(this.activeEl,arguments)},setValue:function(e){if(this.args.fuzzyFun){t.setFuzzy(this.activeEl[0],e)}else{t.set(this.activeEl[0],e)}this._value=e;this._setExtData();this._trigger("q-suggest-setvalue",[e,this.activeEl])},_setExtData:function(){var e=this.args.getExtData?this.args.getExtData(this.el.find("tr.active")):{};this._trigger("q-suggest-setextdata",[e,this.activeEl])},getValue:function(){return this._value},set:function(e,t){var n=false;switch(e){case"container":this.el.appendTo(t||document.body);this.el.css({top:"",left:""});break}if(!n)for(var r=0,i=e.split("."),s=i.length,o=this.args;r<s&&(r!==s-1&&(o[i[r]]||(o[i[r]]={}))||(o[i[r]]=t));o=o[i[r]],r++){}return t},get:function(e){for(var t=0,n=this.args,r=e.split("."),i=r.length;t<i&&(n=n[r[t]]);t++){}return n}});e.fn.qsuggest=function(){var t=arguments;if(arguments.length>1&&this.data(n)){var r=null;if(arguments[0]==="option"||arguments[0]==="setting")this.each(function(i,s){var o=e(s);var u=this.data(n);if(u)r=r||(t.length>2?u.set(t[1],t[2]):u.get(t[1]))});return r}else if(arguments.length<=1){this.each(function(r,i){var s=e(i);if(s.data(n)){s.data(n).dispose();s.removeData(n)}var o=new a(i,t[0]);s.data(n,o)})}return this}})(jQuery)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){function s(e){var r=e.contentWindow.QunarHistory;t=o(r);n=u(r)}function o(t){function d(e){var t=[],n;for(var r=0;r<e.length;r++){n=0;for(var i=0;i<t.length;i++){if(e[r].fromCity==t[i].fromCity&&e[r].toCity==t[i].toCity){n=1;break}}if(n!=1){t.push(e[r])}}return t}var n=t.findEntries("SF");var r=t.findEntries("DL");var i=[],s=[],o=[],u=[];e.each(n,function(e,t){if(a(t)){i.push(l(t));return false}});e.each(n,function(e,t){if(!a(t)){s.push(l(t));return false}});e.each(r,function(e,t){t.roundtrip=true;if(a(t)){o.push(l(t));return false}});e.each(r,function(e,t){t.roundtrip=true;if(!a(t)){u.push(l(t));return false}});var f=[],c=[];f=f.concat(s).concat(u);c=c.concat(i).concat(o);f.sort(function(e,t){return parseInt(t.timestamp,10)-parseInt(e.timestamp,10)});c.sort(function(e,t){return parseInt(t.timestamp,10)-parseInt(e.timestamp,10)});var h=[],p=[];e.each(n,function(e,t){if(a(t)){h.push(l(t))}else{p.push(l(t))}});e.each(r,function(e,t){t.roundtrip=true;if(a(t)){h.push(l(t))}else{p.push(l(t))}});h.sort(function(e,t){return parseInt(t.timestamp,10)-parseInt(e.timestamp,10)});p.sort(function(e,t){return parseInt(t.timestamp,10)-parseInt(e.timestamp,10)});h=d(h);p=d(p);return{domesticFirst:f[0],interFirst:c[0],domesticFlightList:p,interFlightList:h}}function u(e){return{HL:e.findEntries("HL")[0],HDL:e.findEntries("HDL")[0],HBL:e.findEntries("HBL")[0],HLL:e.findEntries("HLL")[0],HTL:e.findEntries("HTL")[0]}}function a(e){var t=e.fromCountry;var n=e.toCountry;var r=t;var i=n;if(~t.indexOf("-")){r=t.split("-")[0];i=t.split("-")[1]}e.fromCountry=r;e.toCountry=i;return f(r)!=="中国"||f(i)!=="中国"}function f(e){return decodeURIComponent(e)}function l(t){e.each(t,function(e,n){t[e]=f(n)});return t}e.qhistory={};var t=null;var n=null;var r="#js_ifrmHistory";var i="//history.qunar.com/history/newhistory.html";e.qhistory.init=function(o){var u=e(o.frameid||r);u.attr("src",o.src||i);u.bind("load",function(){s(u[0]);var e={flight:t,hotel:n};var r=o.success||function(){};r(e)})}})(jQuery)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;var t=$.trim($("#releasemap").html()).split(/\n/);var n={};var r="scripts/release/";var i="@";var s;$.each(t,function(e,t){if(!t.indexOf(r)){s=t.split("#");n[s[0]]=n[s[0]]||s[1]}});(function(){var e={};$.qload=function(t,s){var o=n[r+t+".js"];var u=["//q.qunarzz.com/homenode/prd/scripts/release/",t,i,o,".js"].join("");if(e[t])return;$.ajax({url:u,dataType:"script",cache:true,success:function(){e[t]=true;s()}})}})()}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e,t){function n(t,r,i,s,o){if(e.isFunction(r))s?n(t,["","Up","Right","Down","Left",r],i,0,o):t[i]=function(e){var t=[e].concat(o),n=t.length-1;if(0===s&&0==t[n]){var i=e.diff;t[n]=e.options.vertical?0>i?1:3:0>i?2:4}r.apply(this,t)};else if(e.isArray(r))for(var u=r.length-1,a=r[u],f=0;f<u;f++){var l=o.slice();l.push(f);n(t,a,i+r[f],s,l)}else e.each(r,function(e,r){n(t,r,i+e,s,o)})}function r(t,n,r,i,s,o,a,l,c){var p=t.options,d=p.boxrows,v=p.boxcols,m=d*v,b=p.speed/(1==m?1:2.5),w=f(t,v,d,!l),x=p=0,T=0,C=[];C[x]=[];n&&y(w);s&&E(w);for(var k=0;k<w.length;k++)C[x][T]=w[k],T++,T==v&&(r&&y(C[x]),x++,T=0,C[x]=[]);x=[];if(1==o)for(w=0;w<2*v+1;w++){m=w;k=[];for(o=0;o<d;o++){if(0<=m&&m<v){T=C[o][m];if(!T)return;k.push(T)}m--}0!=k.length&&x.push(k)}else if(2==o){var C=d/2,T=n?m:-1,L=n?-1:1;for(o=0;o<C;o++){for(m=k=o;m<v-o-1;m++)x[T+=L]=w[k*v+m];m=v-o-1;for(k=o;k<d-o-1;k++)x[T+=L]=w[k*v+m];k=d-o-1;for(m=v-o-1;m>o;m--)x[T+=L]=w[k*v+m];m=o;for(k=d-o-1;k>o;k--)x[T+=L]=w[k*v+m]}}else for(w=0;w<d;w++)for(m=0;m<v;m++)x.push([C[w][m]]);l&&t.goToNext();for(var O=0,k=0;k<x.length;k++){d=x[k];e.isArray(d)||(d=[d]);for(v=0;v<d.length;v++)(function(e,o){function f(o){var f=e(),h=f.children(),p=f.width(),d=f.height(),v=p,m=d,y=S(f.css("left")),w=S(f.css("top")),E=y,x=w,T=S(h.css("left")),C=S(h.css("top")),k=T,L=C;if(a){var M,_;s?(_=A([-v,v]),M=A([-m,m])):(_=n!=r?-v:v,M=n?-m:m);l?(E-=1.5*_,x-=1.5*M):f.css({left:y+1.5*_,top:w+1.5*M})}i&&(l?(k-=v/2,E+=v/2,L-=m/2,x+=m/2,m=v=0):(f.css({left:y+v/2,top:w+m/2}),h.css({left:T-v/2,top:C-m/2}),f.width(0).height(0),c&&f.css({borderRadius:N(d,p)})));l&&f.css({opacity:1});O++;g(function(){H.ready(function(){u(h,{left:k,top:L},b,!1,!1,t);u(f,{opacity:l?0:1,width:v,height:m,left:E,top:x,borderRadius:i&&l&&c?N(d,p):0},b,!1,function(){O--;0==O&&t.callback()},t)})},o)}l||150>o?f(o):g(h(f,[150]),o-150)})(d[v],p);p+=b/x.length*1.5}}function i(t,n,r,i,s,o,a,l){for(var c=t.options,p=c.slices,d=c.speed/2,c=t.slider,v=f(t,n?p:1,n?1:p,!l),m=e(),b=0;b<v.length;b++)m=m.add(v[b]());var w=0,S=!1;r?y(m):e(y(m.get())).appendTo(c);i&&E(m);m.each(function(i){i*=d/p;var f=e(this),c=f.width(),v=f.height(),m=f.css("left"),y=f.css("top"),b=n?m:y,E=f.children()[n?"width":"height"]();1==o?b=0:2==o&&(b=E/2);r&&(b=E-b);n?f.css({width:s||a?c:0,left:b}):f.css({height:s||a?v:0,top:b});l&&(b=1==a?-1:1,f.css({top:y,left:m,width:c,height:v,opacity:1}),n?y=b*v:m=b*c);a&&(b=!0,3==a?S=S?b=!1:!0:2==a&&(b=!1),n?l?y=(b?-1:1)*v:f.css({bottom:b?0:v,top:b?v:0,height:l?v:0}):l?m=(b?-1:1)*c:f.css({right:b?0:c,left:b?c:0,width:l?c:0}));w++;g(h(u,[f,{width:c,height:v,opacity:l?0:1,left:m,top:y},d,!1,function(){w--;0==w&&t.callback()},t]),i)});l&&t.goToNext()}function s(e,t,n){var r=2==n||4==n;n=2==n||3==n?1:-1;var i=e.options.speed,s=e.callback;if(t){t=e.fromSlides;var o=c(e,!0).hide();e.slider.append(o);var a=N(o.height(),t.height()),f=N(o.width(),t.width());o.css(r?{left:n*f}:{top:n*a}).show();u(o,{left:0,top:0},i,!1,s,e)}else t=c(e,!1),e.slider.append(t),e.goToNext(),o=e.toSlides,o=-1==n?t:o,a=o.height(),f=o.width(),u(t,r?{left:n*f}:{top:n*a},i,!1,s,e)}function o(e){var t=b(e.slider),n=e.options.speed,r=e.target,i=r.left,r=r.top;e.options.usecss?u(t,{transform:"translate("+i+"px, "+r+"px)"},n,!1,e.callback,e,!0):u(t,{marginTop:r,marginLeft:i},n,!1,e.callback,e)}function u(e,t,n,r,i,s,o){function u(){if(!o){var t={};t[c]="0s";t[h]="";t[l]="";e.css(t)}}var a=!s||s.options.usecss;if(!1!==D&&a){r||(r=s.options.cssease);var f={},l=D+"transition",a=v(t);f[l]=a.join(" ")+(""==D?"":" "+D+a.join(" "+D));var c=l+"-duration";f[c]=n+"ms";var h=l+"-timing-function";"swing"==r&&(r="ease-in-out");f[h]=r;s&&s.stopCallbacks.push(u);r=D.replace(/\-/g,"");var p=r+((r?"T":"t")+"ransitionend")+" transitionend",d=!1,g=function(){d||(d=!0,e.unbind(p),u(),i&&i())};m(function(){20>n?(e.css(t),g()):(e.css(f),m(function(){e.css(t);var r=+(new Date);e.on(p,function(t){e.is(t.target)&&-100<+(new Date)-r-n&&g()});setTimeout(g,n+100)}))});return g}r||(r=s.options.ease);e.animate(t,n,r,i)}function a(e,t){var n=e.options;n.boxcols=1;n.boxrows=1;n.speed=t;r(e,!1)}function f(t,n,r,i){function s(e,n){a.push(function(){var r=c(t,i),r=l(r,d*e,p*n,d,p);o.append(r);return r})}var o=t.slider,u=t.options.vertical,a=[],f=u?t.slider.width():0,h=u?0:t.slider.height();t.toSlides.each(function(){var t=e(this);u?h+=t.height():f+=t.width()});for(var p=Math.ceil(f/n),d=Math.ceil(h/r),v=0;v<r;v++)for(var m=0;m<n;m++)s(v,m);return a}function l(t,n,r,i,s){t.css({width:t.width(),height:t.height(),display:"block",top:-n,left:-r});return e("<div>").css({left:r,top:n,width:s,height:i,opacity:0,overflow:"hidden",position:"absolute"}).append(t).addClass("sudo-box")}function c(t,n){var r=n?t.toSlides:t.fromSlides,i=r.eq(0).position(),s=i.left,o=i.top,u=0,a=0,f=e("<div>").css({position:"absolute",top:0,left:0}).addClass("sudo-box");r.each(function(t,n){var r=e(n),i=r.outerWidth(!0),l=r.outerHeight(!0),c=r.clone(),h=r.position(),r=h.left-s,h=h.top-o;c.css({position:"absolute",left:r,top:h,opacity:1});u=N(u,h+l);a=N(a,r+i);f.append(c)});f.width(a).height(u);return f}function h(e,t){return function(){e.apply(M,t)}}function p(t,n,r){if(t){t=t.add(t.find("img")).filter("img");var i=t.length;i?t.each(function(){var t=e(this),s=function(){t.off("load error",s);n?(i--,0==i&&r()):r()};t.on("load error",s);if("complete"==this.readyState)t.trigger("load");else if(this.readyState)this.src=this.src;else if(this.complete)t.trigger("load");else if(this.complete===M){var o=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=o}}):r()}else r()}function d(t){for(var n=e.fn.jquery.split("."),r=n.length,i=0;i<r;i++)if(t[i]&&+n[i]<+t[i])return!1;return!0}function v(e){var t=[],n;for(n in e)t.push(n);return t}function m(e){setTimeout(e,0)}function g(e,t){return setTimeout(e,t)}function y(e){return[].reverse.call(e)}function b(e){return e.children().not(".sudo-box")}function w(e){var t={},n;for(n in e)t[n.toLowerCase()]=e[n];return t}function E(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e}function S(e){return parseFloat(e)}function x(e,t){return(e%t+t)%t||0}function T(e){return 0>e?-e:e}function N(e,t){return e>t?e:t}function C(e,t){return e<t?e:t}function k(t){if(e.isArray(t))return L(t);if(e.isFunction(t))return t;t=t.replace(/^\s+|\s+$/g,"");if(-1!=t.indexOf(",")){var n=t.split(",");return L(n)}var r=w(e.fn.sudoSlider.effects);t=t.toLowerCase().replace(/^\s+|\s+$/g,"");if(n=r[t])return n;var n=[],i;for(i in r)i.match(new RegExp("^"+t.split("*").join(".*")+"$","g"))&&n.push(r[i]);return n.length?L(n):o}function L(e){return function(t){var n=A(e);return k(n)(t)}}function A(e){return e[E(v(e))[0]]}function O(t){var n="bez_"+t.join("_").replace(/\./g,"p"),r=e.easing;if(!e.isFunction(r[n])){var i=function(e,t){function n(n,o){s[o]=3*e[o];i[o]=3*(t[o]-e[o])-s[o];r[o]=1-s[o]-i[o];return n*(s[o]+n*(i[o]+n*r[o]))}var r=[0,0],i=[0,0],s=[0,0];return function(e){for(var t=e,o=0,u;14>++o;){u=n(t,0)-e;if(.001>T(u))break;t-=u/(s[0]+t*(2*i[0]+3*r[0]*t))}return n(t,1)}};r[n]=function(e,n,r,s,o){return s*i([t[0],t[1]],[t[2],t[3]])(n/o)+r}}return n}var M,_=function(){},D=function(){var t;e:{var n=e("<div>")[0].style;for(t in n)if(n=t.toLowerCase(),-1!==n.indexOf("transition",n.length-10))break e;t=!1}if(!1===t)return!1;t=t.slice(0,t.length-10);return 0!=t.length?"-"+t+"-":""}(),P=e(t),H=e(document);e.fn.sudoSlider=function(n){var r=this;n=e.extend(w({effect:"slide",speed:1500,customLink:!1,controlsShow:!0,controlsFadeSpeed:400,controlsFade:!0,insertAfter:!0,vertical:!1,slideCount:1,moveCount:1,startSlide:1,responsive:!0,ease:"swing",auto:!1,pause:2e3,resumePause:!1,continuous:!1,prevNext:!0,numeric:!1,numericText:[],slices:15,boxCols:8,boxRows:4,initCallback:_,ajaxLoad:_,beforeAnimation:_,afterAnimation:_,history:!1,autoHeight:!0,autoWidth:!0,updateBefore:!1,ajax:!1,preloadAjax:100,loadingText:"",prevHtml:'<a href="#" rel="nofollow" class="prevBtn"> previous </a>',nextHtml:'<a href="#" rel="nofollow" class="nextBtn"> next </a>',controlsAttr:'class="controls"',numericAttr:'class="numericControls"',interruptible:!1,useCSS:!0,loadStart:_,loadFinish:_,touch:!1,touchHandle:!1,destroyCallback:_,mouseTouch:!1,allowScroll:!0,CSSease:"swing"}),w(n));!1!==D&&d([1,8,0])||(n.usecss=!1);return this.each(function(){function i(){var t=0,n;for(n in Yt)Gt[t]=Yt[n],t++;gt=!0;Et=[];zt=[];Wt=[];Xt=[];Vt=[];bt=b(Bt);t=bt.length;n=e("<div>");t?(yt=bt.is("ul"))||Qt||(n.append(bt),Bt.append(bt=n)):(Bt.append(bt=n),yt=!1);Qt=!0;t=b(bt);wt=[];St=t.length;t.each(function(t,n){var r=e(n);wt[t]=r;r.css({position:"relative"});"none"==r.css("display")&&r.css("display","inline")});bt.addClass("slidesContainer");t.addClass("slide");t.each(function(t,n){e(n).attr("data-slide",t+1)});if(Gt[31]&&(n=Gt[31].length,n>St)){for(t=1;t<=n-St;t++){var r;r=yt?"li":"div";r=e("<"+r+">"+Gt[33]+"</"+r+">");bt.append(r);wt[St+(t-1)]=r}t=b(bt);St=n}t.each(function(t,n){Et[t]=!1;p(e(n),!0,function(){Et[t]=!0})});xt=(xt=!1===Lt?0:Lt)||0;Tt=!0;Nt=[];kt=!1;Bt.css({overflow:"hidden"});"static"==Bt.css("position")&&Bt.css({position:"relative"});t.css({"float":"left",listStyle:"none"});bt.add(t).css({display:"block",position:"relative",margin:"0"});Gt[8]=parseInt(Gt[8],10);Pt=Gt[8];Gt[8]+=Gt[9]-1;Gt[10]=parseInt(Gt[10],10)-1||0;Gt[0]=k(Gt[0]);for(t=0;t<St;t++)Gt[19][t]||""==Gt[19][t]||(Gt[19][t]=t+1),Gt[31][t]=Gt[31][t]||!1;Gt[5]=Gt[5]&&!Gt[16];Gt[11]&&a(!0);bt[Gt[7]?"height":"width"](9e6)[Gt[7]?"width":"height"]("100%");Gt[29]=Gt[29]&&!Gt[11];Gt[11]&&lt(P,"resize focus",a,"");if(Gt[3]){At=e("<span "+Gt[36]+"></span>");Bt[Gt[6]?"after":"before"](At);if(Gt[18])for(Ct=e("<ol "+Gt[37]+"></ol>"),At.prepend(Ct),r=(n="pages"==Gt[18])?Pt:1,t=0;t<St-(Gt[16]||n?1:Pt)+1;t+=r)Nt[t]=e('<li data-target="'+(t+1)+'"><a href="#" rel="nofollow"><span>'+Gt[19][t]+"</span></a></li>").appendTo(Ct).click(function(){E(f(this)-1,!0);return!1});Gt[17]&&(Ot=w(Gt[35],"next"),Mt=w(Gt[34],"prev"))}t=[4,1,14];for(n=0;n<t.length;n++)Gt[t[n]]=y(Gt[t[n]]);Gt[2]&&lt(H,"click",s,Gt[2]);p(pt(Gt[10],Gt[8]),!0,function(){if(!1!==Lt)ht(Lt,!1);else if(Gt[27]){var t;if(t=P.hashchange)t(l);else if(t=e.address)t.change(l);else P.on("hashchange",l);l()}else ht(Gt[10],!1);A(xt)});Gt[31][Gt[10]]&&G(Gt[10]);if(!0===Gt[32])for(n=0;n<St;n++)Gt[31][n]&&Gt[10]!=n&&G(n);else c()}function s(){var e;if(e=f(this))"stop"==e?(Gt[13]=!1,v()):"start"==e?(d(),Gt[13]=!0):"block"==e?Tt=!1:"unblock"==e?Tt=!0:E(e==parseInt(e,10)?e-1:e,!0);return!1}function a(e){function t(){if((Bt.is(":visible")&&!gt||!0===e)&&0!=St){var t;t=Bt.width();t=Gt[7]?t:t/Pt;if(sn!=t||!0===e){sn=t;for(var n=0;n<St;n++)wt[n].width(t);!1!==nn&&d(nn);ft();it();q(xt);B(xt,0)}}}t();m(t);setTimeout(t,20)}function f(t){t=e(t);return t.attr("data-target")||t.attr("rel")}function l(){var e;e:{e=location.hash.substr(1);for(var t=0;t<Gt[19].length;t++)if(Gt[19][t]==e){e=t;break e}e=e&&!gt?xt:Gt[10]}gt?ht(e,!1):E(e,!1)}function c(){if(!1!==Gt[32]){var e=parseInt(Gt[32],10);if(Gt[31])for(var t=0;t<Gt[31].length;t++)if(Gt[31][t]){clearTimeout(Ht);Ht=g(function(){Gt[31][t]?G(parseInt(t,10)):c()},e);break}}}function d(e){e===M&&(e=wt[xt].attr("data-pause"),e=e!==M?parseInt(e,10):Gt[14]);rn&&(e=N(e,100));v();Dt=!0;nn=e;_t=g(function(){Dt&&(E("next",!1),nn=!1)},e)}function v(e){_t&&clearTimeout(_t);e||(Dt=!1)}function y(e){return parseInt(e,10)||0==e?parseInt(e,10):"fast"==e?200:"normal"==e||"medium"==e?400:600}function w(t,n){return e(t).prependTo(At).click(function(){E(n,!0);return!1})}function E(e,t,n){if(Tt&&!gt)v(!0),kt||rt(e,t,n);else if(Gt[38]&&It)ft(),E(e,t,n);else if($t=e,Jt=t,Kt=n,Gt[31])for(t=e=J(e);t<e+Pt;t++)Gt[31][t]&&G(dt(t))}function S(t,n,r){function i(){t||0!=s.css("opacity")||s.css({visibility:"hidden"})}t=t?1:0;var s=e();Gt[3]&&Gt[17]&&(s=r?Ot:Mt);if(Gt[2]){var o=e(Gt[2]);r='="'+(r?"next":"prev")+'"]';o=o.filter("[rel"+r+", [data-target"+r+"");s=s.add(o)}o={opacity:t};t&&s.css({visibility:"visible"});Gt[39]?u(s,o,n,Gt[47],i):s.animate(o,{queue:!1,duration:n,easing:Gt[12],callback:i})}function L(e,t){S(e,t,!1);S(e<St-Pt,t,!0)}function A(t){t=dt(t)+1;"pages"!=Gt[18]||t!=St-Pt+1||Gt[16]||(t=St);if(Gt[18])for(var n=0;n<Nt.length;++n)_(Nt[n],t);Gt[2]&&_(e(Gt[2]),t)}function _(e,t){e&&e.filter&&(e.filter(".current").removeClass("current"),e.filter(function(){var e=f(this);if("pages"==Gt[18])for(var n=Pt-1;0<=n;n--){if(e==t-n)return!0}else return e==t;return!1}).addClass("current"))}function B(e,t){jt=e=dt(e);Ft=+(new Date)+t;(Gt[28]||Gt[29])&&j(e)}function j(e){Bt.ready(function(){I(e);p(wt[e],!1,h(I,[e]))})}function F(e,t){for(var n=0,r=e;r<e+Pt;r++){var i=wt[dt(r)];i&&(i=i["outer"+(t?"Height":"Width")](!0),n=t==Gt[7]?n+i:N(i,n))}return n}function I(e){if(e==jt&&Bt.is(":visible")&&!gt){var t=Ft- +(new Date),t=N(t,0),n={};Gt[28]&&(n.height=F(e,!0)||1);Gt[29]&&(n.width=F(e,!1)||1);Gt[39]?u(Bt,n,t,Gt[47]):0==t?Bt.stop().css(n):Bt.animate(n,{queue:!1,duration:t,easing:Gt[12]})}}function q(e){var t=z(e,!1);e=z(e,!0);U(t,e)}function U(e,t){en=e;Zt=t;Gt[39]?bt.css({transform:"translate("+e+"px, "+t+"px)"}):(bt.css({marginLeft:0,marginTop:0}),bt.css({marginLeft:e,marginTop:t}))}function z(e,t){t==M&&(t=Gt[7]);var n=wt[dt(e)];return n&&n.length?-n.position()[t?"top":"left"]:0}function W(){if(!1!==$t){var e=$t;$t=!1;m(h(E,[e,Jt,Kt]))}}function X(e,t,n){e=dt(e);e=h(t?V:$,[wt[e],e+1]);n?e():m(e)}function V(e,t){Gt[26].call(e,t)}function $(e,t){Gt[25].call(e,t)}function J(e){return"next"==e?K(xt+Gt[9],e):"prev"==e?K(xt-Gt[9],e):"first"==e?0:"last"==e?St-1:K(parseInt(e,10),e)}function K(e,t){if(Gt[16])return"next"==t||"prev"==t?e:dt(e);var n=St-Pt;return e>n?xt==n&&"next"==t?0:n:0>e?0==xt&&"prev"==t?n:0:e}function G(t,n){function r(){var n=new Image;n.src=s;var r=e(n);p(r,!0,h(Y,[function(){o.empty().append(n);Z(t,!0)}]))}if(n){var i=Wt[t];i||(i=Wt[t]=[]);i.push(n)}if(Vt[t])n&&p(wt[t],!0,h(m,[n]));else if(!Xt[t]){Xt[t]=!0;var s=Gt[31][t];if(s){Ht&&clearTimeout(Ht);var o=wt[t],u=!1;e.ajax({url:s,success:function(e,n,i){u=!0;Y(function(){var n=i.getResponseHeader("Content-Type");n&&"i"!=n.substr(0,1)?(o.html(e),Z(t,!1)):r()})},complete:function(){u||r()}});Gt[31][t]=!1;Yt.ajax[t]=!1}else m(n)}}function Y(e){It?zt.push(e):m(e)}function Z(e,t){var n=wt[e];q(xt);B(xt,0);p(n,!0,h(Y,[function(){q(xt);B(xt,0);Vt[e]=!0;nt(Wt[e]);c();m(function(){Gt[24].call(wt[e],e+1,t)});gt&&(gt=!1,m(et))}]))}function et(){Gt[16]&&ot(xt,0);B(xt,0);q(xt);W();Gt[11]&&a();Gt[13]&&d();Gt[23].call(r);Gt[42]&&tt();p(pt(xt,St),!1,h(Y,[function(){B(xt,0);q(xt)}]))}function tt(){var t,n=!1,r=Gt[0];Gt[0]=function(e){if(n){n=!1;var i=e.options;i.ease=t;i.cssease=t;return o(e)}return r(e)};var i,s,u,a,f,l=[],c=[],h=0,p,d,v,m,g=!1,y=0,b=0,w=0,E=0,S=function(r){if(Tt){var o=r.type,S,k,L,A="m"==o.substr(0,1);A?(S="mousedown",k="mouseup",L=""):(S="touchstart",k="touchend",L="touchcancel",r=r.originalEvent);if(!g){if(o!=S)return;var M=r.target,_=e(M);Gt[43]||(_=_.parents().add(M));if(_.filter(Gt[43]||Bt).length)g=!0;else return}if(o!=k&&o!=L){A?(k=r.pageX,L=r.pageY):(L=r.touches[0],k=L.pageX,L=L.pageY);if(o==S)y=k,b=L,r=k-y,A=L-b,p=xt,d=0,It=!0,it(),s=Zt,i=en,f=Gt[7]?T(A):T(r),a=u=+(new Date),r=z(p),v=z(p+1)-r,m=!1;else{o=k-y;S=L-b;M=Gt[7]?S:o;_=T(M);l[h]=_-f;var D=+(new Date);c[h]=D-a;h=(h+1)%3;a=D;f=_;if(Gt[16]&&St>=Pt+1){_=0;if(M-d<v){m=!1;d+=v;var _=1,P=z(p+_);ot(p+_,0);var H=z(p+_)}0<M-d&&(_=-1,P=z(p),ot(p+_,0),H=z(p),M=z(p-1)-H,d+=M,m=-M);0!=_&&(p+=_,Gt[7]?s-=P-H:i-=P-H,v=z(p+1)-z(p))}Gt[7]?o=0:S=0;U(i+o,s+S);P=k-y;P=T(L-b)>T(P);A=A?!1:Gt[46]?Gt[7]?!P:P:!1;A||r.preventDefault()}w=k-y;E=L-b}else{L=Gt[7]?E:w;L-=d;m&&(L-=m,p++);A=T(L);k=+(new Date);for(H=P=r=0;3>H;H++)o=c[H],o+100<k&&(r+=o,P+=l[H]);H=Gt[7]?Bt.height():Bt.width();k=T(P)/r;r=.2<=k||A>=H/2;if(0<P&&0>A||0>P&&0<A||10>=A)r=!1;L=0>L?"next":"prev";Gt[16]||(xt+1==St?"next"==L&&(r=!1):0==xt&&"prev"==L&&(r=!1));L="next"==L?p+1:p-1;L=x(L,St);A=r?H-A:A;P=A/k*1.3;H=N(H/A*Gt[1],Gt[1]/4);P=P<H?C(P,Gt[1]):C(H,Gt[1]);A=k*P/(A+k*P);k=1-A;t=Gt[39]?"cubic-bezier("+k+","+A+",0.3,1)":O([k||0,A||0,.3,1]);Tt=!1;n=!0;r?at(L,P,!0,!0,!0):at(p,P,!0,!0,!0);g=!1}}};ct(H,S,["touchstart","touchmove","touchend","touchcancel"]);Gt[45]&&ct(H,S,["mousedown","mousemove","mouseup"])}function nt(e){for(;e&&e.length;)e.splice(0,1)[0]()}function rt(e,t,n){var i=J(e),s="next"==e||"prev"==e;e=dt(i);if(e!=xt)if(Tt=!1,Gt[31]){for(var o=0,u=e;u<e+Pt;u++){var a=dt(u);Et[a]&&(Gt[31]?Gt[31][a]?0:!Xt[a]||Vt[a]:1)||(o++,G(a,function(){o--;0==o&&(Gt[41].call(r,i+1),at(i,n,t,s))}))}0==o?at(i,n,t,s):Gt[40].call(r,i+1)}else at(i,n,t,s)}function it(){Gt[39]&&bt.css(D+"transition-duration","")}function st(e){e=dt(e);if(e!=on){on=e;it();for(var t=0;t<St;t++){var n=wt[dt(e+t)];bt.append(n)}q(xt)}}function ot(e,t){var n=N(parseInt((St-t-Pt)/2,10),0);e=x(e-n,St);st(e)}function ut(e){var t=C(e,xt);e=T(e-xt);ot(t,e)}function at(n,i,s,o,u){Gt[30]&&A(n);Gt[27]&&s&&(t.location.hash=Gt[19][n]);Gt[5]&&L(n,Gt[4]);for(var f=e(),l=e(),c=0;c<Pt;c++)f=f.add(wt[dt(xt+c)]),l=l.add(wt[dt(n+c)]);var c=n-xt,d;if(Gt[16]&&!o){o=T(c);d=n;var v=-xt+n+St;T(v)<o&&(d=n+St,c=v,o=T(c));v=-xt+n-St;T(v)<o&&(d=n-St,c=v)}else d=n;Gt[16]&&!u&&ut(d);u=z(d,!1);o=z(d,!0);var g=wt[dt(n)],v=e.extend(!0,{},Yt),y=Gt[1],b=g.attr("data-speed");b!=M&&(y=parseInt(b,10));i!=M&&(y=parseInt(i,10));v.speed=y;var w=Gt[0];(i=g.attr("data-effect"))&&(w=k(i));wt[xt]&&(i=wt[xt].attr("data-effectout"))&&(w=k(i));It=!0;qt=w;var E=!0;Rt=function(){E=It=!1;ht(n,s);screen.fontSmoothingEnabled&&l.style&&l.style.removeAttribute("filter");Gt[16]&&ot(d,0);X(n,!0);Gt[11]&&a();nt(zt)};Ut={fromSlides:f,toSlides:l,slider:Bt,container:bt,options:v,to:n+1,from:xt+1,diff:c,target:{left:u,top:o},stopCallbacks:[],callback:function(){E&&(E=!1,ft())},goToNext:function(){E&&p(e(".sudo-box",Bt),!0,h(q,[n]))}};B(n,y);m(function(){X(n,!1,!0);w.call(r,Ut)})}function ft(){if(It){rn=!0;Rt&&Rt();nt(Ut.stopCallbacks);var t=qt.stop;t?t():(e(".sudo-box",Bt).remove(),bt.stop());B(xt,0);q(xt);rn=!1}}function lt(e,t,n,r){e.on(t,r,n);tn.push(function(){e.off(t,r,n)})}function ct(e,t,n){for(var r=0;r<n.length;r++)lt(e,n[r],t)}function ht(e,t){Tt=!t&&!Gt[13];xt=e;it();B(xt,0);xt=dt(xt);Gt[30]||A(xt);q(xt);Tt=!0;Gt[13]&&(t?(v(),Gt[15]&&d(Gt[15])):gt||d());W();Gt[5]&&gt&&L(xt,0);!gt||Gt[31][xt]||Xt[xt]||(gt=!1,m(et))}function pt(t,n){for(var r=e(),i=0;i<n;i++)r=r.add(wt[dt(t+i)]);return r}function dt(e){return x(e,St)}function vt(){ft();kt=!0;Lt=xt;nt(tn);it();At&&At.remove();st(0);q(xt);B(xt,0);Gt[44].call(r)}function mt(){kt&&i()}var gt,yt,bt,wt,Et,St,xt,Tt,Nt,Ct,kt,Lt=!1,At,Ot,Mt,_t,Dt,Pt,Ht,Bt=e(this),jt,Ft=0,It=!1,qt,Rt,Ut,zt,Wt,Xt,Vt,$t=!1,Jt,Kt,Qt=!1,Gt=[],Yt=e.extend(!0,{},n),Zt,en,tn=[],nn=!1,rn=!1,sn=-1,on=0;r.destroy=vt;r.init=mt;r.getOption=function(e){return Yt[e.toLowerCase()]};r.setOption=function(t,n){vt();if(e.isPlainObject(t))for(var r in t)Yt[r.toLowerCase()]=t[r];else Yt[t.toLowerCase()]=n;mt()};r.runWhenNotAnimating=Y;r.insertSlide=function(t,n,r,i){vt();n=0>n?St-x(-n-1,St+1):x(n,St+1);t=e(t||"<div>");yt?t=e("<li>").prepend(t):1!=t.length&&(t=e("<div>").prepend(t));n&&0!=n?wt[n-1].after(t):bt.prepend(t);i?Lt=i-1:(n<=Lt||!n||0==n)&&Lt++;Gt[19].length<n&&(Gt[19].length=n);Gt[19].splice(n,0,r||parseInt(n,10)+1);mt()};r.removeSlide=function(e){e--;vt();wt[C(e,St-1)].remove();Gt[19].splice(e,1);e<Lt&&Lt--;mt()};r.goToSlide=function(e,t){var n=e==parseInt(e,10)?e-1:e;m(h(E,[n,!0,t]))};r.block=function(){Tt=!1};r.unblock=function(){Tt=!0};r.startAuto=function(){Gt[13]=!0;d()};r.stopAuto=function(){Gt[13]=!1;v()};r.adjust=function(){var e=N(Ft- +(new Date),0);B(xt,e);It||q(xt)};r.getValue=function(e){return{currentslide:xt+1,totalslides:St,clickable:Tt,destroyed:kt,autoanimation:Dt}[e.toLowerCase()]};r.getSlide=function(e){return wt[dt(parseInt(e,10)-1)]};r.stopAnimation=ft;i()})};var B={box:{Random:["","GrowIn","GrowInRounded","GrowOut","GrowOutRounded","FlyIn","FlyOut",function(e,t){r(e,!1,!1,0<t&&5>t,!0,0,5==t||6==t,3==t||4==t||6==t,2==t||4==t)}],Rain:["","GrowIn","GrowInRounded","GrowOut","GrowOutRounded","FlyIn","FlyOut",["UpLeft","DownLeft","DownRight","UpRight",function(e,t,n){r(e,0==n||3==n,1==n||3==n,1<=t&&4>=t,!1,1,5==t||6==t,6==t||3==t||4==t,2==t||4==t)}]],Spiral:["InWards","OutWards",{"":function(e,t){r(e,t,!1,!1,!1,2,!1,!1,!1)},Grow:["In","Out",["","Rounded",function(e,t,n,i){r(e,t,!1,!0,!1,2,!1,n,i)}]]}]},fade:{"":function(e){a(e,e.options.speed)},OutIn:function(e){var t=e.options.speed,n=parseInt(.6*t,10),n=t-n;e.stopCallbacks.push(function(){e.fromSlides.stop().css({opacity:1})});u(e.fromSlides,{opacity:1e-4},n,!1,h(a,[e,t]),e)}},foldRandom:["Horizontal","Vertical",function(e,t){i(e,t,!1,!0)}],slide:o,stack:["Up","Right","Down","Left",["","Reverse",function(e,t,n){var r=0<e.diff;n&&(r=!r);s(e,r,++t)}]],unnamed:["","Reveal",["","Vertical",["","Reverse","Random",function(e,t,n,r){var s=1==r;r=2==r;i(e,n,s,r,!1,0,1,t);i(e,n,s,r,!1,0,2,t)}]]]},j={};n(j,{blinds:["1","2",function(e,t,n){t++;i(e,2==n||4==n,1==n||4==n,!1,!1,t)}],fold:function(e,t){i(e,2==t||4==t,1==t||4==t)},push:["Out","In",s],reveal:function(e,t){var n=1==t||3==t,r=e.options.speed,i=c(e,!0),s=i.width(),o=i.height(),a=l(i,0,0,0,0).css({opacity:1}).appendTo(e.slider),f=a.add(i);f.hide();n?(a.css({width:s}),1==t&&(i.css({top:-o}),a.css({bottom:0,top:"auto"}))):(a.css({height:o}),4==t&&(i.css({left:-s}),a.css({right:0,left:"auto"})));f.show();n?f.width(s):f.height(o);u(i,{left:0,top:0},r,!1,_,e);u(a,{width:s,height:o},r,!1,e.callback,e)},slice:{"":["","Reveal",["","Reverse","Random",function(e,t,n,r){i(e,1==r||3==r,n,2==n,!1,0,1==r||4==r?1:2,t)}]],Fade:function(e,t){i(e,2==t||4==t,1==t||4==t,!1,!0)}},zip:function(e,t){i(e,2==t||4==t,1==t||4==t,!1,!1,0,3)},unzip:function(e,t){i(e,2==t||4==t,1==t||4==t,!1,!1,0,3,!0)}},"",!0,[]);n(j,B,"",!1,[]);j.random=L(j);e.fn.sudoSlider.effects=j})(jQuery,window)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;window.Hogan={};(function(e,t){function a(e){return String(e===null||e===undefined?"":e)}function f(e){e=a(e);return u.test(e)?e.replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(s,"&#39;").replace(o,"&quot;"):e}e.Template=function(e,n,r,i){this.r=e||this.r;this.c=r;this.options=i;this.text=n||"";this.buf=t?[]:""};e.Template.prototype={r:function(e,t,n){return""},v:f,t:a,render:function(t,n,r){return this.ri([t],n||{},r)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,r){var i=n[e];if(!i){return""}if(this.c&&typeof i=="string"){i=this.c.compile(i,this.options)}return i.ri(t,n,r)},rs:function(e,t,n){var r=e[e.length-1];if(!l(r)){n(e,t,this);return}for(var i=0;i<r.length;i++){e.push(r[i]);n(e,t,this);e.pop()}},s:function(e,t,n,r,i,s,o){var u;if(l(e)&&e.length===0){return false}if(typeof e=="function"){e=this.ls(e,t,n,r,i,s,o)}u=e===""||!!e;if(!r&&u&&t){t.push(typeof e=="object"?e:t[t.length-1])}return u},d:function(e,t,n,r){var i=e.split("."),s=this.f(i[0],t,n,r),o=null;if(e==="."&&l(t[t.length-2])){return t[t.length-1]}for(var u=1;u<i.length;u++){if(s&&typeof s=="object"&&i[u]in s){o=s;s=s[i[u]]}else{s=""}}if(r&&!s){return false}if(!r&&typeof s=="function"){t.push(o);s=this.lv(s,t,n);t.pop()}return s},f:function(e,t,n,r){var i=false,s=null,o=false;for(var u=t.length-1;u>=0;u--){s=t[u];if(s&&typeof s=="object"&&e in s){i=s[e];o=true;break}}if(!o){return r?false:""}if(!r&&typeof i=="function"){i=this.lv(i,t,n)}return i},ho:function(e,t,n,r,i){var s=this.c;var o=this.options;o.delimiters=i;var r=e.call(t,r);r=r==null?String(r):r.toString();this.b(s.compile(r,o).render(t,n));return false},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");this.buf=[];return e}:function(){var e=this.buf;this.buf="";return e},ls:function(e,t,n,r,i,s,o){var u=t[t.length-1],a=null;if(!r&&this.c&&e.length>0){return this.ho(e,u,n,this.text.substring(i,s),o)}a=e.call(u);if(typeof a=="function"){if(r){return true}else if(this.c){return this.ho(a,u,n,this.text.substring(i,s),o)}}return a},lv:function(e,t,n){var r=t[t.length-1];var i=e.call(r);if(typeof i=="function"){i=a(i.call(r));if(this.c&&~i.indexOf("{{")){return this.c.compile(i,this.options).render(r,n)}}return a(i)}};var n=/&/g,r=/</g,i=/>/g,s=/\'/g,o=/\"/g,u=/[&<>\"\']/;var l=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}})(Hogan);(function(e){function u(e){if(e.n.substr(e.n.length-1)==="}"){e.n=e.n.substring(0,e.n.length-1)}}function a(e){if(e.trim){return e.trim()}return e.replace(/^\s*|\s*$/g,"")}function f(e,t,n){if(t.charAt(n)!=e.charAt(0)){return false}for(var r=1,i=e.length;r<i;r++){if(t.charAt(n+r)!=e.charAt(r)){return false}}return true}function l(e,t,n,r){var i=[],s=null,o=null;while(e.length>0){o=e.shift();if(o.tag=="#"||o.tag=="^"||c(o,r)){n.push(o);o.nodes=l(e,o.tag,n,r);i.push(o)}else if(o.tag=="/"){if(n.length===0){throw new Error("Closing tag without opener: /"+o.n)}s=n.pop();if(o.n!=s.n&&!h(o.n,s.n,r)){throw new Error("Nesting error: "+s.n+" vs. "+o.n)}s.end=o.i;return i}else{i.push(o)}}if(n.length>0){throw new Error("missing closing tag: "+n.pop().n)}return i}function c(e,t){for(var n=0,r=t.length;n<r;n++){if(t[n].o==e.n){e.tag="#";return true}}}function h(e,t,n){for(var r=0,i=n.length;r<i;r++){if(n[r].c==e&&n[r].o==t){return true}}}function p(e){return e.replace(s,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(i,"\\r")}function d(e){return~e.indexOf(".")?"d":"f"}function v(e){var t="";for(var n=0,r=e.length;n<r;n++){var i=e[n].tag;if(i=="#"){t+=m(e[n].nodes,e[n].n,d(e[n].n),e[n].i,e[n].end,e[n].otag+" "+e[n].ctag)}else if(i=="^"){t+=g(e[n].nodes,e[n].n,d(e[n].n))}else if(i=="<"||i==">"){t+=y(e[n])}else if(i=="{"||i=="&"){t+=b(e[n].n,d(e[n].n))}else if(i=="\n"){t+=E('"\\n"'+(e.length-1==n?"":" + i"))}else if(i=="_v"){t+=w(e[n].n,d(e[n].n))}else if(i===undefined){t+=E('"'+p(e[n])+'"')}}return t}function m(e,t,n,r,i,s){return"if(_.s(_."+n+'("'+p(t)+'",c,p,1),'+"c,p,0,"+r+","+i+',"'+s+'")){'+"_.rs(c,p,"+"function(c,p,_){"+v(e)+"});c.pop();}"}function g(e,t,n){return"if(!_.s(_."+n+'("'+p(t)+'",c,p,1),c,p,1,0,0,"")){'+v(e)+"};"}function y(e){return'_.b(_.rp("'+p(e.n)+'",c,p,"'+(e.indent||"")+'"));'}function b(e,t){return"_.b(_.t(_."+t+'("'+p(e)+'",c,p,0)));'}function w(e,t){return"_.b(_.v(_."+t+'("'+p(e)+'",c,p,0)));'}function E(e){return"_.b("+e+");"}var t=/\S/,n=/\"/g,r=/\n/g,i=/\r/g,s=/\\/g,o={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};e.scan=function(n,r){function S(){if(v.length>0){m.push(new String(v));v=""}}function x(){var e=true;for(var n=b;n<m.length;n++){e=m[n].tag&&o[m[n].tag]<o["_v"]||!m[n].tag&&m[n].match(t)===null;if(!e){return false}}return e}function T(e,t){S();if(e&&x()){for(var n=b,r;n<m.length;n++){if(!m[n].tag){if((r=m[n+1])&&r.tag==">"){r.indent=m[n].toString()}m.splice(n,1)}}}else if(!t){m.push({tag:"\n"})}g=false;b=m.length}function N(e,t){var n="="+E,r=e.indexOf(n,t),i=a(e.substring(e.indexOf("=",t)+1,r)).split(" ");w=i[0];E=i[1];return r+n.length-1}var i=n.length,s=0,l=1,c=2,h=s,p=null,d=null,v="",m=[],g=false,y=0,b=0,w="{{",E="}}";if(r){r=r.split(" ");w=r[0];E=r[1]}for(y=0;y<i;y++){if(h==s){if(f(w,n,y)){--y;S();h=l}else{if(n.charAt(y)=="\n"){T(g)}else{v+=n.charAt(y)}}}else if(h==l){y+=w.length-1;d=o[n.charAt(y+1)];p=d?n.charAt(y+1):"_v";if(p=="="){y=N(n,y);h=s}else{if(d){y++}h=c}g=y}else{if(f(E,n,y)){m.push({tag:p,n:a(v),otag:w,ctag:E,i:p=="/"?g-E.length:y+w.length});v="";y+=E.length-1;h=s;if(p=="{"){if(E=="}}"){y++}else{u(m[m.length-1])}}}else{v+=n.charAt(y)}}}T(g,true);return m};e.generate=function(t,n,r){var i='var _=this;_.b(i=i||"");'+v(t)+"return _.fl();";if(r.asString){return"function(c,p,i){"+i+";}"}return new e.Template(new Function("c","p","i",i),n,e,r)};e.parse=function(e,t,n){n=n||{};return l(e,"",[],n.sectionTags||[])},e.cache={};e.compile=function(e,t){t=t||{};var n=e+"||"+!!t.asString;var r=this.cache[n];if(r){return r}r=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t);return this.cache[n]=r}})(Hogan)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e,t){var n=e.jQuery||e.Cowboy||(e.Cowboy={}),r;n.throttle=r=function(e,r,i,s){function a(){function p(){u=+(new Date);i.apply(n,l)}function v(){o=t}var n=this,a=+(new Date)-u,l=arguments;if(s&&!o){p()}o&&clearTimeout(o);if(s===t&&a>e){p()}else{if(r!==true){o=setTimeout(s?v:p,s===t?e-a:e)}}}var o,u=0;if(typeof r!=="boolean"){s=i;i=r;r=t}if(n.guid){a.guid=i.guid=i.guid||n.guid++}return a};n.debounce=function(e,n,i){return i===t?r(e,n,false):r(e,i,n!==false)}})(this)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;window.trackAction=function(e,t,n){var r="/track.htm?action="+e+"&t="+Date.parse(new Date);if(t){r+="&rId="+t}else{if(trackAction.rid){r+="&rId="+trackAction.rid}}if(n)r=r.replace("track.htm","timetrack.htm");(new Image).src=r};window.trackHotelCityBox=function(e,t){(new Image).src="//www.qunar.com/track.htm?_="+(new Date).getTime()+"&hotel=citybox&q="+encodeURIComponent(e)+"&c="+t};window.gaClk=function(e){var t=window["QNRGA"],n=+(new Date);if(!t)return false;if(typeof e==="string")e={a:e,t:n};if(t.clk)t.clk(e);else{t=new t;t.add("utmwv","0.1");t.add("t",Math.random());t.add("utmsr",screen.width+"*"+screen.height);t.add("utmasr",screen.availWidth+"*"+screen.availHeight);t.add("utmr",document.referrer||"-1");t.add("utmp",window.location.href.toString());t.add("utmhn",window.location.host.toString());t.add("s",window["_ba_utm_s"]||null);if(window["_ba_utm_ex"]){var r=window["_ba_utm_ex"];for(var i in r){t.add(i,r[i])}}e=e||{};for(var i in e){t.add(i,e[i])}var s=[];var o=t.param;for(var u in o){s.push(u+"="+encodeURIComponent(o[u]))}s=s.join("&");var a=new Image;a.src="//bc.qunar.com/clk?"+s}};window.gaNotClk=function(e){var t=window["QNRGA"],n=+(new Date);if(window.location.protocol.indexOf("https")>=0||!t)return false;if(typeof e==="string")e={a:e,t:n};t=new t;t.add("utmwv","0.1");t.add("t",Math.random());t.add("utmsr",screen.width+"*"+screen.height);t.add("utmasr",screen.availWidth+"*"+screen.availHeight);t.add("utmr",document.referrer||"-1");t.add("utmp",window.location.href.toString());t.add("utmhn",window.location.host.toString());t.add("s",window["_ba_utm_s"]||null);if(window["_ba_utm_ex"]){var r=window["_ba_utm_ex"];for(var i in r){t.add(i,r[i])}}e=e||{};for(var i in e){t.add(i,e[i])}t.send()};window.SAReport=function(e){var t=window.QReport;t&&t.ac({acId:"buttonSearch",acType:"click",acData:e})};window.watcherLog=function(e){var t=e.type||"addCount";var n=e.tagName;(new Image).src="/watcherLog/"+t+"/"+n}}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;window.Cookie={originalString:document.cookie,read:function(){this.originalString=document.cookie},_getCookieHash:function(e){var t=this.originalString.split(";");var n={};var r=!e?unescape:decodeURIComponent;for(var i=0;i<t.length;i++){if(t[i].indexOf("=")!=-1)n[t[i].split("=")[0].replace(/(^\s*)/g,"").replace(/(\s*$)/g,"")]=r(t[i].split("=")[1]).replace(/(^\s*)/g,"").replace(/(\s*$)/g,"")}return n},setCookie:function(e,t,n,r,i,s){var o=!s?escape:encodeURIComponent;var u=e+"="+o(t);if(n)u+="; expires="+n.toGMTString();if(r)u+="; domain="+r;if(i)u+="; path="+i;document.cookie=u;this.originalString=document.cookie;this.values=this._getCookieHash()},deleteCookie:function(e){var t=new Date(1);document.cookie=e+"=;expires="+t.toGMTString();this.originalString=document.cookie;this.values=this._getCookieHash()},refresh:function(){this.read();Cookie.values=Cookie._getCookieHash()}};Cookie.values=Cookie._getCookieHash()}).call(window)},function(module,exports){(function(){var define=typeof define==="function"&&!define.amd?define:false;if(typeof JSON!=="object"){JSON={}}(function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];if(a&&typeof a==="object"&&typeof a.toJSON==="function"){a=a.toJSON(e)}if(typeof rep==="function"){a=rep.call(t,e,a)}switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a){return"null"}gap+=indent;u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1){u[n]=str(n,a)||"null"}i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]";gap=o;return i}if(rep&&typeof rep==="object"){s=rep.length;for(n=0;n<s;n+=1){if(typeof rep[n]==="string"){r=rep[n];i=str(r,a);if(i){u.push(quote(r)+(gap?": ":":")+i)}}}}else{for(r in a){if(Object.prototype.hasOwnProperty.call(a,r)){i=str(r,a);if(i){u.push(quote(r)+(gap?": ":":")+i)}}}}i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}";gap=o;return i}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;if(typeof JSON.stringify!=="function"){JSON.stringify=function(e,t,n){var r;gap="";indent="";if(typeof n==="number"){for(r=0;r<n;r+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=t;if(t&&typeof t!=="function"&&(typeof t!=="object"||typeof t.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":e})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i==="object"){for(n in i){if(Object.prototype.hasOwnProperty.call(i,n)){r=walk(i,n);if(r!==undefined){i[n]=r}else{delete i[n]}}}}return reviver.call(e,t,i)}var j;text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})()}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;window.newClkObj={isPC:function(){var e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod","android","Mobile","TouchPad"];var t=navigator.userAgent,n=true;for(var r=0;r<e.length;r++){if(t.indexOf(e[r])>=0){n=false;break}}return n},to_string:function(e){var t="";for(var n in e){t=t+n+"="+e[n]+"&"}return t.substring(0,t.length-1)},nanachiClk:function(e){e=e||{};var t=e.to_url||"www.qunar.com";if(t&&t.indexOf("&")>-1){t=encodeURIComponent(t)}var n=window.location.href.toString();if(n&&n.indexOf("&")>-1){n=encodeURIComponent(n)}var r=window.Cookie._getCookieHash();var i={phone:"",QN1:r.QN1,QN205:r.QN205||"",QN300:r.QN300||"",user_name:r._q||"",time:+(new Date),referer:n,to_url:t,user_type:this.isPC()?"www":"touch",page_id:"home",action_type:e.action_type,page_depth:e.page_depth,button_name:e.button_name||"",button_id:e.button_id||"",logdata:e.logdata||""};var e={p:"www",logType:"ue",c:JSON.stringify({_q:r._q||"",_v:r._v||"",_t:r._t||"",_s:r._s||"",_i:r._i||"",openId:r.openId||"",unionId:r.unionId||""}),b:JSON.stringify([{action:"cue",info:i}])};$.ajax({url:"/api/log/unifiedLog_new",data:this.to_string(e),type:"POST",headers:{contentType:"application/x-www-form-urlencoded;charset=UTF-8"},success:function(){},error:function(){}})}}}).call(window)},function(e,t){(function(){function t(e){function n(){var e=$(this);var t="click";var n=e.data("qreport-key");var r=e.data("qreport-data")||"";if(typeof r!=="string"){r=JSON.stringify(r)}window.QReport.ac({acId:n,acType:t,acData:r})}if(!window.MutationObserver){return false}e=e||document.body;var t={attributes:true,childList:true,subtree:true};var r=function(){var e=$('[data-qreport-type="click"]');setTimeout(function(){e.unbind("click",n).on("click",n)},20)};var i=new MutationObserver(r);console.log("qreport click auto bind success");i.observe(e,t);return{unbind:i.disconnect}}var e=typeof e==="function"&&!e.amd?e:false;t()}).call(window)},function(e,t,n){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){function o(){var e=window.__ACTIVE_TAB||"flight";u(e)}function u(n){function N(){if(!o){if(!QNR.AD.isInited){QNR.AD.initCallBack=function(){QNR.AD.loadOneAD("ifrCataAd");o=true}}else{QNR.AD.loadOneAD("ifrCataAd");o=true}}}var s=new t;s.init("#js_searchbox_flight");var o=false;e("#js_nva_cgy a").click(function(e){e.preventDefault()});var u=e("#js_searchbox");var v=u.find(".js-searchnav");var y=u.find(".js-searchbox-panel");var b=m();var w=b.tab?b.tab:n;var E=b.from?b.from:null;var S=null;var x=null;var T=null;if(b.ex_track&&b.ex_track==="auto_4efe832e"){w="hotel";T="f_sg"}if(E&&E==="mobile"){Cookie.setCookie("QN163",1,null,".qunar.com","/")}else{Cookie.setCookie("QN163",0,null,".qunar.com","/")}v.click(function(){v.removeClass("cur");e(this).addClass("cur");var t=e(this).attr("data-for");y.hide();var n=e("#js_searchbox_"+t);n.show();window.__CURRENT_ACTIVE_TAB=t;switch(t){case"flight":N();trackAction("QH|SB|flight");gaClk("tab_flight");newClkObj.nanachiClk({button_id:"4-1",button_name:"搜索-机票",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});break;case"hotel":e.qload("hotel",function(){a(n,E,T)});trackAction("QH|SB|hotel");gaClk("tab_hotel");newClkObj.nanachiClk({button_id:"4-2",button_name:"搜索-酒店",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});break;case"tuan":e.qload("tuan",function(){f(n)});trackAction("QH|SB|tuan");gaClk("tab_tuan");newClkObj.nanachiClk({button_id:"4-6",button_name:"搜索-团购",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});break;case"piao":e.qload("piao",function(){l(n)});trackAction("QH|SB|piao");gaClk("tab_piao");newClkObj.nanachiClk({button_id:"4-5",button_name:"搜索-门票",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});break;case"package":e.qload("package",function(){h(n)});trackAction("QH|SB|package");gaClk("tab_package");newClkObj.nanachiClk({button_id:"4-4",button_name:"搜索-度假",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});break;case"car":e.qload("car",function(){c(n)});trackAction("QH|SB|car");gaClk("tab_car");newClkObj.nanachiClk({button_id:"4-7",button_name:"搜索-车车",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});break;case"train":sendPvAndUv("trainNavClick");if(!S){S=new r(n)}else{!S.isReady&&S.init(n)}gaClk("tab_train");newClkObj.nanachiClk({button_id:"4-3",button_name:"搜索-火车票",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});break;case"freetrip":if(!x){x=new i(n)}trackAction("QH|SB|freetrip");gaClk("tab_freetrip");newClkObj.nanachiClk({button_id:"4-8",button_name:"搜索-自由行",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});break}});p(s);var C={flight:true,hotel:true,train:true,tuan:true,piao:true,"package":true,car:true,freetrip:true};if(QNR.AD){QNR.AD.initCallBack=null}if(w&&w!=="flight"&&C[w]){d(w,u)}if(w==="flight"||!C[w]){N()}g()}function a(e,t,n){var r=new HotelSearchBox;r.init(e);if(t||n){r.setExtraFromParam(n);r.setUrlFromParam(t);r.initSearchBoxFromParam()}}function f(e){TuanLoader.load(e)}function l(e){PiaoLoader.load(e)}function c(e){CarLoader.load(e)}function h(e){PackageLoader.load(e)}function p(t){e.qhistory.init({success:function(e){t.parseHistory(e.flight);window.QunarHistory.data=e}})}function d(e,t){var n=t.find("li[data-for='"+e+"']");n.click()}function v(e){var t={};if(e){var n=e.charAt(0)==="?"||e.charAt(0)==="#"?e.substr(1):e;var r=n.split("&");for(var i=0,s=r.length;i<s;i++){var o=r[i].indexOf("=");if(o>0){try{t[decodeURIComponent(r[i].substr(0,o))]=decodeURIComponent(r[i].substr(o+1))}catch(u){}}}}return t}function m(){var t=v(location.search);var n=v(location.hash);var r=e.extend({},n,t);return r}function g(){if(!s.hasLocalStorage){return false}if(!s.getLocalStorage("citylist?type=11")){y(false)}if(!s.getLocalStorage("citylist?type=12")){y(true)}}function y(t){var t=t?12:11;e.ajax({url:"//m.flight.qunar.com/touch/api/citylist",dataType:"jsonp",data:{type:t},timeout:3e3,success:function(e){if(!s.hasLocalStorage){return}s.setLocalStorage("citylist?type="+t,JSON.stringify(e),24*60*60*1e3)},error:function(){GodEye.log({r:"citylist_res_err",msg:t,page:location.pathname,xhr_opt:"/api/h5/flight/citylist"})}})}window.patch={};window.GSERVER_TIME=null;window.QunarHistory={};var t=n(38);var r=n(60);var i=n(79);var s=n(21);document.domain="qunar.com";(new Image).src="//simg4.qunarzz.com/home/loading.gif";sendPvAndUv("homePage");e(function(){o()});e.qload("patch",function(){var e=window.patch;e.onsale.initData();e.guide.init();e.travel.init();e.tuan.init();e.gongyu.init();e.piao.init();e.dujia.init();e.editor.initData();e.bigsearch.init();e.touchheader.initData();e.touchfooter.initData()})})(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;n(39);e.exports=function(e){function M(t){var n=e(h),r=e(p),i=e(m),s=e(v),o=e(d),u=e(g);n.click(function(){gaClk("机票tab|"+e(this).text());newClkObj.nanachiClk({button_id:"4-1-2",button_name:"搜索-国际·港澳台机票",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});n.addClass("cur");r.removeClass("cur");o.removeClass("cur");i.show();s.hide();u.hide();if(!C){B();C=true}i.find("#js_intersearchtype_roundtrip").attr("checked","checked");i.find("#js_intersearchtype_roundtrip").trigger("click")});r.click(function(){gaClk("机票tab|"+e(this).text());newClkObj.nanachiClk({button_id:"4-1-1",button_name:"搜索-国内机票",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});r.addClass("cur");n.removeClass("cur");o.removeClass("cur");s.show();i.hide();u.hide()});o.click(function(t){gaClk("机票tab|"+e(this).text());o.addClass("cur");n.removeClass("cur");r.removeClass("cur");u.show();i.hide();s.hide();if(!k){P();k=true}});e("#js_searchbox_flight").find(".rt_link").on("click","a",function(){var t=e(this).closest("a").index();newClkObj.nanachiClk({button_id:"4-1-"+(t+3),button_name:"搜索-机票"+e(this).text(),action_type:"buttonclick",page_depth:"4-搜索框",to_url:this.href,logdata:""})});e(".js-searchbox-panel").find(e(".foot")).on("click","",function(){newClkObj.nanachiClk({button_id:"4-1-5",button_name:"搜索-机票预定保障",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})})}function _(){var e=b;if(IP_ADDRESS){e.setFromCity({value:IP_ADDRESS,valided:true})}e.fromParam(T)}function D(){var t={};var n=window.location.search.replace("?","");var r=n.split("&");e.each(r,function(e,n){var r=n.split("=");var i=r[0],s=r[1];t[i]=s||""});return t}function P(){var n=x;e(n).on("initialized",function(){n.changeSerchType()});n.init({form:O,hotcity:{fromtype:"domesticfromtj",totype:"domesticto-tj",fromDefaultTab:"热门",toDefaultTab:"热门"},isFuzzy:false,placeHolder:"城市名（可不填）"});t.init("TJ",n);j()}function H(){var n=b;var r=new f("domestic",{container:"js_alsosearch_domestic",getKey:function(){return n.getToCity().value},getCountry:function(){return n.getToCity().country}});e(n).bind("initialized",function(){n.changeSerchType()});n.init({form:L,hotcity:{fromtype:"domesticfrom",totype:"domesticto",fromDefaultTab:"热门",toDefaultTab:"热门"},alsosearch:[r],isFuzzy:true,supportPrice:true,placeHolder:"输入国家/地区/城市/机场"});e(L).append('<input type="hidden" name="ishttps" value="'+(location.protocol==="https:"?"1":0)+'" />');t.init("DMT",n);j()}function B(){var n=w;var r=E;var i=S;e(A).append('<input type="hidden" name="ishttps" value="'+(location.protocol==="https:"?"1":0)+'" />');var s=new f("domestic_inter",{container:"js_alsosearch_inter",getKey:function(){return n.getToCity().value},getCountry:function(){return n.getToCity().country}});n.init({form:A,hotcity:{fromtype:"interfrom",totype:"interto",fromDefaultTab:"热门",toDefaultTab:"国际热门",hotcityWidth:500},photcity:{fromtype:"multifrom",totype:"multito",fromDefaultTab:"热门",toDefaultTab:"国际热门",hotcityWidth:500},alsosearch:[s],delay:{fromDateDelay:2,toDateDelay:22},imfs:r,isFuzzy:true,supportPrice:true,placeHolder:"输入国家/地区/城市/机场",pplaceHolder:"城市名(必填)"});r.init({form:A,hotcity:{fromtype:"multifrom",totype:"multito",fromDefaultTab:"热门",toDefaultTab:"国际热门",hotcityWidth:500},alsosearch:[s],delay:{fromDateDelay:2,toDateDelay:22}});i.init({form:A,hotcity:{fromtype:"interfrom",totype:"interto",fromDefaultTab:"热门",toDefaultTab:"国际热门"},isFuzzy:true,placeHolder:"输入城市"});if(IP_ADDRESS){n.setFromCity({value:IP_ADDRESS,valided:true});n.setpFromCity({value:IP_ADDRESS,valided:true});r.setFromCity({value:IP_ADDRESS,valided:true});i.setFromCity({value:IP_ADDRESS,valided:true})}n.fromParam(T);if(N&&N.interFirst){if(!N.interFirst.roundtrip){N.interFirst.roundtrip=true;N.interFirst.toDate=new Date((new Date(N.interFirst.fromDate)).getTime()+7*24*3600*1e3)}n.fill(N.interFirst);r.fill(N.interFirst);i.fill(N.interFirst)}var o=new a("js_flight_international_searchbox");o.$jq(n);t.init("INT",n,r);e(r).bind("addMultiClick",function(e,r){t.init("INT",n,r)});j()}function j(){e("#js_searchbox").delegate(".js_hongbao .icon","mouseenter",function(){e(this).parent().find(".p_tips_wrap").show()});e("#js_searchbox").delegate(".js_hongbao .icon","mouseleave",function(){e(this).parent().find(".p_tips_wrap").hide()})}function F(){}var t=n(13);var r=n(40),i=n(49),s=n(52),o=n(53),u=n(57),a=n(58),f=n(59);var l=false;var c=null;var h="#js_inter_tab";var p="#js_domestic_tab";var d="#js_tj_tab";var v="#js_flighttype_tab_domestic";var m="#js_flighttype_tab_inter";var g="#js_flighttype_tab_tj";var y=null;var b=new u;var w=new s;var E=new i;var S=new o;var x=new r;var T=D().from;var N=null;var C=false;var k=false;var L="#js_flight_domestic_searchbox";var A="#js_flight_international_searchbox";var O="#js_flight_tj_searchbox";e.extend(F.prototype,{init:function(t){if(l){return}c=e(t);var n=QTMPL.FlightSearchBox.render({placeholder:"城市名"});c.html(n);H(this);M(this);_();l=true;return c},parseHistory:function(t){if(!t){return}N=t;var n=N.domesticFirst;var r=N.interFirst;n&&b.fill(N.domesticFirst);if(!y){y=e(h)}if(r&&(!n||parseInt(r.timestamp,10)-parseInt(n.timestamp,10)>0)){e(m).show();y.trigger("click")}}});return F}(jQuery)}).call(window)},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["FlightSearchBox"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="e_csh_sch_flpn searchbox-flight">');r.b("\n"+n);r.b('    <div class="ch_search_tab">');r.b("\n"+n);r.b('        <div class="rt_link"><a href="https://order.qunar.com/flight" rel="nofollow" target="_blank" class="icon-status">出票状态查询</a><a href="https://order.qunar.com/flight" rel="nofollow" target="_blank" class="icon-edit">退票改签</a></div>');r.b("\n"+n);r.b('        <ul class="ul_search_tab">');r.b("\n"+n);r.b('            <li class="cur" id="js_domestic_tab"><a href="#" rel="nofollow" onclick="return false;">国内机票</a></li>');r.b("\n"+n);r.b('            <li id="js_inter_tab"><a href="#" rel="nofollow" onclick="return false;">国际·港澳台机票</a></li>');r.b("\n"+n);r.b("        </ul>");r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b('    <div class="con">');r.b("\n"+n);r.b('        <div class="ch_sch_form ch_sch_flt_bf clrfix" id="js_flighttype_tab_domestic">');r.b("\n"+n);r.b('            <form action="/twell/flight/Search.jsp" method="get" id="js_flight_domestic_searchbox">');r.b("\n"+n);r.b('                <input type="hidden" value="qunarindex" name="from" />');r.b("\n"+n);r.b('                <div class="crl_group">');r.b("\n"+n);r.b('                    <div class="controls">');r.b("\n"+n);r.b('                        <div class="b_hongbao_lst ">');r.b("\n"+n);r.b('                            <!-- a target="_blank" href="//flight.qunar.com/site/zhuanti/hotel_hongbao.html">买机票获预订酒店5折特权</a -->');r.b("\n"+n);r.b('                            <!-- div class="hotel_hongbao_icon js_hongbao">');r.b("\n"+n);r.b('                                <span class="icon"></span>');r.b("\n"+n);r.b('                                <div class="p_tips_wrap p_tips_blue" style="display:none;">');r.b("\n"+n);r.b('                                    <div class="p_tips_arr p_tips_arr_l">');r.b("\n"+n);r.b('                                        <p class="arr_o">◆</p>');r.b("\n"+n);r.b('                                        <p class="arr_i">◆</p>');r.b("\n"+n);r.b("                                    </div>");r.b("\n"+n);r.b('                                    <div class="p_tips_content">');r.b("\n"+n);r.b("                                        <p> 规则说明： </p>");r.b("\n"+n);r.b("                                        <p>1. 成功购买国内单程机票，即送300元酒店红包，登陆去哪儿app进入“我的”—“红包”可查询。 <br/>2. 红包可适用20万家酒店，红包在去哪儿app订酒店首单5折，单次最高优惠200元。 <br/>3. 同一用户（账号/设备/手机号）只能参加本活动一次。 </p>");r.b("\n"+n);r.b("                                    </div>");r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b("                            </div -->");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <label class="lal_rdo" for="js_searchtype_oneway" hidefocus="on">');r.b("\n"+n);r.b('                            <input name="searchType" data-beacon="国内机票-单程" type="radio" class="inp_rad js-searchtype-oneway" value="OnewayFlight" checked="checked" id="js_searchtype_oneway" />');r.b("\n"+n);r.b("                            单程</label>");r.b("\n"+n);r.b('                        <label class="lal_rdo" for="js_searchtype_roundtrip" hidefocus="on">');r.b("\n"+n);r.b('                            <input name="searchType"  data-beacon="国内机票-往返" type="radio" class="inp_rad js-searchtype-roundtrip" value="RoundTripFlight" id="js_searchtype_roundtrip" />');r.b("\n"+n);r.b("                            往返</label>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b('                <div class="crl_group iwrap">');r.b("\n"+n);r.b('                    <div class="crl_sp2_1">');r.b("\n"+n);r.b('                        <a class="lnk_change js-exchagne-city" href="#" rel="nofollow" title="调换出发地和目的地">换</a>');r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qcity" style="z-index: 40;">');r.b("\n"+n);r.b('                                <input type="text" value="" name="fromCity" class="cinput" data-qcbox-placeholder="');r.b(r.v(r.f("placeholder",e,t,0)));r.b('" data-qcbox-prefix="出发" data-qcbox-suggest="flight-fromcity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qcity" style="z-index: 30;">');r.b("\n"+n);r.b('                                <input type="text" value="" name="toCity" class="cinput" data-qcbox-placeholder="');r.b(r.v(r.f("placeholder",e,t,0)));r.b('" data-qcbox-prefix="到达" data-qcbox-suggest="flight-tocity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b('                    <div class="crl_sp2_2">');r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qdate fromD" style="z-index: 20;">');r.b("\n"+n);r.b('                                <input type="text" id="js_domestic_fromdate" value="" name="fromDate" class="cinput" autocomplete="off" maxlength="10" data-prefix="日期" spellcheck="false" />');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="controls js_arrivalDateDiv" style="display:none">');r.b("\n"+n);r.b('                            <div class="qcbox qdate toD" style="z-index: 10;">');r.b("\n"+n);r.b('                                <input type="text" id="js_domestic_todate" value="" name="toDate" class="cinput" autocomplete="off" maxlength="10" data-prefix="日期" spellcheck="false" />');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="controls js_arrivalDateDiv_disable">');r.b("\n"+n);r.b('                            <div class="qcbox qdate toD qcbox_disable" style="z-index: 10;">');r.b("\n"+n);r.b('                                <div class="qunar-dp">');r.b("\n"+n);r.b('                                    <div class="dp-prefix">日期</div>');r.b("\n"+n);r.b('                                    <div class="dp-info"><b></b><span class="dp-text"></span></div>');r.b("\n"+n);r.b('                                    <input type="text" value="" class="cinput textbox" style="left: 32px;">');r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b('                <div class="crl_group crl_group_submit">');r.b("\n"+n);r.b('                    <div class="controls"> <span class="p_btn"><button type="submit" class="button-search"></button>');r.b("\n"+n);r.b("                        </span>");r.b("\n"+n);r.b('                        <div class="p_text">');r.b("\n"+n);r.b('                            <div class="flight_ad js-searchbox-ad"></div>');r.b("\n"+n);r.b('                            <p class="linenum">');r.b("\n"+n);r.b('                                <span id="js_alsosearch_domestic"></span>');r.b("\n"+n);r.b('                                可实时搜索&nbsp;<span class="highlight">28万</span>&nbsp;条国内国际航线');r.b("\n"+n);r.b("                            </p>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("            </form>");r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b('        <div class="ch_sch_form ch_sch_flt_bf clrfix" style="display:none" id="js_flighttype_tab_inter">');r.b("\n"+n);r.b('            <form action="/twell/flight/Search.jsp" id="js_flight_international_searchbox" method="get">');r.b("\n"+n);r.b('                <input type="hidden" value="qunarindex" name="from" />');r.b("\n"+n);r.b('                <div class="crl_group">');r.b("\n"+n);r.b('                    <div class="controls pos-rel">');r.b("\n"+n);r.b('                        <label class="lal_rdo" for="js_intersearchtype_oneway" hidefocus="on">');r.b("\n"+n);r.b('                            <input name="searchType" type="radio" value="OnewayFlight" class="inp_rad js-searchtype-oneway" id="js_intersearchtype_oneway" data-beacon="国际·港澳台机票-单程" />');r.b("\n"+n);r.b("                            单程</label>");r.b("\n"+n);r.b('                        <label class="lal_rdo" for="js_intersearchtype_roundtrip" hidefocus="on">');r.b("\n"+n);r.b('                            <input name="searchType" type="radio" value="RoundTripFlight" class="inp_rad js-searchtype-roundtrip" checked="checked" id="js_intersearchtype_roundtrip" data-beacon="国际·港澳台机票-往返" />');r.b("\n"+n);r.b("                            往返</label>");r.b("\n"+n);r.b("\n"+n);r.b('                        <label class="lal_rdo lab_p" for="searchTypeInterFuzzy">');r.b("\n"+n);r.b('                            <input type="radio" class="inp_chk inp_rad js-searchtype-fuzzytrip" value="FuzzyFlight" id="searchTypeInterFuzzy" name="searchType" data-track=\'key=101030009&val=智能搜索radiobutton\' />');r.b("\n"+n);r.b('                        智能搜索<i class="new"></i></label>');r.b("\n"+n);r.b('                        <label class="lal_rdo lal_rdo_s" for="js_intersearchtype_multitrip" hidefocus="on"><input class="inp_chk inp_rad js-searchtype-multitrip" type="radio" name="searchType" value="MultiTripFlight" id="js_intersearchtype_multitrip" data-beacon="国际·港澳台机票-多程" /> 多程（<span id="hoverInfo">含缺口</span>）</label>');r.b("\n"+n);r.b('                        <div class="morline-point" style="display:none;" id="morlinePoint">');r.b("\n"+n);r.b("                            <p>“缺口程”机票指的是三地或四地之间的机票行程，举例如下：</p>");r.b("\n"+n);r.b("                            <p>1.由城市A到达城市B，再由C城市到达A。</p>");r.b("\n"+n);r.b("                            <p>2.由城市A到达城市B，再由B城市到达C。</p>");r.b("\n"+n);r.b("                            <p>3.由城市A到达城市B，再由C城市到达D。</p>");r.b("\n"+n);r.b('                            <div class="arrow-down"></div>');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <!--label class="lal_rdo lal_rdo_last"  for="js_intersearchtype_pricetrend" hidefocus="on">');r.b("\n"+n);r.b('                            <input name="searchType" type="radio" value="PriceTrend" class="inp_rad js-searchtype-pricetrend" id="js_intersearchtype_pricetrend" data-beacon="国际·港澳台机票-价格趋势" />');r.b("\n"+n);r.b("                            价格趋势</label-->");r.b("\n"+n);r.b("\n"+n);r.b('                        <!--label class="lal_rdo lal_rdo_last"><a data-beacon="国际·港澳台机票-团体购票" style="color:#00a3d2" href="//flight.qunar.com/pages/group_ticket.html?from=home" target="_blank">团体购票 </a><i class="new"></i></label-->');r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b('                <div class="crl_group iwrap" id="js_ow_rt_triplist">');r.b("\n"+n);r.b('                    <div class="crl_sp2_1">');r.b("\n"+n);r.b('                        <a class="lnk_change js-exchagne-city" href="#" rel="nofollow" title="调换出发地和目的地">换</a>');r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qcity" style="z-index: 40;">');r.b("\n"+n);r.b('                                <input type="text" value="" name="fromCity" class="cinput" data-qcbox-placeholder="');r.b(r.v(r.f("placeholder",e,t,0)));r.b('" data-qcbox-prefix="出发" data-qcbox-suggest="flight-fromcity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qcity" style="z-index: 30;">');r.b("\n"+n);r.b('                                <input type="text" value="" name="toCity" class="cinput" data-qcbox-placeholder="');r.b(r.v(r.f("placeholder",e,t,0)));r.b('" data-qcbox-prefix="到达" data-qcbox-suggest="flight-tocity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="controls passnum">');r.b("\n"+n);r.b('                            <div class="yselector" id="adtnum_box">');r.b("\n"+n);r.b('                                <div class="yselector_box" id="adt_num">');r.b("\n"+n);r.b('                                    <div class="yselector_arraw"><b></b></div>');r.b("\n"+n);r.b('                                    <span class="yselector_input">成人</span>');r.b("\n"+n);r.b('                                    <input name="adultNum" value="1" readonly>');r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b('                                <div class="sel_suggest" style="display: none;"><ul></ul></div>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b('                            <div class="yselector" id="chdnum_box">');r.b("\n"+n);r.b('                                <div class="yselector_box" id="chd_num">');r.b("\n"+n);r.b('                                    <div class="yselector_arraw"><b></b></div>');r.b("\n"+n);r.b('                                    <span class="yselector_input">儿童</span>');r.b("\n"+n);r.b('                                    <input name="childNum" value="0" readonly>');r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b('                                <div class="sel_suggest" style="display: none;"><ul></ul></div>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b('                            <div class="passnum_tip js_passnum_tip"><i></i>准确选择乘客人数，可享受最优价格。<span class="hide_passnum_tip js_hide_passnum_tip">知道了</span></div>');r.b("\n"+n);r.b('                            <div class="child_tip js_child_tip"><i></i>2岁-12岁(不含)</div>');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b('                    <div class="crl_sp2_2">');r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qdate fromD" style="z-index: 20;">');r.b("\n"+n);r.b('                                <input type="text" value="" id="fromDate" name="fromDate" class="cinput" autocomplete="off" maxlength="10" data-prefix="日期" spellcheck="false" />');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="controls js_arrivalDateDiv">');r.b("\n"+n);r.b('                            <div class="qcbox qdate toD" style="z-index: 10;">');r.b("\n"+n);r.b('                                <input type="text" value="" id="toDate" name="toDate" class="cinput" autocomplete="off" maxlength="10" data-prefix="日期" spellcheck="false" />');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="controls js_arrivalDateDiv_disable">');r.b("\n"+n);r.b('                            <div class="qcbox qdate toD qcbox_disable" style="z-index: 10;">');r.b("\n"+n);r.b('                                <div class="qunar-dp">');r.b("\n"+n);r.b('                                    <div class="dp-prefix">日期</div>');r.b("\n"+n);r.b('                                    <div class="dp-info"><b></b><span class="dp-text"></span></div>');r.b("\n"+n);r.b('                                    <input type="text" value="" class="cinput textbox" style="left: 32px;">');r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("\n"+n);r.b("                <!--多程模块 Changed:添加多程模块-->");r.b("\n"+n);r.b('                <div class="crl_group more-line iwrap" id="js_multi_triplist">');r.b("\n"+n);r.b('                    <div class="crl_sp2_1" id="js_trips_list">');r.b("\n"+n);r.b('                        <div class="muti_control">');r.b("\n"+n);r.b('                            <div class="crl_lab">第<span>1</span>程</div>');r.b("\n"+n);r.b('                            <div class="controls" style="z-index: 102;">');r.b("\n"+n);r.b('                                <div class="qcbox qcity">');r.b("\n"+n);r.b('                                     <input type="text" value="" name="fromCityMulti" class="cinput" data-qcbox-placeholder="出发地" data-qcbox-prefix="出发" data-qcbox-suggest="flight-fromcity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                    <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b('                                <div class="qcbox qcity">');r.b("\n"+n);r.b('                                     <input type="text" value="" name="toCityMulti" class="cinput" data-qcbox-placeholder="目的地" data-qcbox-prefix="到达" data-qcbox-suggest="flight-tocity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                    <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b('                                <div class="qcbox qdate fromD">');r.b("\n"+n);r.b('                                    <input type="text" value="" name="fromDateMulti" class="cinput" autocomplete="off" maxlength="10" data-prefix="日期" />');r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="muti_control">');r.b("\n"+n);r.b('                            <div class="crl_lab">第<span>2</span>程</div>');r.b("\n"+n);r.b('                            <div class="controls" style="z-index: 101;">');r.b("\n"+n);r.b('                                <div class="qcbox qcity">');r.b("\n"+n);r.b('                                     <input type="text" value="" name="fromCityMulti" class="cinput" data-qcbox-placeholder="出发地" data-qcbox-prefix="出发" data-qcbox-suggest="flight-fromcity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                    <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b('                                <div class="qcbox qcity">');r.b("\n"+n);r.b('                                     <input type="text" value="" name="toCityMulti" class="cinput" data-qcbox-placeholder="目的地" data-qcbox-prefix="到达" data-qcbox-suggest="flight-tocity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                    <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b('                                <div class="qcbox qdate fromD">');r.b("\n"+n);r.b('                                    <input type="text" value="" name="fromDateMulti" class="cinput" autocomplete="off" maxlength="10" data-prefix="日期" spellcheck="false" />');r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("                <!--//多程模块-->");r.b("\n"+n);r.b("\n"+n);r.b("                <!--智能模块-->");r.b("\n"+n);r.b('                <div class="fuzzy-ser" id="fuzzy-ser" style=\'display:none;\'>');r.b("\n"+n);r.b('                    <input type="hidden" value="roundtrip" name="fuzzySchType" />');r.b("\n"+n);r.b('                    <div class="fuzzy-ser-i">');r.b("\n"+n);r.b('                        <div class="crl_sp_city">');r.b("\n"+n);r.b('                            <div class="qcbox qcity qfuzzy">');r.b("\n"+n);r.b('                                <input type="text" value="" name="fromFuzzy" class="textbox" data-qcbox-placeholder="城市名" data-qcbox-prefix="出发" data-qcbox-suggest="flight-fromcity" data-qcbox-hotcity="flight" spellcheck="false" autocomplete="off" x-webkit-speech="x-webkit-speech" data-detect-oninput="3">');r.b("\n"+n);r.b('                                <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="crl_sp_fuzzy">');r.b("\n"+n);r.b('                            <div class="qcbox-fuzzy">');r.b("\n"+n);r.b('                                <input type="text" style="padding-left:0px;" value="" name="toFuzzy" class="textbox" data-qcboxfuzzy-placeholder="可输入城市或国家" data-qcboxfuzzy-prefix="我想去" data-qcboxfuzzy-suggest="flight-tofuzzy" data-qcboxfuzzy-hotfuzzy="flightfuzzy" spellcheck="false" autocomplete="off" x-webkit-speech="x-webkit-speech" data-detect-oninput="3">');r.b("\n"+n);r.b('                                <div class="qcbox-fixed js-suggestcontainer"></div>');r.b("\n"+n);r.b('                                <input type="hidden" name="topic" id="topic" value="" />');r.b("\n"+n);r.b('                                <input type="hidden" name="arrType" id="arrType" value="" />');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="clear"></div>');r.b("\n"+n);r.b('                        <div class="m-hot">');r.b("\n"+n);r.b('                            <div class="h-wrap">');r.b("\n"+n);r.b('                                <div class="lab">大家都在搜：</div>');r.b("\n"+n);r.b('                                <div class="ifo js-fuz-rec">');r.b("\n"+n);r.b("                                    <ul>");r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">免签/落地签</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">海滩</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">第1次出国</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">暑假</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">蜜月</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">亲子</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">文化遗产</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">美食</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">潜水</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">购物</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">电影/音乐</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">山岭/滑雪</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">中世纪城堡</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">穷游</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">世界杯</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">古迹</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">都市</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">毕业季</a></li>');r.b("\n"+n);r.b('                                    <li><a class="js-fuz" data-type="2" data-code="" href="#" rel="nofollow">出国特价</a></li>');r.b("\n"+n);r.b("                                </ul>");r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("                <!--//智能模块-->");r.b("\n"+n);r.b("\n"+n);r.b("                <!--价格趋势-->");r.b("\n"+n);r.b('                <div class="crl_group iwrap" id="js_pricetrend_triplist">');r.b("\n"+n);r.b('                    <div class="crl_sp2_1">');r.b("\n"+n);r.b('                        <a class="lnk_change js-exchagne-pcity" href="#" rel="nofollow" title="调换出发地和目的地">换</a>');r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qcity" style="z-index: 40;">');r.b("\n"+n);r.b('                                <input type="text" value="" name="pfromCity" class="cinput" data-qcbox-placeholder="');r.b(r.v(r.f("placeholder",e,t,0)));r.b('" data-qcbox-prefix="出发" data-qcbox-suggest="flight-fromcity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qcity" style="z-index: 30;">');r.b("\n"+n);r.b('                                <input type="text" value="" name="ptoCity" class="cinput" data-qcbox-placeholder="');r.b(r.v(r.f("placeholder",e,t,0)));r.b('" data-qcbox-prefix="到达" data-qcbox-suggest="flight-tocity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b('                    <div class="crl_sp2_2">');r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qdate fromD" style="z-index: 20;">');r.b("\n"+n);r.b('                                <input type="text" value="" id="pfromDate" name="pfromDate" class="cinput" autocomplete="off" maxlength="10" data-prefix="日期" spellcheck="false" />');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("                <!--//价格趋势-->");r.b("\n"+n);r.b("\n"+n);r.b('                <div class="crl_group crl_group_submit" id="js_submit_module">');r.b("\n"+n);r.b('                    <div class="controls"> <span class="p_btn"><button  type="submit" class="button-search"></button></span>');r.b("\n"+n);r.b('                        <div class="p_text">');r.b("\n"+n);r.b('                            <div class="flight_ad js-searchbox-ad"></div>');r.b("\n"+n);r.b('                            <p class="linenum">');r.b("\n"+n);r.b('                                <span class="add-moreline"><a id="js_addtrip" href="javascript:void(0);" rel="nofollow">添加更多航程</a></span>');r.b("\n"+n);r.b('                                <span id="js_alsosearch_inter"></span>');r.b("\n"+n);r.b('                                <span id="js_realtime_info">可实时搜索&nbsp;<span class="highlight">28万</span>&nbsp;条国内国际航线</span></p>');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("            </form>");r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b('        <div class="ch_sch_form ch_sch_flt_bf ch_sch_flt_lp clrfix" style="display:none;" id="js_flighttype_tab_tj">');r.b("\n"+n);r.b('            <form action="/twell/flight/Search.jsp" method="get" id="js_flight_tj_searchbox">');r.b("\n"+n);r.b('                <input type="hidden" value="qunarindex" name="from" />');r.b("\n"+n);r.b('                <input type="hidden" name="searchType" value="DealsFlight" />');r.b("\n"+n);r.b('                <input type="hidden" name="drange" value="15" />');r.b("\n"+n);r.b('                <div class="crl_group">');r.b("\n"+n);r.b('                    <div class="controls">');r.b("\n"+n);r.b('                        <div class="b_hongbao_lst ">');r.b("\n"+n);r.b('                            <!-- a target="_blank" href="//flight.qunar.com/site/zhuanti/hotel_hongbao.html">买机票获预订酒店5折特权</a -->');r.b("\n"+n);r.b('                            <!-- div class="hotel_hongbao_icon js_hongbao">');r.b("\n"+n);r.b('                                <span class="icon"></span>');r.b("\n"+n);r.b('                                <div class="p_tips_wrap p_tips_blue" style="display:none;">');r.b("\n"+n);r.b('                                    <div class="p_tips_arr p_tips_arr_l">');r.b("\n"+n);r.b('                                        <p class="arr_o">◆</p>');r.b("\n"+n);r.b('                                        <p class="arr_i">◆</p>');r.b("\n"+n);r.b("                                    </div>");r.b("\n"+n);r.b('                                    <div class="p_tips_content">');r.b("\n"+n);r.b("                                        <p> 规则说明： </p>");r.b("\n"+n);r.b("                                        <p>1. 成功购买国内单程机票，即送300元酒店红包，登陆去哪儿app进入“我的”—“红包”可查询。 <br/>2. 红包可适用20万家酒店，红包在去哪儿app订酒店首单5折，单次最高优惠200元。 <br/>3. 同一用户（账号/设备/手机号）只能参加本活动一次。 </p>");r.b("\n"+n);r.b("                                    </div>");r.b("\n"+n);r.b("                                </div>");r.b("\n"+n);r.b("                            </div -->");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <label class="lal_rdo" for="js_searchtype_domestic" hidefocus="on">');r.b("\n"+n);r.b('                            <input name="search" type="radio" class="inp_rad js-searchtype-domestic" value="domestic" checked="checked" id="js_searchtype_domestic" data-beacon="特价机票-国内航线" />');r.b("\n"+n);r.b("                            国内航线</label>");r.b("\n"+n);r.b('                        <label class="lal_rdo" for="js_searchtype_international" hidefocus="on">');r.b("\n"+n);r.b('                            <input name="search" type="radio" class="inp_rad js-searchtype-international" value="international" id="js_searchtype_international" data-beacon="特价机票-国际·港澳台航线" />');r.b("\n"+n);r.b("                            国际·港澳台航线</label>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b('                <div class="crl_group iwrap">');r.b("\n"+n);r.b('                    <div class="crl_sp2_1">');r.b("\n"+n);r.b('                        <a class="lnk_change js-exchagne-city" href="#" rel="nofollow" title="调换出发地和目的地">换</a>');r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qcity" style="z-index: 40;">');r.b("\n"+n);r.b('                                <input type="text" value="" name="fromCity" class="cinput" data-qcbox-placeholder="');r.b(r.v(r.f("placeholder",e,t,0)));r.b('" data-qcbox-prefix="出发" data-qcbox-suggest="flight-fromcity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qcity" style="z-index: 30;">');r.b("\n"+n);r.b('                                <input type="text" value="" name="toCity" class="cinput" data-qcbox-placeholder="');r.b(r.v(r.f("placeholder",e,t,0)));r.b('" data-qcbox-prefix="到达" data-qcbox-suggest="flight-tocity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                                <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b('                    <div class="crl_sp2_2">');r.b("\n"+n);r.b('                        <div class="controls">');r.b("\n"+n);r.b('                            <div class="qcbox qdate fromD" style="z-index: 20;">');r.b("\n"+n);r.b('                                <input type="text" id="js_domestic_fromdate" value="" name="fromDate" class="cinput" autocomplete="off" maxlength="10" data-prefix="日期" spellcheck="false" />');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="controls js-backdate" style="visibility:hidden;">');r.b("\n"+n);r.b('                            <div class="qcbox qdate toD" style="z-index: 10;">');r.b("\n"+n);r.b('                                <input type="text" id="js_domestic_todate" value="" name="toDate" class="cinput" autocomplete="off" maxlength="10" data-prefix="日期" spellcheck="false" style="display:none;" />');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b('                <div class="crl_group crl_group_submit">');r.b("\n"+n);r.b('                    <div class="controls"> <span class="p_btn"><button type="submit" class="button-search"></button></span>');r.b("\n"+n);r.b('                        <div class="p_text">');r.b("\n"+n);r.b('                            <div class="flight_ad js-searchbox-ad"></div>');r.b("\n"+n);r.b('                            <p class="linenum">');r.b("\n"+n);r.b('                                <span id="js_alsosearch_domestic"></span>');r.b("\n"+n);r.b('                                可实时搜索&nbsp;<span class="highlight">28万</span>&nbsp;条国内国际航线');r.b("\n"+n);r.b("                            </p>");r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("            </form>");r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b('    <div class="foot">');r.b("\n"+n);r.b('        <a href="http://www.qunar.com/xiaobao/flight.html" rel="nofollow" target="_blank" class="img"></a>');r.b("\n"+n);r.b('        <abbr id="flightSearchBoxAd" style="display:none;" data-type="qad" data-query="f=s&cur_page_num=0&rep=1&tag=99&vataposition=QNR_Mjg%3D_CN&vatacon=&rows=1&qtype=js&vataframe=bannerDefault" data-style="width:100%;"></abbr>');r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b("</div>");r.b("\n");return r.fl();});if(true)e.exports=window.QTMPL["FlightSearchBox"]},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;var r=n(41);e.exports=function(e){function t(){this._type="特价"}e.extend(t.prototype,r.prototype,{changeSerchType:function(){var t=this;t.$tjSearchRadio.bind("change",function(n){var r=e(this).val();switch(r){case"domestic":t.fromHotCity.switchCity({type:"domesticfromtj"});t.toHotCity.switchCity({type:"domesticto-tj"});break;case"international":t.fromHotCity.switchCity({type:"interfrom-tj",width:500});t.toHotCity.switchCity({type:"interto-tj",width:500});break}})}});return t}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){function D(e){return e.prevAll(".dp-prefix")}function P(e){e.fdatepicker_price("setting","linkTo",null)}function H(e,t){e.fdatepicker_price("setting","linkTo",t);t.data("q-datepicker-fly").ui.setFuzzyDate(e.val());var n=e.data("q-datepicker-fly").ui;n.checkLinked({pos:n.picker.args.pos,restPos:0})}function B(e){return e!==""}function j(e){var e=new Date(e);var t=window.SERVER_TIME||new Date;if(e.getTime()<t.getTime()){e=new Date(t.getTime()+2*24*60*60*1e3)}var n=e.getFullYear();var r=e.getMonth()+1;var i=e.getDate();r=r<10?"0"+r:r;i=i<10?"0"+i:i;return[n,r,i].join("-")}function F(e){var t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);return t?new Date(t[1],t[2]*1-1,t[3]):null}function I(t,n){e.each(n,function(e,n){if(e==="value"){var r=t.data("q-suggest");if(r){r.setValue(n)}t.val(n)}else{switch(e){case"country":t.data("country",n);break;case"valided":t.data("valided",n);break}}})}function q(t){return e.extend({},t.data(),{value:e.trim(t.val())})}function R(){}var t=n(42);var r=n(47);var i="input[name=fromCity]";var s="input[name=toCity]";var o="input[name=fromDate]";var u="input[name=toDate]";var a=".js-exchagne-city";var f="input[name=from]";var l="#adt_num";var c="#chd_num";var h="input[name=fromFuzzy]";var p="input[name=topic]";var d="input[name=pfromCity]";var v="input[name=ptoCity]";var m="input[name=pfromDate]";var g=".js-exchagne-pcity";var y="#js_searchtype_domestic";var b="#js_searchtype_international";var w="input[name=search]";var E="input[name=drange]";var S=".js-searchtype-oneway";var x=".js-searchtype-roundtrip";var T=".js-searchtype-multitrip";var N=".js-searchtype-fuzzytrip";var C=".js-searchtype-pricetrend";var k=".js_arrivalDateDiv_disable";var L=".js_arrivalDateDiv";var A=".js-suggestcontainer";var O=".js-backdate";var M=362;var _=n(46).specPlace;e.extend(R.prototype,{init:function(t){var n=this;if(n._inited){return}var r=e(t.form);var A=t.hotcity;var M=t.photcity;var _=t.delay||null;n.isFuzzy=t.isFuzzy;n.placeHolder=t.placeHolder;n.pplaceHolder=t.pplaceHolder;n.supportPrice=typeof t.supportPrice==="undefined"?false:t.supportPrice;n.form=t.form;n.$form=r;n.$toDate=r.find(u);n.$fromDate=r.find(o);n.$fromCity=r.find(i);n.$toCity=r.find(s);n.$backdate=r.find(O);n.$adtNum=r.find(l);n.$chdNum=r.find(c);n.$onewayRadio=e(S,r);n.$roundtripRadio=e(x,r);n.$multitripRadio=e(T,r);n.$fuzzytripRadio=e(N,r);n.$pricetrendRadio=e(C,r);n.$fuzzyFrom=r.find(h);n.$fuzzyTo=r.find(p);n.$pfromCity=r.find(d);n.$ptoCity=r.find(v);n.$pfromDate=r.find(m);n.$pexchange=e(g,r);n.$arrDateWp_dis=e(k,r);n.$arrDateWp=e(L,r);n.$tjDomesticRadio=e(y,r);n.$tjInternationalRadio=e(b,r);n.$tjSearchRadio=e(w,r);n.$tjDateRange=e(E,r);n.$exchange=e(a,r);n.$from=e(f,r);n.alsosearch=t.alsosearch;n.cityCount={domesticfrom:0,domesticto:0,interfrom:0,interto:0,prtrendfrom:0,prtrendto:0};n.dateCount={domesticfromDate:0,domestictoDate:0,interfromDate:0,intertoDate:0,pfromDate:0};n.sType=t.form.indexOf("inter")>-1?"inter":"domestic";n.changePsngr=false;n.hasHidetip=false;n._initCityInput(A);n._initDatePicker(_);if(M){n._initpCityInput(M);n._initpDatePicker(_)}if(t.form.indexOf("inter")>=0){n._initNumSelector()}n._bindEvents();n.$toDatePrefix=D(n.$toDate);n.$fromDatePrefix=D(n.$fromDate);n._inited=true;e(n).trigger("initialized");n.$onewayRadio.trigger("click");n.imfs=t.imfs;return n},_searchType:function(){var e=this.$onewayRadio[0];if(e){return this.$onewayRadio[0].checked?"oneway":"roundtrip"}},_tjSearchType:function(){var e=this.$tjDomesticRadio[0];if(e){return this.$tjDomesticRadio[0].checked?"domestic":"international"}},_sortDomeInter:function(t){t.type=t.type||"";t.dome_one_id=t.dome_one_id||"4-1-1-1";t.dome_round_id=t.dome_round_id||"4-1-1-3";t.inter_one_id=t.inter_one_id||"4-1-2-1";t.inter_round_id=t.inter_round_id||"4-1-2-3";t.dome_one_name=t.dome_one_name||"搜索-国内机票单程";t.dome_round_name=t.dome_round_name||"搜索-国内机票往返";t.inter_one_name=t.inter_one_name||"搜索-国际机票单程";t.inter_round_name=t.inter_round_name||"搜索-国际机票往返";t.to_url=t.to_url||"";if(t.type.indexOf("domestic")>=0){if(e("#js_domestic_fromdate").attr("data-type")){newClkObj.nanachiClk({button_id:t.dome_one_id,button_name:t.dome_one_name,action_type:"buttonclick，pagedepth",page_depth:"4-搜索框",to_url:t.to_url,logdata:""})}else{newClkObj.nanachiClk({button_id:t.dome_round_id,button_name:t.dome_round_name,action_type:"buttonclick，pagedepth",page_depth:"4-搜索框",to_url:t.to_url,logdata:""})}}else{if(e("#fromDate").attr("data-type")){newClkObj.nanachiClk({button_id:t.inter_one_id,button_name:t.inter_one_name,action_type:"buttonclick，pagedepth",page_depth:"4-搜索框",to_url:t.to_url,logdata:""})}else{newClkObj.nanachiClk({button_id:t.inter_round_id,button_name:t.inter_round_name,action_type:"buttonclick，pagedepth",page_depth:"4-搜索框",to_url:t.to_url,logdata:""})}}},_initCityInput:function(n){var i=this;var s=i.$fromCity.nextAll(A);var o=i.$toCity.nextAll(A);var u=i.$fromCity,a=i.$toCity;var f=new t;var l=new t;var c=new r;var h=new r;this.fromCitySuggest=c;this.toCitySuggest=h;i.fromHotCity=f;i.toHotCity=l;u.data("qcbox-placeholder",i.placeHolder);a.data("qcbox-placeholder",i.placeHolder);e.each([f,l,c,h],function(t,n){e(n).bind("setvalue",function(t,n){i._clearError(n);e(i).trigger("boxchange");e(i).trigger("citychange");if(t.target&&t.target.type&&typeof i.cityCount[t.target.type]=="number"){i.cityCount[t.target.type]++;var r={type:t.target.type};i._sortDomeInter(r)}})});e(f).bind("hotcity-show",function(){try{i.$fromCity.data("q-suggest").hide()}catch(t){}if(!this.$dom[0]){e(i).trigger("no_exhitbit",this.cityType)}trackAction("QH|HCT|open")});e(l).bind("hotcity-show",function(){try{i.$toCity.data("q-suggest").hide()}catch(t){}if(!this.$dom[0]){e(i).trigger("no_exhitbit",this.cityType)}trackAction("QH|HCT|open")});f.init({type:n.fromtype,cityType:"from",defaultTab:n.fromDefaultTab,width:n.hotcityWidth});c.init({name:"flight-fromcity",container:s,tiptext:u.data("qcbox-placeholder"),allPlace:this.isFuzzy});u.qcbox();l.init({type:n.totype,cityType:"to",defaultTab:n.toDefaultTab,width:n.hotcityWidth});h.init({name:"flight-tocity",container:o,tiptext:a.data("qcbox-placeholder"),allPlace:this.isFuzzy});a.qcbox()},_initpCityInput:function(n){var i=this;var s=i.$pfromCity.nextAll(A);var o=i.$ptoCity.nextAll(A);var u=i.$pfromCity,a=i.$ptoCity;var f=new t;var l=new t;var c=new r;var h=new r;this.pfromCitySuggest=c;this.ptoCitySuggest=h;i.pfromHotCity=f;i.ptoHotCity=l;u.data("qcbox-placeholder",i.pplaceHolder);a.data("qcbox-placeholder",i.pplaceHolder);e.each([f,l,c,h],function(t,n){e(n).bind("setvalue",function(t,n){i._clearError(n);e(i).trigger("boxchange");e(i).trigger("citychange");if(t.target&&t.target.cityType&&typeof i.cityCount["prtrend"+t.target.cityType]=="number"){i.cityCount["prtrend"+t.target.cityType]++}})});e(f).bind("hotcity-show",function(){try{i.$pfromCity.data("q-suggest").hide()}catch(t){}if(!this.$dom[0]){e(i).trigger("no_exhitbit",this.cityType)}trackAction("QH|HCT|open")});e(l).bind("hotcity-show",function(){try{i.$ptoCity.data("q-suggest").hide()}catch(t){}if(!this.$dom[0]){e(i).trigger("no_exhitbit",this.cityType)}trackAction("QH|HCT|open")});f.init({type:n.fromtype,cityType:"from",defaultTab:n.fromDefaultTab,width:n.hotcityWidth});c.init({name:"flight-fromcity",container:s,tiptext:u.data("qcbox-placeholder"),allPlace:false});u.qcbox();l.init({type:n.totype,cityType:"to",defaultTab:n.toDefaultTab,width:n.hotcityWidth});h.init({name:"flight-tocity",container:o,tiptext:a.data("qcbox-placeholder"),allPlace:false});a.qcbox()},_initDatePicker:function(t){var n=this;var r=typeof SERVER_TIME!=="undefined"?SERVER_TIME:new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=new Date(r.getFullYear(),r.getMonth(),r.getDate()+M);var o=t?t.fromDateDelay:2;toDateDelay=t?t.toDateDelay:5;var u=new Date(r.getFullYear(),r.getMonth(),r.getDate()+o),a=new Date(r.getFullYear(),r.getMonth(),r.getDate()+toDateDelay);var f=n.$fromDate,l=n.$toDate;var c=l.fdatepicker_price({ui:"qunar",refObj:f,defaultDay:a.valueOf(),maxDate:s,schForm:n,on:{"q-datepicker-select":function(t){e(n).trigger("boxchange");if(t.target&&t.target.name&&typeof n.dateCount[n.sType+t.target.name]=="number"){var r={type:n.sType};n._sortDomeInter(r);n.dateCount[n.sType+t.target.name]++}},"q-datepicker-show":function(){trackAction("QH|DP|open")}}});var h=f.fdatepicker_price({ui:"qunar",linkRules:n._type&&n._type=="国际"?"+7D,+0D":"+3D,+0D",minDate:i,maxDate:s,linkTo:c,defaultDay:u.valueOf(),schForm:n,on:{"q-datepicker-select":function(){e(n).trigger("boxchange")},"q-datepicker-show":function(){trackAction("QH|DP|open")}}});f.bind("q-datepicker-select",function(e){if(c.is(":visible")){c.focus();c.data("q-datepicker-fly").show()}if(e.target&&e.target.name&&typeof n.dateCount[n.sType+e.target.name]=="number"){var t={type:n.sType};n._sortDomeInter(t);n.dateCount[n.sType+e.target.name]++}});if(n.supportPrice){var p={$fromCity:n.$fromCity,$toCity:n.$toCity,$fromDate:n.$fromDate};f.data("q-datepicker-fly").supportPrice(true,p);l.length>0?l.data("q-datepicker-fly").supportPrice(true,p):""}if(this.isFuzzy){f.data("q-datepicker-fly").setFuzzy(true);l.data("q-datepicker-fly").setFuzzy(true)}},_initpDatePicker:function(t){var n=this;var r=typeof SERVER_TIME!=="undefined"?SERVER_TIME:new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=new Date(r.getFullYear(),r.getMonth(),r.getDate()+M);var o=t?t.fromDateDelay:2;toDateDelay=t?t.toDateDelay:5;var u=new Date(r.getFullYear(),r.getMonth(),r.getDate()+o),a=new Date(r.getFullYear(),r.getMonth(),r.getDate()+toDateDelay);var f=n.$pfromDate;var l=f.fdatepicker_price({ui:"qunar",linkRules:"+3D,+0D",minDate:i,maxDate:s,defaultDay:u.valueOf(),on:{"q-datepicker-select":function(t){e(n).trigger("boxchange");if(typeof n.dateCount[t.target.name]=="number"){n.dateCount[t.target.name]++}},"q-datepicker-show":function(){trackAction("QH|DP|open")}}});if(n.supportPrice){var c={$fromCity:n.$pfromCity,$toCity:n.$ptoCity,$fromDate:n.$pfromDate};f.data("q-datepicker-fly").supportPrice(true,c)}if(this.isFuzzy){f.data("q-datepicker-fly").setFuzzy(true)}},_initNumSelector:function(t){var n=this;var r=n.$adtNum;var i=n.$chdNum;var s=n.$adtNum.find("input");var o=n.$chdNum.find("input");var u=n.$adtNum.nextAll(".sel_suggest");var a=n.$chdNum.nextAll(".sel_suggest");var f=e(".js_passnum_tip");var l=e(".js_child_tip");var c=f.find(".js_hide_passnum_tip");r.isShow=false;i.isShow=false;if(window.sessionStorage&&!window.sessionStorage["hidePassnumTip"]){f.show();n.hasHidetip=true}n.renderNumList(u.find("ul"),[1,9]);n.renderNumList(a.find("ul"),[0,8]);r.on("click",function(){var e={type:"inter"};n._sortDomeInter(e);n.toggleSuggest(r.isShow,r)});i.on({click:function(){var e={type:"inter"};n._sortDomeInter(e);n.toggleSuggest(i.isShow,i);if(i.isShow){l.show()}else{l.hide()}},mouseenter:function(){l.show()},mouseleave:function(){if(!i.isShow){l.hide()}}});u.on("click","li",function(t){e(n).trigger("adtNumChange",t.target.value);s.val(t.target.value);n.toggleSuggest(true,r);GodEye.log({r:"srch_chg_passnum",type:"adt"})});a.on("click","li",function(t){e(n).trigger("chdNumChange",t.target.value);o.val(t.target.value);n.toggleSuggest(true,i);l.hide();GodEye.log({r:"srch_chg_passnum",type:"chd"})});c.on("click",function(){n.hidePassTip();n.changePsngr=true});e("body").on("click",function(t){if(e(t.target).closest("#adtnum_box").length<1){n.toggleSuggest(true,r)}if(e(t.target).closest("#chdnum_box").length<1){n.toggleSuggest(true,i);l.hide()}});e(n).on({chdNumChange:function(e,t){n.renderNumList(u.find("ul"),[1,9-t])},adtNumChange:function(e,t){n.renderNumList(a.find("ul"),[0,9-t])}})},toggleSuggest:function(e,t){var n=this;var r=t.nextAll(".sel_suggest");var i=t.find(".yselector_arraw");if(e){r.hide();i.removeClass("open");t.isShow=false}else{r.show();i.addClass("open");t.isShow=true;n.hidePassTip();n.changePsngr=true}},hidePassTip:function(){var t=e(".js_passnum_tip");t.hide();if(window.sessionStorage){window.sessionStorage.setItem("hidePassnumTip",true)}},renderNumList:function(e,t){var n=[];for(var r=t[0];r<=t[1];r++){n.push("<li value="+r+">"+r+"</li>")}e.html(n.join(""))},parseDate:function(e){return F(e)},_bindEvents:function(){var e=this;e._submitCheck();e._bindExChangeCityEvent();e._bindSearchTypeChangeEvent();e._bindAlsoSearch()},_checkAlsoSearch:function(e,t){function r(){var t=n.alsosearch||[];if(t.length==0){e&&e(null);return}var r=0,i=t.length,s=function(n){if(n){e&&e(t[r-1])}else{var i=t[r++];if(i){i.toggle(s)}else{e&&e(null)}}};s(false)}clearTimeout(this._also_timer);var n=this;if(t){r()}else{this._also_timer=setTimeout(r,10)}},_bindAlsoSearch:function(){var t=this;var n=t.alsosearch;if(!n){return}e(t).bind("boxchange",function(){t._checkAlsoSearch()})},_bindExChangeCityEvent:function(){var e=this;e.$exchange.click(function(t){var n=e.getToCity();e.setToCity(e.getFromCity());e.setFromCity(n);var r=e.getFromCity().value;var i=r.indexOf("(");if(i===-1){i=r.length}trackAction("QH|FC|change");t.preventDefault()});e.$pexchange.click(function(t){var n=e.getpToCity();e.setpToCity(e.getpFromCity());e.setpFromCity(n);var r=e.getpFromCity().value;var i=r.indexOf("(");if(i===-1){i=r.length}trackAction("QH|FC|change");t.preventDefault()})},_bindSearchTypeChangeEvent:function(){var t=this;var n=t.$form,r=t.$fromDate,i=t.$toDate;t.$onewayRadio.click(function(){P(r);r.attr("data-type","oneWay");t.$arrDateWp.hide();t.$arrDateWp_dis.show()});t.$roundtripRadio.click(function(){H(r,i);r.attr("data-type","");t.$arrDateWp_dis.hide();t.$arrDateWp.hide().show()});t.$arrDateWp_dis.click(function(){t.$roundtripRadio.trigger("click")});e(t).trigger("searchtypechagne")},_showError:function(e,t){var n=this;var r;switch(e){case"from":r=n.$fromCity;break;case"to":r=n.$toCity;break;case"pfrom":r=n.$pfromCity;break;case"pto":r=n.$ptoCity;break}if(!r.data("org-placeholder")){r.data("org-placeholder",r.data("qcbox-placeholder"))}r.data("qcbox-placeholder",t);r.val("");r.parent().parent().addClass("qcbox_err")},_clearError:function(e){e.data("qcbox-placeholder",e.data("org-placeholder"));e.parent().parent().removeClass("qcbox_err")},_checkCity:function(e,t){var n=this;var r=t.value;if(B(r)&&!t.valided){return false}return true},_checkpCity:function(t,n){var r=this;var i=n.value;if(e.trim(i)===""||!n.valided){return false}return true},_submitCheck:function(){var t=this;t.$form.submit(function(r){var i=t.getFromCity(),s=t.getToCity();var o=true;var u=i.value;var a=s.value;var f=t.$tjDateRange.val();var l=false;t.hidePassTip();var c=e("#js_searchbox_flight .ul_search_tab li.cur a").text();gaClk("机票|"+c+"|搜索");SAReport("机票|"+c+"|btn");var h="";switch(c){case"国内机票":h="domestic_search";break;case"国际·港澳台机票":h="inter_search";break}var p={type:h,dome_one_id:"4-1-1-2",dome_round_id:"4-1-1-4",inter_one_id:"4-1-2-2",inter_round_id:"4-1-2-4",dome_one_name:"搜索-国内机票单程立即搜索",dome_round_name:"搜索-国内机票往返立即搜索",inter_one_name:"搜索-国际机票单程立即搜索",inter_round_name:"搜索-国际机票往返立即搜索",to_url:"https://www.qunar.com/twell/flight/Search.jsp"};var d=e("#fuzzy-ser").attr("style");var v=e("#js_multi_triplist").attr("style")===undefined?"display:none;":e("#js_multi_triplist").attr("style");if(d.indexOf("display: none")<0&&d.indexOf("display:none")<0){newClkObj.nanachiClk({button_id:"4-1-2-6",button_name:"搜索-国际机票智能搜索立即搜索",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}else if(v.indexOf("display: none")<0&&v.indexOf("display:none")<0){newClkObj.nanachiClk({button_id:"4-1-2-9",button_name:"搜索-国际机票多程立即搜索",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}else{t._sortDomeInter(p)}if(t.$fuzzytripRadio.length&&t.$fuzzytripRadio[0].checked){l=true;GodEye.log({r:"srchbox_fuzzy"})}if(t.$multitripRadio.length&&t.$multitripRadio[0].checked){o=t.imfs.submitCheck();if(o){var m=t.imfs.getMultiValue();t.$toCity.val(m.toCity);t.$fromDate.val(m.fromDate);t.$fromCity.val(m.fromCity)}return o}if(t.$pricetrendRadio.length&&t.$pricetrendRadio[0].checked){var g=t.getpFromCity(),y=t.getpToCity();pfromCityVal=g.value,pfromCountryVal=g.country,ptoCityVal=y.value,ptoCountryVal=y.country,pfromDateVal=t.pfromDate();if(!pfromCityVal){t._showError("pfrom","出发地不能为空");o=false}if(!ptoCityVal){t._showError("pto","目的地不能为空");o=false}if(o&&!t._checkpCity("pfrom",g)){t._showError("pfrom","城市错误");o=false}if(o&&!t._checkpCity("pto",y)){t._showError("pto","城市错误");o=false}if(o&&pfromCityVal===ptoCityVal){t._showError("pto","不能和出发地相同");o=false}if(o&&pfromCountryVal==="中国"&&ptoCountryVal==="中国"){t._showError("pto","暂不支持国内航线");o=false}if(o){var m={from:"qunarindex",searchType:"PriceTrend",pfromCity:pfromCityVal,ptoCity:ptoCityVal,pfromDate:pfromDateVal};var b=m.pfromCity.match(/^(.*)\((\w+)\)$/),w=m.ptoCity.match(/^(.*)\((\w+)\)$/);var E={fromCity:b?b[1]:m.pfromCity,toCity:w?w[1]:m.ptoCity,fromDate:m.pfromDate,fromCode:b?b[2]:"",toCode:w?w[2]:"",from:m.from,isInter:true};GodEye.log({r:"srchbox_prctrend",godate:E.fromDate,gocity_chg_cnt:t.cityCount.prtrendfrom,arrcity_chg_cnt:t.cityCount.prtrendto,godate_chg_cnt:t.dateCount.pfromDate});location.href="http://flight.qunar.com/site/pricetrend.htm?"+e.param(E)}return false}if(!t._checkCity("from",i)){i.qcbox.$el.trigger("mouseup");o=false}else if(!t._checkCity("to",s)){s.qcbox.$el.trigger("mouseup");o=false}if(u===a&&B(u)&&e.inArray(u,_)==-1){t._showError("to","不能和出发地相同");o=false}if(encodeURIComponent(u)==="%E6%9E%97%E6%B5%A9"&&encodeURIComponent(a)==="%E6%B0%B8%E8%83%9C"){t._showError("from",decodeURIComponent("%E5%AF%B9%E4%B8%8D%E8%B5%B7"));t._showError("to",decodeURIComponent("%E4%BB%96%E4%BB%AC%E6%98%AF%E5%86%A4%E5%AE%B6"));o=false}if(!o){return false}var S={fd:t.fromDate(),td:t.toDate(),fromCity:u,toCity:a,search:t._tjSearchType(),drange:f,type:t._type,searchType:t._searchType()};var x=n(48);if(x.check(S)){x.show();return false}var T=t.sType+"_"+t._searchType();var N=t.sType=="inter";var C=t._searchType()=="roundtrip";var k=q(t.$chdNum.find("input")).value;var L=q(t.$adtNum.find("input")).value;if(!l){var A={r:"srchbox",srch_type:T,gocity_chg_cnt:t.cityCount[t.sType+"from"],retcity_chg_cnt:t.cityCount[t.sType+"to"],godate_chg_cnt:t.dateCount[t.sType+"fromDate"],godate:q(t.$fromDate).value};if(C){A.retdate_chg_cnt=t.dateCount[t.sType+"toDate"];A.retdate=q(t.$toDate).value}if(N){A.adtnum=L;A.chdnum=k}GodEye.log(A);if(t.changePsngr){GodEye.log({r:"srchbox_choose_passnum",hastip:t.hasHidetip})}if(k!=0){GodEye.log({r:"srchbox_with_child"})}}e(t).trigger("select_btn");t._checkAlsoSearch(function(n){if(n){var i=n.getAdUrl();if(i){var s=window.screen.availHeight*1;var o=window.screen.availWidth*1;var u="qunar_"+(new Date).valueOf();var a=window.open("about:blank",u,"scrollbars=yes,location=yes,menubar=yes,resizable=yes,status=yes,titlebar=yes,toolbar=yes,width="+Math.round(o)+",height="+Math.round(s));if(e.browser.msie&&e.browser.version=="6.0"&&!e.support.style){a.blur();a.opener.focus();a.location=i}else{r.preventDefault();t.$form.attr("target",u);setTimeout(function(){t.$form[0].submit();setTimeout(function(){location.href=i},10)},10)}}}},true)})},getId:function(){return this.form},setFromCity:function(t){I(this.$fromCity,t);this._clearError(this.$fromCity);e(this).trigger("boxchange");return this},getFromCity:function(){return q(this.$fromCity)},setpFromCity:function(t){I(this.$pfromCity,t);this._clearError(this.$pfromCity);e(this).trigger("pboxchange");return this},getpFromCity:function(){return q(this.$pfromCity)},setToCity:function(t){I(this.$toCity,t);this._clearError(this.$toCity);e(this).trigger("boxchange");return this},getToCity:function(){return q(this.$toCity)},setpToCity:function(t){I(this.$ptoCity,t);this._clearError(this.$ptoCity);e(this).trigger("pboxchange");return this},getpToCity:function(){return q(this.$ptoCity)},fromDate:function(t){if(t==null){return this.$fromDate.val()}else{this.$fromDate.data("q-datepicker-fly").select(F(t));e(this).trigger("boxchange")}return this},pfromDate:function(t){if(t==null){return this.$pfromDate.val()}else{this.$pfromDate.data("q-datepicker-fly").select(F(t));e(this).trigger("boxchange")}return this},toDate:function(t){if(t==null){return this.$toDate.val()}else{this.$toDate.data("q-datepicker-fly").select(F(t));e(this).trigger("boxchange")}return this},fromParam:function(e){if(e==null){return this.$from.val()}else{this.$from.val(e)}return this},getDom:function(){return this.$form},fill:function(e){if(!e){return}var t=this;t.setFromCity({value:e.fromCity,country:e.fromCountry,valided:true});t.setToCity({value:e.toCity,country:e.toCountry,valided:true});trackAction("QH|HCT|history|"+encodeURIComponent(e.fromCity));trackAction("QH|HCT|history|"+encodeURIComponent(e.toCity));t.fromDate(j(e.fromDate));if(e.roundtrip){t.toDate(j(e.toDate));t.$roundtripRadio.attr("checked","checked");t.$roundtripRadio.trigger("click")}else{t.$onewayRadio.attr("checked","checked");t.$onewayRadio.trigger("click")}if(t.$pfromCity&&t.$pfromCity.length){if(e.fromCountry==="中国"&&e.toCountry==="中国"){return}t.setpFromCity({value:e.fromCity,country:e.fromCountry,valided:true});t.setpToCity({value:e.toCity,country:e.toCountry,valided:true});t.pfromDate(j(e.fromDate))}}});return R}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;n(43);n(44);var r=n(45);e.exports=function(e){function u(t){var n=i[t.type];var s=i.data;var o=[];var u=null;var a=null;if(t.type=="domesticfrom"||t.type=="interfrom"){r.init(t);u=r.cityHistory();a=r.hisLength()}e.each(n,function(e,t){var n={key:t.key,tab:t.title,title:s[t.key].title};o.push(n)});var f=QTMPL.FlightHotCity.render({sort:o,type:t.type,cityType:t.cityType,cityHistory:u,hisLength:a,width:t.width});return e(f)}function a(t,n){var r=t.type+"-flight-hotcity-"+t.cityType;e(e.tabs).bind(r+"-change",function(e,t,n,r){var s=n.data("key");var o=r;p(i.data[s],o)});e(n).bind("hotcity-show",function(){if(t.type=="interto"){var r=n.ui.$el.closest("form").find("[name=fromCity]").val();if(o==r){return}else{o=r}var s=n.ui.$wrap.find("[data-panel='interto-flight-hotcity-to'][data-panel-id='dfh-国际·港澳台']");var u={q:r.replace(/\([^)]*\)/g,"")};e.ajax({url:"//flight.qunar.com/suggest/inter_arrcity_suggest.jsp?sort=F",dataType:"jsonp",data:u||{},timeout:200,success:function(e){if(e&&e.result&&e.result.length>0){e.result.forEach(function(e){if(/^香港|澳门|台湾$/.test(e.name)){e.name="中国"+e.name}});i.data["国际·港澳台-to"].cityList[0].list=e.result}p(i.data["国际·港澳台-to"],s,"国际·港澳台-to")},error:function(){}})}});h(t,n);f(t,n)}function f(t,n){n.$hotcity.delegate(".js_history","click",function(t){t.preventDefault();var r=e(this),i=n.ui.$el;var s=r.attr("data-fcity"),o=r.attr("data-tcity");i.val(s);i.closest("form").find("[name=toCity]").val(o);i.closest("form").find("[name=fromDate]").focus();trackAction("QH|HCT|route|"+s+"-"+o);n.hideHotcity()})}function h(t,n){n.$hotcity.delegate("a.js-hotcitylist","click",function(r){var i=e("#fuzzy-ser").attr("style");var s=e("#js_multi_triplist").attr("style")===undefined?"display:none;":e("#js_multi_triplist").attr("style");if(i.indexOf("display: none")<0&&i.indexOf("display:none")<0){newClkObj.nanachiClk({button_id:"4-1-2-5",button_name:"搜索-国际机票智能搜索",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}else if(s.indexOf("display: none")<0&&s.indexOf("display:none")<0){newClkObj.nanachiClk({button_id:"4-1-2-8",button_name:"搜索-国际机票多程",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}r.preventDefault();var o=e(this),u=n.ui.$el;var a=o.data("code");a=a?"("+a+")":"";var f=u.data("q-suggest");var h=o.text();if((new RegExp("中国("+l+")")).test(h)||(new RegExp("中国("+c+")")).test(h)){h=h.replace("中国","")}if(f){f.setValue((o.attr("title")||h)+a)}else{u.val(h+a)}u.data("country",o.data("country"));u.data("valided",true);e(t).trigger("setvalue",[u]);e(t).trigger("hotcity-select",[h]);n.hideHotcity()})}function p(e,t,n){if(t.html()&&n!="国际·港澳台-to"){return}for(var r=0,i=e.cityList.length;r<i;r++){var s=e.cityList[r];for(var o=0,u=s.list.length;o<u;o++){var a=s.list[o];if(l.indexOf(a.name)>-1){a.name="中国"+a.name}}}var f=QTMPL.FlightHotCityList.render(e);t.html(f)}function d(){this.cityType=null;this.$dom=null;this.data={}}var t=".js_close_flight_hotcity";var i=n(46).hotCity;var s=500;var o;var l=["香港","台湾","澳门","台北","高雄","台南","台中","台东","嘉义","花莲","格林岛","金门","马公","马祖","南竿","七美"].join("|");var c=["港澳台"].join("|");e.extend(d.prototype,{init:function(n){var r=this;e.RegisterPlugin("qcbox","hotcity","flight",{initialize:function(){r.cityType=n.cityType;r.data=n.data;r.type=n.type;r.defaultTab=n.defaultTab;r.width=n.width||s},initializeStruct:function(){var n=this.ui.$el,i=this.ui,s=this;r.$dom=u(r);this.$hotcity.append(r.$dom);r.$dom.find(t).click(function(){s.hideHotcity()});a(r,s);e.tabs.init(r.$dom)}})},switchCity:function(e){this.type=e.type;this.width=e.width||s}});return d}(jQuery)}).call(window)},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["FlightHotCity"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="ui-city-sug"');if(r.s(r.f("width",e,t,1),e,t,0,34,60,"{{ }}")){r.rs(e,t,function(e,t,n){n.b(' style="width:');n.b(n.v(n.f("width",e,t,0)));n.b('px"')});e.pop()}r.b(' data-hotcity-nogo="true">');r.b("\n"+n);r.b('    <i class="ico-close js_close_flight_hotcity" id="closeXI20"></i>');r.b("\n"+n);r.b("    ");if(r.s(r.f("hisLength",e,t,1),e,t,0,184,396,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('<div class="m-hst">搜索历史：');if(n.s(n.f("cityHistory",e,t,1),e,t,0,224,374,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<span title="');n.b(n.v(n.f("fcity",e,t,0)));n.b(" - ");n.b(n.v(n.f("tcity",e,t,0)));n.b('" data-fcity="');n.b(n.v(n.f("fcity",e,t,0)));n.b('"  data-tcity="');n.b(n.v(n.f("tcity",e,t,0)));n.b('" class="js_history">');n.b(n.v(n.f("fcity_abbr",e,t,0)));n.b("&nbsp;-&nbsp;");n.b(n.v(n.f("tcity_abbr",e,t,0)));n.b("</span>")});e.pop()}n.b("</div>")});e.pop()}r.b("\n"+n);r.b('    <div class="m-hct-nav">');r.b("\n"+n);if(r.s(r.f("sort",e,t,1),e,t,0,456,623,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('        <span data-key="');n.b(n.v(n.f("key",e,t,0)));n.b('" data-tab="');n.b(n.v(n.f("type",e,t,0)));n.b("-flight-hotcity-");n.b(n.v(n.f("cityType",e,t,0)));n.b('" data-tab-id="dfh-');n.b(n.v(n.f("tab",e,t,0)));n.b('">');n.b(n.v(n.f("tab",e,t,0)));n.b('<i class="i1"></i><i class="i2"></i></span>');n.b("\n")});e.pop()}r.b("    </div>");r.b("\n"+n);if(r.s(r.f("sort",e,t,1),e,t,0,657,774,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('    <div data-panel="');n.b(n.v(n.f("type",e,t,0)));n.b("-flight-hotcity-");n.b(n.v(n.f("cityType",e,t,0)));n.b('" data-panel-id="dfh-');n.b(n.v(n.f("tab",e,t,0)));n.b('" class="m-hct-lst"></div>');n.b("\n")});e.pop()}r.b("</div>");return r.fl();});if(true)e.exports=window.QTMPL["FlightHotCity"]},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["FlightHotCityList"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");if(r.s(r.f("charSort",e,t,1),e,t,0,13,551,"{{ }}")){r.rs(e,t,function(e,t,r){if(r.s(r.f("cityList",e,t,1),e,t,0,27,537,"{{ }}")){r.rs(e,t,function(e,t,r){if(r.s(r.f("char",e,t,1),e,t,0,37,527,"{{ }}")){r.rs(e,t,function(e,t,r){r.b('<dl class="e-hct-lst ');if(r.s(r.f("clshct",e,t,1),e,t,0,71,82,"{{ }}")){r.rs(e,t,function(e,t,n){n.b("e-hct-lst-h")});e.pop()}r.b('">');r.b("\n"+n);r.b("	<dt>");r.b(r.v(r.f("char",e,t,0)));r.b("</dt>");r.b("\n"+n);r.b("	<dd>");r.b("\n"+n);r.b("		<ul>");r.b("\n"+n);if(r.s(r.f("list",e,t,1),e,t,0,142,493,"{{ }}")){r.rs(e,t,function(e,t,n){if(!n.s(n.f("titles",e,t,1),e,t,1,0,0,"")){n.b('		    	<li><a class="js-hotcitylist" data-country="');n.b(n.v(n.f("country",e,t,0)));n.b('" data-code="');n.b(n.v(n.f("code",e,t,0)));n.b('" href="#" rel="nofollow">');n.b(n.v(n.f("name",e,t,0)));n.b("</a></li>");n.b("\n")}if(n.s(n.f("titles",e,t,1),e,t,0,323,476,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('		    	<li><a title="');n.b(n.v(n.f("titles",e,t,0)));n.b('" class="js-hotcitylist" data-country="');n.b(n.v(n.f("country",e,t,0)));n.b('" data-code="');n.b(n.v(n.f("code",e,t,0)));n.b('" href="#" rel="nofollow">');n.b(n.v(n.f("name",e,t,0)));n.b("</a></li>");n.b("\n")});e.pop()}});e.pop()}r.b("		</ul>");r.b("\n"+n);r.b("	</dd>");r.b("\n"+n);r.b("</dl>");r.b("\n")});e.pop()}});e.pop()}});e.pop()}r.b("\n"+n);if(r.s(r.f("fuzzy_c",e,t,1),e,t,0,578,953,"{{ }}")){r.rs(e,t,function(e,t,r){if(r.s(r.f("countryList",e,t,1),e,t,0,595,936,"{{ }}")){r.rs(e,t,function(e,t,r){if(r.s(r.f("char",e,t,1),e,t,0,605,926,"{{ }}")){r.rs(e,t,function(e,t,r){r.b('<dl class="e-hct-lst ');if(r.s(r.f("clshct",e,t,1),e,t,0,639,650,"{{ }}")){r.rs(e,t,function(e,t,n){n.b("e-hct-lst-h")});e.pop()}r.b('">');r.b("\n"+n);r.b('	<span class="e-fuzzy-line"></span>');r.b("\n"+n);r.b("	<dt>");r.b(r.v(r.f("char",e,t,0)));r.b("</dt>");r.b("\n"+n);r.b("	<dd>");r.b("\n"+n);r.b("		<ul>");r.b("\n"+n);if(r.s(r.f("listCountry",e,t,1),e,t,0,753,885,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('		    <li><a class="js-hotcitylist" data-country="');n.b(n.v(n.f("country",e,t,0)));n.b('" data-code="');n.b(n.v(n.f("code",e,t,0)));n.b('" href="#" rel="nofollow">');n.b(n.v(n.f("name",e,t,0)));n.b("</a></li>");n.b("\n")});e.pop()}r.b("		</ul>");r.b("\n"+n);r.b("	</dd>");r.b("\n"+n);r.b("</dl>");r.b("\n")});e.pop()}});e.pop()}});e.pop()}r.b("\n"+n);r.b("\n"+n);if(r.s(r.f("fuzzy",e,t,1),e,t,0,978,1341,"{{ }}")){r.rs(e,t,function(e,t,r){if(r.s(r.f("hotword",e,t,1),e,t,0,991,1328,"{{ }}")){r.rs(e,t,function(e,t,r){if(r.s(r.f("char",e,t,1),e,t,0,1001,1318,"{{ }}")){r.rs(e,t,function(e,t,r){r.b('<dl class="e-hct-lst ');if(r.s(r.f("clshct",e,t,1),e,t,0,1035,1046,"{{ }}")){r.rs(e,t,function(e,t,n){n.b("e-hct-lst-h")});e.pop()}r.b('">');r.b("\n"+n);r.b('	<span class="e-fuzzy-line"></span>');r.b("\n"+n);r.b("	<dt>");r.b(r.v(r.f("char",e,t,0)));r.b("</dt>");r.b("\n"+n);r.b("	<dd>");r.b("\n"+n);r.b("		<ul>");r.b("\n"+n);if(r.s(r.f("listfuzzy",e,t,1),e,t,0,1147,1279,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('		    <li><a class="js-hotcitylist" data-country="');n.b(n.v(n.f("country",e,t,0)));n.b('" data-code="');n.b(n.v(n.f("code",e,t,0)));n.b('" href="#" rel="nofollow">');n.b(n.v(n.f("name",e,t,0)));n.b("</a></li>");n.b("\n")});e.pop()}r.b("		</ul>");r.b("\n"+n);r.b("	</dd>");r.b("\n"+n);r.b("</dl>");r.b("\n")});e.pop()}});e.pop()}});e.pop()}r.b("\n"+n);if(!r.s(r.f("charSort",e,t,1),e,t,1,0,0,"")){r.b("<ul>");r.b("\n"+n);if(r.s(r.f("cityList",e,t,1),e,t,0,1386,1509,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('	<li><a class="js-hotcitylist" data-country="');n.b(n.v(n.f("country",e,t,0)));n.b('" data-code="');n.b(n.v(n.f("code",e,t,0)));n.b('" href="#" rel="nofollow">');n.b(n.v(n.f("name",e,t,0)));n.b("</a></li>");n.b("\n")});e.pop()}r.b("</ul>");r.b("\n")}r.b("\n"+n);r.b("\n"+n);if(r.s(r.f("fuzzyArea",e,t,1),e,t,0,1559,1726,"{{ }}")){r.rs(e,t,function(e,t,r){r.b("<ul>");r.b("\n"+n);if(r.s(r.f("countryList",e,t,1),e,t,0,1581,1703,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('	<li><a class="js-hotcitylist" data-country="');n.b(n.v(n.f("country",e,t,0)));n.b('" data-code="');n.b(n.v(n.f("code",e,t,0)));n.b('" href="#" rel="nofollow">');n.b(n.v(n.f("name",e,t,0)));n.b("</a></li>");n.b("\n")});e.pop()}r.b("</ul>");r.b("\n")});e.pop()}return r.fl();});if(true)e.exports=window.QTMPL["FlightHotCityList"]},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){function r(e,t){e=e==null?"":e+"";for(var n=0,r=t-e.length;n<r;n++)e="0"+e;return e}function s(e){var r=window.QunarHistory.data.flight;t.length=0;if(e.type=="domesticfrom"){n=r.domesticFlightList.slice(1,4)}else if(e.type=="interfrom"){n=r.interFlightList.slice(1,4)}for(var i=0;i<n.length;i++){var s={fcity:"",tcity:"",fcity_abbr:"",tcity_abbr:""};var o=n[i].fromCity,u=n[i].toCity;s.fcity=o;s.tcity=u;var a=o.indexOf("(")==-1?o:o.substring(0,o.indexOf("("));var f=u.indexOf("(")==-1?u:u.substring(0,u.indexOf("("));s.fcity_abbr=a.length>5?a.slice(0,4)+"..":a;s.tcity_abbr=f.length>5?f.slice(0,4)+"..":f;t.push(s)}}function o(){return t}function u(){var e;if(t.length!=0){e=1}return e}var t=[],n=[];var i=function(e){return e.getFullYear()+"-"+r(e.getMonth()+1,2)+"-"+r(e.getDate(),2)};return{init:s,cityHistory:o,hisLength:u}}(jQuery)}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports={hotCity:{domesticfromtj:[{title:"国内热门",key:"domesticfrom"},{title:"ABCDE",key:"ABCDE"},{title:"FGHJ",key:"FGHJ"},{title:"KLMNP",key:"KLMNP"},{title:"QRSTW",key:"QRSTW"},{title:"XYZ",key:"XYZ"},{title:"国际·港澳台",key:"特价国际"}],domesticfrom:[{title:"国内热门",key:"domesticfrom"},{title:"ABCDE",key:"ABCDE"},{title:"FGHJ",key:"FGHJ"},{title:"KLMNP",key:"KLMNP"},{title:"QRSTW",key:"QRSTW"},{title:"XYZ",key:"XYZ"},{title:"国际·港澳台",key:"国际·港澳台"}],"domesticto-tj":[{title:"国内热门",key:"domesticfrom"},{title:"ABCDE",key:"ABCDE"},{title:"FGHJ",key:"FGHJ"},{title:"KLMNP",key:"KLMNP"},{title:"QRSTW",key:"QRSTW"},{title:"XYZ",key:"XYZ"},{title:"国际·港澳台",key:"特价国际"}],domesticto:[{title:"国内热门",key:"domesticto"},{title:"ABCDE",key:"ABCDE"},{title:"FGHJ",key:"FGHJ"},{title:"KLMNP",key:"KLMNP"},{title:"QRSTW",key:"QRSTW"},{title:"XYZ",key:"XYZ"},{title:"国际·港澳台",key:"国际·港澳台"}],interfrom:[{title:"国内热门",key:"domesticfrom"},{title:"ABCDE",key:"ABCDE"},{title:"FGHJ",key:"FGHJ"},{title:"KLMNP",key:"KLMNP"},{title:"QRSTW",key:"QRSTW"},{title:"XYZ",key:"XYZ"},{title:"国际·港澳台",key:"国际·港澳台"}],interto:[{title:"国际·港澳台",key:"国际·港澳台-to"},{title:"亚洲/大洋洲",key:"亚洲/大洋洲"},{title:"美洲",key:"美洲"},{title:"欧洲",key:"欧洲"},{title:"非洲",key:"非洲"},{title:"国内热门",key:"domesticto"}],"interfrom-tj":[{title:"国内热门",key:"domesticfrom"},{title:"ABCDE",key:"ABCDE"},{title:"FGHJ",key:"FGHJ"},{title:"KLMNP",key:"KLMNP"},{title:"QRSTW",key:"QRSTW"},{title:"XYZ",key:"XYZ"},{title:"国际·港澳台",key:"特价国际"}],"interto-tj":[{title:"国际·港澳台",key:"特价国际"},{title:"亚洲/大洋洲",key:"m亚洲/大洋洲"},{title:"美洲",key:"m美洲"},{title:"欧洲",key:"m欧洲"},{title:"非洲",key:"m非洲"},{title:"国内热门",key:"domesticfrom"}],multifrom:[{title:"国内热门",key:"domesticfrom"},{title:"ABCDE",key:"ABCDE"},{title:"FGHJ",key:"FGHJ"},{title:"KLMNP",key:"KLMNP"},{title:"QRSTW",key:"QRSTW"},{title:"XYZ",key:"XYZ"},{title:"国际·港澳台",key:"特价国际"}],multito:[{title:"国际·港澳台",key:"特价国际"},{title:"亚洲/大洋洲",key:"m亚洲/大洋洲"},{title:"美洲",key:"m美洲"},{title:"欧洲",key:"m欧洲"},{title:"非洲",key:"m非洲"},{title:"国内",key:"domesticfrom"}],data:{domesticfrom:{charSort:true,cityList:[{"char":"城市",clshct:true,list:[{name:"上海",country:"中国",code:"SHA"},{name:"北京",country:"中国",code:"BJS"},{name:"成都",country:"中国",code:"CTU"},{name:"昆明",country:"中国",code:"KMG"},{name:"西安",country:"中国",code:"SIA"},{name:"深圳",country:"中国",code:"SZX"},{name:"重庆",country:"中国",code:"CKG"},{name:"杭州",country:"中国",code:"HGH"},{name:"厦门",country:"中国",code:"XMN"},{name:"乌鲁木齐",country:"中国",code:"URC"},{name:"广州",country:"中国",code:"CAN"},{name:"海口",country:"中国",code:"HAK"},{name:"哈尔滨",country:"中国",code:"HRB"},{name:"南京",country:"中国",code:"NKG"},{name:"武汉",country:"中国",code:"WUH"},{name:"长沙",country:"中国",code:"CSX"},{name:"青岛",country:"中国",code:"TAO"},{name:"郑州",country:"中国",code:"CGO"},{name:"三亚",country:"中国",code:"SYX"},{name:"福州",country:"中国",code:"FOC"},{name:"贵阳",country:"中国",code:"KWE"},{name:"天津",country:"中国",code:"TSN"},{name:"南宁",country:"中国",code:"NNG"},{name:"沈阳",country:"中国",code:"SHE"},{name:"太原",country:"中国",code:"TYN"},{name:"大连",country:"中国",code:"DLC"},{name:"兰州",country:"中国",code:"LHW"},{name:"济南",country:"中国",code:"TNA"},{name:"长春",country:"中国",code:"CGQ"},{name:"温州",country:"中国",code:"WNZ"}]}],title:"热门城市",desc:"可直接输入中文名/拼音/英文名/三字码"},domesticto:{charSort:true,cityList:[{"char":"城市",clshct:true,list:[{name:"上海",country:"中国",code:"SHA"},{name:"北京",country:"中国",code:"BJS"},{name:"成都",country:"中国",code:"CTU"},{name:"昆明",country:"中国",code:"KMG"},{name:"西安",country:"中国",code:"SIA"},{name:"重庆",country:"中国",code:"CKG"},{name:"深圳",country:"中国",code:"SZX"},{name:"杭州",country:"中国",code:"HGH"},{name:"海口",country:"中国",code:"HAK"},{name:"乌鲁木齐",country:"中国",code:"URC"},{name:"广州",country:"中国",code:"CAN"},{name:"厦门",country:"中国",code:"XMN"},{name:"哈尔滨",country:"中国",code:"HRB"},{name:"南京",country:"中国",code:"NKG"},{name:"三亚",country:"中国",code:"SYX"},{name:"长沙",country:"中国",code:"CSX"},{name:"贵阳",country:"中国",code:"KWE"},{name:"武汉",country:"中国",code:"WUH"},{name:"郑州",country:"中国",code:"CGO"},{name:"南宁",country:"中国",code:"NNG"},{name:"青岛",country:"中国",code:"TAO"},{name:"天津",country:"中国",code:"TSN"},{name:"大连",country:"中国",code:"DLC"},{name:"沈阳",country:"中国",code:"SHE"},{name:"济南",country:"中国",code:"TNA"},{name:"福州",country:"中国",code:"FOC"},{name:"兰州",country:"中国",code:"LHW"},{name:"太原",country:"中国",code:"TYN"},{name:"温州",country:"中国",code:"WNZ"},{name:"长春",country:"中国",code:"CGQ"}]}],fuzzy:true,hotword:[{"char":"热词",clshct:true,listfuzzy:[{name:"华北",country:"中国"},{name:"华南",country:"中国"},{name:"东北",country:"中国"},{name:"华东",country:"中国"},{name:"华中",country:"中国"},{name:"西南",country:"中国"},{name:"西北",country:"中国"}]}],title:"热门城市",desc:"可直接输入中文名/拼音/英文名/三字码"},interfrom:{cityList:[{name:"上海",country:"中国",code:"SHA"},{name:"北京",country:"中国",code:"BJS"},{name:"广州",country:"中国",code:"CAN"},{name:"昆明",country:"中国",code:"KMG"},{name:"西安",country:"中国",code:"SIA"},{name:"成都",country:"中国",code:"CTU"},{name:"深圳",country:"中国",code:"SZX"},{name:"厦门",country:"中国",code:"XMN"},{name:"乌鲁木齐",country:"中国",code:"URC"},{name:"南京",country:"中国",code:"NKG"},{name:"重庆",country:"中国",code:"CKG"},{name:"杭州",country:"中国",code:"HGH"},{name:"大连",country:"中国",code:"DLC"},{name:"长沙",country:"中国",code:"CSX"},{name:"海口",country:"中国",code:"HAK"},{name:"哈尔滨",country:"中国",code:"HRB"},{name:"青岛",country:"中国",code:"TAO"},{name:"沈阳",country:"中国",code:"SHE"},{name:"三亚",country:"中国",code:"SYX"},{name:"济南",country:"中国",code:"TNA"},{name:"武汉",country:"中国",code:"WUH"},{name:"郑州",country:"中国",code:"CGO"},{name:"贵阳",country:"中国",code:"KWE"},{name:"南宁",country:"中国",code:"NNG"},{name:"福州",country:"中国",code:"FOC"},{name:"天津",country:"中国",code:"TSN"},{name:"长春",country:"中国",code:"CGQ"},{name:"太原",country:"中国",code:"TYN"},{name:"南昌",country:"中国",code:"KHN"},{name:"丽江",country:"中国",code:"LJG"}],title:"热门城市",desc:"可直接输入中文名/拼音/英文名/三字码"},ABCDE:{charSort:true,cityList:[{"char":"A",list:[{name:"阿里",country:"中国",code:"NGQ"},{name:"阿尔山",country:"中国",code:"YIE"},{name:"安庆",country:"中国",code:"AQG"},{name:"阿勒泰",country:"中国",code:"AAT"},{name:"安康",country:"中国",code:"AKA"},{name:"鞍山",country:"中国",code:"AOG"},{name:"安顺",country:"中国",code:"AVA"},{name:"阿克苏",country:"中国",code:"AKU"},{name:"阿拉善左旗",country:"中国",code:"AXF"},{name:"阿拉善右旗",country:"中国",code:"RHT"},{name:"中国澳门",country:"中国澳门",code:"MFM"}]},{"char":"B",list:[{name:"包头",country:"中国",code:"BAV"},{name:"北海",country:"中国",code:"BHY"},{name:"北京",country:"中国",code:"BJS"},{name:"百色",country:"中国",code:"AEB"},{name:"保山",country:"中国",code:"BSD"},{name:"博乐",country:"中国",code:"BPL"},{name:"毕节",country:"中国",code:"BFJ"},{name:"巴彦淖尔",country:"中国",code:"RLK"}]},{"char":"C",list:[{name:"长治",country:"中国",code:"CSX"},{name:"池州",country:"中国",code:"JUH"},{name:"长春",country:"中国",code:"CGQ"},{name:"常州",country:"中国",code:"CZX"},{name:"昌都",country:"中国",code:"BPX"},{name:"朝阳",country:"中国",code:"CHG"},{name:"常德",country:"中国",code:"CGD"},{name:"长白山",country:"中国",code:"NBS"},{name:"成都",country:"中国",code:"CTU"},{name:"重庆",country:"中国",code:"CKG"},{name:"长沙",country:"中国",code:"CSX"},{name:"赤峰",country:"中国",code:"CIF"}]},{"char":"D",list:[{name:"大同",country:"中国",code:"DAT"},{name:"大连",country:"中国",code:"DLC"},{name:"东营",country:"中国",code:"DOY"},{name:"大庆",country:"中国",code:"DQA"},{name:"丹东",country:"中国",code:"DDG"},{name:"大理",country:"中国",code:"DLU"},{name:"敦煌",country:"中国",code:"DNH"},{name:"达州",country:"中国",code:"DAX"},{name:"稻城",country:"中国",code:"DCY"}]},{"char":"E",list:[{name:"恩施",country:"中国",code:"ENH"},{name:"鄂尔多斯",country:"中国",code:"DSN"},{name:"二连浩特",country:"中国",code:"ERL"},{name:"额济纳旗",country:"中国",code:"EJN"}]}],title:"拼音A-E城市",desc:"可直接输入中文名/拼音/英文名/三字码"},FGHJ:{charSort:true,cityList:[{"char":"F",list:[{name:"佛山",country:"中国",code:"FUO"},{name:"福州",country:"中国",code:"FOC"},{name:"阜阳",country:"中国",code:"FUG"},{name:"抚远",country:"中国",code:"FYJ"}]},{"char":"G",list:[{name:"贵阳",country:"中国",code:"KWE"},{name:"桂林",country:"中国",code:"KWL"},{name:"广州",country:"中国",code:"CAN"},{name:"广元",country:"中国",code:"GYS"},{name:"格尔木",country:"中国",code:"GOQ"},{name:"赣州",country:"中国",code:"KOW"},{name:"固原",country:"中国",code:"GYU"},{name:"高雄",country:"中国台湾",code:"KHH"},{name:"格林岛",country:"中国台湾",code:"GNI"}]},{"char":"H",list:[{name:"哈密",country:"中国",code:"HMI"},{name:"呼和浩特",country:"中国",code:"HET"},{name:"黑河",country:"中国",code:"HEK"},{name:"海拉尔",country:"中国",code:"HLD"},{name:"哈尔滨",country:"中国",code:"HRB"},{name:"海口",country:"中国",code:"HAK"},{name:"黄山",country:"中国",code:"TXN"},{name:"杭州",country:"中国",code:"HGH"},{name:"邯郸",country:"中国",code:"HDG"},{name:"合肥",country:"中国",code:"HFE"},{name:"黄龙",country:"中国",code:"JZH"},{name:"汉中",country:"中国",code:"HZG"},{name:"和田",country:"中国",code:"HTN"},{name:"淮安",country:"中国",code:"HIA"},{name:"花莲",country:"中国台湾",code:"HUN"}]},{"char":"J",list:[{name:"鸡西",country:"中国",code:"JXA"},{name:"晋江",country:"中国",code:"JJN"},{name:"锦州",country:"中国",code:"JNZ"},{name:"景德镇",country:"中国",code:"JDZ"},{name:"嘉峪关",country:"中国",code:"JGN"},{name:"井冈山",country:"中国",code:"JGS"},{name:"济宁",country:"中国",code:"JNG"},{name:"九江",country:"中国",code:"JIU"},{name:"佳木斯",country:"中国",code:"JMU"},{name:"济南",country:"中国",code:"TNA"},{name:"加格达奇",country:"中国",code:"JGD"},{name:"金昌",country:"中国",code:"JIC"},{name:"揭阳",country:"中国",code:"SWA"},{name:"金门",country:"中国台湾",code:"KNH"},{name:"嘉义",country:"中国台湾",code:"CYI"}]}],title:"拼音F-J城市",desc:"可直接输入中文名/拼音/英文名/三字码"},KLMNP:{charSort:true,cityList:[{"char":"K",list:[{name:"喀什",country:"中国",code:"KHG"},{name:"昆明",country:"中国",code:"KMG"},{name:"康定",country:"中国",code:"KGT"},{name:"克拉玛依",country:"中国",code:"KRY"},{name:"库尔勒",country:"中国",code:"KRL"},{name:"库车",country:"中国",code:"KCA"},{name:"喀纳斯",country:"中国",code:"KJI"},{name:"凯里",country:"中国",code:"KJH"}]},{"char":"L",list:[{name:"兰州",country:"中国",code:"LHW"},{name:"洛阳",country:"中国",code:"LYA"},{name:"丽江",country:"中国",code:"LJG"},{name:"荔波",country:"中国",code:"LLB"},{name:"林芝",country:"中国",code:"LZY"},{name:"柳州",country:"中国",code:"LZH"},{name:"泸州",country:"中国",code:"LZO"},{name:"连云港",country:"中国",code:"LYG"},{name:"黎平",country:"中国",code:"HZH"},{name:"连城",country:"中国",code:"LCX"},{name:"拉萨",country:"中国",code:"LXA"},{name:"临沧",country:"中国",code:"LNJ"},{name:"临沂",country:"中国",code:"LYI"},{name:"吕梁",country:"中国",code:"LLV"}]},{"char":"M",list:[{name:"芒市",country:"中国",code:"LUM"},{name:"牡丹江",country:"中国",code:"MDG"},{name:"满洲里",country:"中国",code:"NZH"},{name:"绵阳",country:"中国",code:"MIG"},{name:"梅县",country:"中国",code:"MXZ"},{name:"漠河",country:"中国",code:"OHE"},{name:"马公",country:"中国台湾",code:"MZG"},{name:"马祖",country:"中国台湾",code:"MFK"}]},{"char":"N",list:[{name:"南京",country:"中国",code:"NKG"},{name:"南充",country:"中国",code:"NAO"},{name:"南宁",country:"中国",code:"NNG"},{name:"南阳",country:"中国",code:"NNY"},{name:"南通",country:"中国",code:"NTG"},{name:"南昌",country:"中国",code:"KHN"},{name:"那拉提",country:"中国",code:"NLT"},{name:"宁波",country:"中国",code:"NGB"},{name:"南竿",country:"中国台湾",code:"LZN"}]},{"char":"P",list:[{name:"攀枝花",country:"中国",code:"PZI"},{name:"普洱",country:"中国",code:"SYM"}]}],title:"拼音K-P城市",desc:"可直接输入中文名/拼音/英文名/三字码"},QRSTW:{charSort:true,cityList:[{"char":"Q",list:[{name:"衢州",country:"中国",code:"JUZ"},{name:"黔江",country:"中国",code:"JIQ"},{name:"秦皇岛",country:"中国",code:"SHP"},{name:"庆阳",country:"中国",code:"IQN"},{name:"且末",country:"中国",code:"IQM"},{name:"齐齐哈尔",country:"中国",code:"NDG"},{name:"青岛",country:"中国",code:"TAO"},{name:"七美",country:"中国台湾",code:"CMJ"},{name:"祁连",country:"中国",code:"HBQ"}]},{"char":"R",list:[{name:"日喀则",country:"中国",code:"RKZ"}]},{"char":"S",list:[{name:"深圳",country:"中国",code:"SZX"},{name:"石家庄",country:"中国",code:"SJW"},{name:"三亚",country:"中国",code:"SYX"},{name:"沈阳",country:"中国",code:"SHE"},{name:"上海",country:"中国",code:"SHA"},{name:"神农架",country:"中国",code:"HPG"}]},{"char":"T",list:[{name:"唐山",country:"中国",code:"TVS"},{name:"铜仁",country:"中国",code:"TEN"},{name:"塔城",country:"中国",code:"TCG"},{name:"腾冲",country:"中国",code:"TCZ"},{name:"台州",country:"中国",code:"HYN"},{name:"天水",country:"中国",code:"THQ"},{name:"天津",country:"中国",code:"TSN"},{name:"通辽",country:"中国",code:"TGO"},{name:"吐鲁番",country:"中国",code:"TLQ"},{name:"太原",country:"中国",code:"TYN"},{name:"泰州",country:"中国",code:"YTY"},{name:"台北",country:"中国台湾",code:"TPE"},{name:"台中",country:"中国台湾",code:"RMQ"},{name:"台南",country:"中国台湾",code:"TNN"},{name:"台东",country:"中国台湾",code:"TTT"}]},{"char":"W",list:[{name:"威海",country:"中国",code:"WEH"},{name:"武汉",country:"中国",code:"WUH"},{name:"梧州",country:"中国",code:"WUZ"},{name:"文山",country:"中国",code:"WNH"},{name:"无锡",country:"中国",code:"WUX"},{name:"潍坊",country:"中国",code:"WEF"},{name:"武夷山",country:"中国",code:"WUS"},{name:"乌兰浩特",country:"中国",code:"HLH"},{name:"温州",country:"中国",code:"WNZ"},{name:"乌鲁木齐",country:"中国",code:"URC"},{name:"万州",country:"中国",code:"WXN"},{name:"乌海",country:"中国",code:"WUA"}]}],title:"拼音Q-W城市",desc:"可直接输入中文名/拼音/英文名/三字码"},XYZ:{charSort:true,cityList:[{"char":"X",list:[{name:"兴义",country:"中国",code:"ACX"},{name:"西昌",country:"中国",code:"XIC"},{name:"厦门",country:"中国",code:"XMN"},{name:"香格里拉",country:"中国",code:"DIG"},{name:"西安",country:"中国",code:"SIA"},{name:"西宁",country:"中国",code:"XNN"},{name:"襄阳(中国)",country:"中国",code:"XFN"},{name:"锡林浩特",country:"中国",code:"XIL"},{name:"西双版纳",country:"中国",code:"JHG"},{name:"徐州",country:"中国",code:"XUZ"},{name:"中国香港",country:"中国香港",code:"HKG"}]},{"char":"Y",list:[{name:"义乌",country:"中国",code:"YIW"},{name:"永州",country:"中国",code:"LLF"},{name:"榆林",country:"中国",code:"UYN"},{name:"扬州",country:"中国",code:"YTY"},{name:"延安",country:"中国",code:"ENY"},{name:"运城",country:"中国",code:"YCU"},{name:"烟台",country:"中国",code:"YNT"},{name:"银川",country:"中国",code:"INC"},{name:"宜昌",country:"中国",code:"YIH"},{name:"宜宾",country:"中国",code:"YBP"},{name:"宜春",country:"中国",code:"YIC"},{name:"盐城",country:"中国",code:"YNZ"},{name:"延吉",country:"中国",code:"YNJ"},{name:"玉树",country:"中国",code:"YUS"},{name:"伊宁",country:"中国",code:"YIN"},{name:"伊春",country:"中国",code:"LDS"}]},{"char":"Z",list:[{name:"珠海",country:"中国",code:"ZUH"},{name:"昭通",country:"中国",code:"ZAT"},{name:"张家界",country:"中国",code:"DYG"},{name:"舟山",country:"中国",code:"HSN"},{name:"郑州",country:"中国",code:"CGO"},{name:"中卫",country:"中国",code:"ZHY"},{name:"芷江",country:"中国",code:"HJJ"},{name:"湛江",country:"中国",code:"ZHA"},{name:"遵义",country:"中国",code:"ZYI"},{name:"张掖",country:"中国",code:"YZY"},{name:"张家口",country:"中国",code:"ZQZ"}]}],title:"拼音X-Z城市",desc:"可直接输入中文名/拼音/英文名/三字码"},"国际·港澳台":{charSort:true,cityList:[{"char":"城市",clshct:true,list:[{name:"中国香港",country:"中国香港",code:"HKG"},{name:"曼谷",country:"泰国",code:"BKK"},{name:"首尔",country:"韩国",code:"SEL"},{name:"东京",country:"日本",code:"TYO"},{name:"普吉",country:"泰国",code:"HKT"},{name:"新加坡",country:"新加坡",code:"SIN"},{name:"台北",country:"中国台湾",code:"TPE"},{name:"清迈",country:"泰国",code:"CNX"},{name:"吉隆坡",country:"马来西亚",code:"KUL"},{name:"悉尼",country:"澳大利亚",code:"SYD"},{name:"中国澳门",country:"中国澳门",code:"MFM"},{name:"大阪",country:"日本",code:"OSA"},{name:"伦敦",country:"英国",code:"LON"},{name:"洛杉矶",country:"美国",code:"LAX"},{name:"纽约",country:"美国",code:"NYC"},{name:"马尼拉",country:"菲律宾",code:"MNL"},{name:"墨尔本",country:"澳大利亚",code:"MEL"},{name:"温哥华",country:"加拿大",code:"YVR"},{name:"巴黎",country:"法国",code:"PAR"},{name:"槟城",country:"马来西亚",code:"PEN"},{name:"多伦多",country:"加拿大",code:"YTO"},{name:"胡志明市",country:"越南",code:"SGN"},{name:"旧金山",country:"美国",code:"SFO"},{name:"金边",country:"柬埔寨",code:"PNH"},{name:"雅加达",country:"印度尼西亚",code:"JKT"},{name:"济州岛",country:"韩国",code:"CJU"},{name:"高雄",country:"中国台湾",code:"KHH"},{name:"釜山",country:"韩国",code:"PUS"},{name:"暹粒",country:"柬埔寨",code:"REP"},{name:"法兰克福",country:"德国",code:"FRA"}]}],fuzzy_c:true,fuzzy:true,countryList:[{"char":"国家",clshct:true,listCountry:[{name:"中国",country:"中国",code:"CN"},{name:"韩国",country:"韩国",code:"KR"},{name:"泰国",country:"泰国",code:"TH"},{name:"美国",country:"美国",code:"US"},{name:"加拿大",country:"加拿大",code:"CA"},{name:"日本",country:"日本",code:"JP"},{name:"澳大利亚",country:"澳大利亚",code:"AU"},{name:"英国",country:"英国",code:"GB"},{name:"法国",country:"法国",code:"FR"},{name:"马来西亚",country:"马来西亚",code:"MY"}]}],hotword:[{"char":"热词",clshct:true,listfuzzy:[{name:"东南亚",country:"东南亚"},{name:"中国港澳台",country:"港澳台"},{name:"日韩",country:"日韩"},{name:"欧洲",country:"欧洲"},{name:"所有地点",country:"所有地点"}]}],title:"热门国际城市",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"国际·港澳台-to":{charSort:true,cityList:[{"char":"城市",clshct:true,list:[{name:"中国香港",country:"中国香港",code:"HKG"},{name:"曼谷",country:"泰国",code:"BKK"},{name:"首尔",country:"韩国",code:"SEL"},{name:"东京",country:"日本",code:"TYO"},{name:"普吉",country:"泰国",code:"HKT"},{name:"新加坡",country:"新加坡",code:"SIN"},{name:"台北",country:"中国台湾",code:"TPE"},{name:"清迈",country:"泰国",code:"CNX"},{name:"吉隆坡",country:"马来西亚",code:"KUL"},{name:"悉尼",country:"澳大利亚",code:"SYD"},{name:"中国澳门",country:"中国澳门",code:"MFM"},{name:"大阪",country:"日本",code:"OSA"},{name:"伦敦",country:"英国",code:"LON"},{name:"洛杉矶",country:"美国",code:"LAX"},{name:"纽约",country:"美国",code:"NYC"},{name:"马尼拉",country:"菲律宾",code:"MNL"},{name:"墨尔本",country:"澳大利亚",code:"MEL"},{name:"温哥华",country:"加拿大",code:"YVR"},{name:"巴黎",country:"法国",code:"PAR"},{name:"槟城",country:"马来西亚",code:"PEN"},{name:"多伦多",country:"加拿大",code:"YTO"},{name:"胡志明市",country:"越南",code:"SGN"},{name:"旧金山",country:"美国",code:"SFO"},{name:"金边",country:"柬埔寨",code:"PNH"},{name:"雅加达",country:"印度尼西亚",code:"JKT"},{name:"济州岛",country:"韩国",code:"CJU"},{name:"高雄",country:"中国台湾",code:"KHH"},{name:"釜山",country:"韩国",code:"PUS"},{name:"暹粒",country:"柬埔寨",code:"REP"},{name:"法兰克福",country:"德国",code:"FRA"}]}],fuzzy_c:true,fuzzy:true,countryList:[{"char":"国家",clshct:true,listCountry:[{name:"中国",country:"中国",code:"CN"},{name:"韩国",country:"韩国",code:"KR"},{name:"泰国",country:"泰国",code:"TH"},{name:"美国",country:"美国",code:"US"},{name:"加拿大",country:"加拿大",code:"CA"},{name:"日本",country:"日本",code:"JP"},{name:"澳大利亚",country:"澳大利亚",code:"AU"},{name:"英国",country:"英国",code:"GB"},{name:"法国",country:"法国",code:"FR"},{name:"马来西亚",country:"马来西亚",code:"MY"}]}],hotword:[{"char":"热词",clshct:true,listfuzzy:[{name:"东南亚",country:"东南亚"},{name:"中国港澳台",country:"港澳台"},{name:"日韩",country:"日韩"},{name:"欧洲",country:"欧洲"},{name:"所有地点",country:"所有地点"}]}],title:"热门国际城市",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"特价国际":{charSort:true,cityList:[{"char":"城市",clshct:true,list:[{name:"中国香港",country:"中国香港",code:"HKG"},{name:"曼谷",country:"泰国",code:"BKK"},{name:"首尔",country:"韩国",code:"SEL"},{name:"东京",country:"日本",code:"TYO"},{name:"普吉",country:"泰国",code:"HKT"},{name:"新加坡",country:"新加坡",code:"SIN"},{name:"台北",country:"中国台湾",code:"TPE"},{name:"清迈",country:"泰国",code:"CNX"},{name:"吉隆坡",country:"马来西亚",code:"KUL"},{name:"悉尼",country:"澳大利亚",code:"SYD"},{name:"中国澳门",country:"中国澳门",code:"MFM"},{name:"大阪",country:"日本",code:"OSA"},{name:"伦敦",country:"英国",code:"LON"},{name:"洛杉矶",country:"美国",code:"LAX"},{name:"纽约",country:"美国",code:"NYC"},{name:"马尼拉",country:"菲律宾",code:"MNL"},{name:"墨尔本",country:"澳大利亚",code:"MEL"},{name:"温哥华",country:"加拿大",code:"YVR"},{name:"巴黎",country:"法国",code:"PAR"},{name:"槟城",country:"马来西亚",code:"PEN"},{name:"多伦多",country:"加拿大",code:"YTO"},{name:"胡志明市",country:"越南",code:"SGN"},{name:"旧金山",country:"美国",code:"SFO"},{name:"金边",country:"柬埔寨",code:"PNH"},{name:"雅加达",country:"印度尼西亚",code:"JKT"},{name:"济州岛",country:"韩国",code:"CJU"},{name:"高雄",country:"中国台湾",code:"KHH"},{name:"釜山",country:"韩国",code:"PUS"},{name:"暹粒",country:"柬埔寨",code:"REP"},{name:"法兰克福",country:"德国",code:"FRA"}]}],title:"热门国际城市",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"热门城市和国家":{fuzzyArea:true,cityList:[{name:"中国香港",country:"中国香港",code:"HKG"},{name:"曼谷",country:"泰国",code:"BKK"},{name:"新加坡",country:"新加坡",code:"SIN"},{name:"马尼拉",country:"菲律宾",code:"MNL"},{name:"墨尔本",country:"澳大利亚",code:"MEL"},{name:"首尔",country:"韩国",code:"SEL"},{name:"中国澳门",country:"中国澳门",code:"MFM"},{name:"吉隆坡",country:"马来西亚",code:"KUL"},{name:"旧金山",country:"美国",code:"SFO"},{name:"暹粒",country:"柬埔寨",code:"REP"},{name:"台北",country:"中国台湾",code:"TPE"},{name:"普吉",country:"泰国",code:"HKT"},{name:"大阪",country:"日本",code:"OSA"},{name:"巴厘岛",country:"印度尼西亚",code:"DPS"},{name:"伦敦",country:"英国",code:"LON"},{name:"东京",country:"日本",code:"TYO"},{name:"胡志明市",country:"越南",code:"SGN"},{name:"纽约",country:"美国",code:"NYC"},{name:"高雄",country:"中国台湾",code:"KHH"},{name:"釜山",country:"韩国",code:"PUS"},{name:"洛杉矶",country:"美国",code:"LAX"},{name:"悉尼",country:"澳大利亚",code:"SYD"},{name:"苏梅岛",country:"泰国",code:"USM"},{name:"济州岛",country:"韩国",code:"CJU"},{name:"温哥华",country:"加拿大",code:"YVR"},{name:"清迈",country:"泰国",code:"CNX"},{name:"加德满都",country:"尼泊尔",code:"KTM"},{name:"雅加达",country:"印度尼西亚",code:"JKT"},{name:"金边",country:"柬埔寨",code:"PNH"},{name:"迪拜",country:"阿拉伯联合酋长国",code:"DXB"}],countryList:[{name:"中国",country:"中国",code:"CN"},{name:"韩国",country:"韩国",code:"KR"},{name:"泰国",country:"泰国",code:"TH"},{name:"美国",country:"美国",code:"US"},{name:"加拿大",country:"加拿大",code:"CA"},{name:"日本",country:"日本",code:"JP"},{name:"澳大利亚",country:"澳大利亚",code:"AU"},{name:"英国",country:"英国",code:"GB"},{name:"法国",country:"法国",code:"FR"},{name:"马来西亚",country:"马来西亚",code:"MY"}],title:"热门城市和国家",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"亚洲/大洋洲":{charSort:true,fuzzy_c:true,fuzzy:true,cityList:[{"char":"城市",clshct:true,list:[{name:"中国香港",country:"中国香港",code:"HKG"},{name:"新加坡",country:"新加坡",code:"SIN"},{name:"首尔",country:"韩国",code:"SEL"},{name:"曼谷",country:"泰国",code:"BKK"},{name:"吉隆坡",country:"马来西亚",code:"KUL"},{name:"东京",country:"日本",code:"TYO"},{name:"台北",country:"中国台湾",code:"TPE"},{name:"悉尼",country:"澳大利亚",code:"SYD"},{name:"中国澳门",country:"中国澳门",code:"MFM"},{name:"普吉",country:"泰国",code:"HKT"},{name:"墨尔本",country:"澳大利亚",code:"MEL"},{name:"胡志明市",country:"越南",code:"SGN"},{name:"大阪",country:"日本",code:"OSA"},{name:"巴厘岛",country:"印度尼西亚",code:"DPS"},{name:"马尼拉",country:"菲律宾",code:"MNL"},{name:"河内",country:"越南",code:"HAN"},{name:"加德满都",country:"尼泊尔",code:"KTM"},{name:"金边",country:"柬埔寨",code:"PNH"},{name:"雅加达",country:"印度尼西亚",code:"JKT"},{name:"马累",country:"马尔代夫",code:"MLE"},{name:"暹粒",country:"柬埔寨",code:"REP"},{name:"迪拜",country:"阿拉伯联合酋长国",code:"DXB"},{name:"釜山",country:"韩国",code:"PUS"},{name:"名古屋",country:"日本",code:"NGO"},{name:"奥克兰",country:"新西兰",code:"AKL"},{name:"布里斯班",country:"澳大利亚",code:"BNE"},{name:"槟城",country:"马来西亚",code:"PEN"},{name:"高雄",country:"中国台湾",code:"KHH"},{name:"新德里",country:"印度",code:"DEL"},{name:"济州岛",country:"韩国",code:"CJU"}]}],countryList:[{"char":"国家",clshct:true,listCountry:[{name:"新加坡",country:"新加坡",code:"SG"},{name:"韩国",country:"韩国",code:"KR"},{name:"泰国",country:"泰国",code:"TH"},{name:"马来西亚",country:"马来西亚",code:"MY"},{name:"日本",country:"日本",code:"JP"},{name:"澳大利亚",country:"澳大利亚",code:"AU"},{name:"越南",country:"越南",code:"VN"},{name:"印度尼西亚",country:"印度尼西亚",code:"IN"},{name:"菲律宾",country:"菲律宾",code:"PH"},{name:"尼泊尔",country:"尼泊尔",code:"NP"}]}],hotword:[{"char":"热词",clshct:true,listfuzzy:[{name:"中国港澳台",country:"港澳台"},{name:"日韩",country:"日韩"},{name:"新马泰",country:"新马泰"},{name:"澳新",country:"澳新"},{name:"所有地点",country:"所有地点"}]}],title:"亚洲/大洋洲热门城市",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"美洲":{charSort:true,fuzzy_c:true,fuzzy:true,cityList:[{"char":"城市",clshct:true,list:[{name:"纽约",country:"美国",code:"NYC"},{name:"洛杉矶",country:"美国",code:"LAX"},{name:"多伦多",country:"加拿大",code:"YTO"},{name:"温哥华",country:"加拿大",code:"YVR"},{name:"旧金山",country:"美国",code:"SFO"},{name:"芝加哥",country:"美国",code:"CHI"},{titles:"华盛顿（华盛顿哥伦比亚特区）",name:"华盛顿",country:"美国",code:"WAS"},{name:"西雅图",country:"美国",code:"SEA"},{name:"波士顿",country:"美国",code:"BOS"},{name:"底特律",country:"美国",code:"DTT"},{name:"亚特兰大",country:"美国",code:"ATL"},{name:"蒙特利尔",country:"加拿大",code:"YMQ"},{name:"休斯敦",country:"美国",code:"HOU"},{name:"火奴鲁鲁",country:"美国",code:"HNL"},{name:"达拉斯",country:"美国",code:"DFW"},{name:"拉斯维加斯（内华达州）",country:"美国",code:"LAS"},{name:"费城",country:"美国",code:"PHI"},{titles:"圣保罗（巴西）",name:"圣保罗",country:"巴西",code:"SAO"},{name:"明尼阿波利斯",country:"美国",code:"MSP"},{name:"渥太华",country:"加拿大",code:"YOW"},{name:"凤凰城",country:"美国",code:"PHX"},{name:"墨西哥城",country:"墨西哥",code:"MEX"},{name:"迈阿密",country:"美国",code:"MIA"},{name:"丹佛",country:"美国",code:"DEN"},{name:"奥兰多",country:"美国",code:"ORL"},{name:"卡尔加里",country:"加拿大",code:"YYC"},{name:"埃德蒙顿",country:"加拿大",code:"YEA"},{name:"布宜诺斯艾利斯",country:"阿根廷",code:"BUE"},{name:"里约热内卢",country:"巴西",code:"RIO"},{name:"匹兹堡",country:"美国",code:"PIT"}]}],countryList:[{"char":"国家",clshct:true,listCountry:[{name:"美国",country:"美国",code:"US"},{name:"加拿大",country:"加拿大",code:"CA"},{name:"巴西",country:"巴西",code:"BR"},{name:"墨西哥",country:"墨西哥",code:"MX"},{name:"阿根廷",country:"阿根廷",code:"AR"}]}],hotword:[{"char":"热词",clshct:true,listfuzzy:[{name:"美国东海岸",country:"美国东海岸"},{name:"美国西部",country:"美国西部"},{name:"北美五大湖",country:"北美五大湖"},{name:"所有地点",country:"所有地点"}]}],title:"美洲热门城市",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"欧洲":{charSort:true,fuzzy_c:true,fuzzy:true,cityList:[{"char":"城市",clshct:true,list:[{name:"伦敦",country:"英国",code:"LON"},{name:"巴黎",country:"法国",code:"PAR"},{name:"法兰克福",country:"德国",code:"FRA"},{name:"莫斯科",country:"俄罗斯",code:"MOS"},{name:"阿姆斯特丹",country:"荷兰",code:"AMS"},{titles:"罗马（意大利）",name:"罗马",country:"意大利",code:"ROM"},{name:"米兰",country:"意大利",code:"MIL"},{name:"马德里",country:"西班牙",code:"MAD"},{name:"慕尼黑",country:"德国",code:"MUC"},{name:"柏林",country:"德国",code:"BER"},{name:"斯德哥尔摩",country:"瑞典",code:"STO"},{name:"伊斯坦布尔",country:"土耳其",code:"IST"},{titles:"伯明翰（英国）",name:"伯明翰",country:"英国",code:"BHX"},{titles:"巴塞罗那（西班牙）",name:"巴塞罗那",country:"西班牙",code:"BCN"},{name:"雅典",country:"希腊",code:"ATH"},{name:"哥本哈根",country:"丹麦",code:"CPH"},{name:"苏黎世",country:"瑞士",code:"ZRH"},{name:"布鲁塞尔",country:"比利时",code:"BRU"},{name:"赫尔辛基",country:"芬兰",code:"HEL"},{name:"爱丁堡",country:"英国",code:"EDI"},{name:"维也纳",country:"奥地利",code:"VIE"},{titles:"格拉斯哥（英国）",name:"格拉斯哥",country:"英国",code:"GLA"},{name:"日内瓦",country:"瑞士",code:"GVA"},{name:"圣彼得堡",country:"俄罗斯",code:"LED"},{titles:"都柏林(爱尔兰)",name:"都柏林",country:"爱尔兰",code:"DUB"},{name:"汉堡",country:"德国",code:"HAM"},{name:"杜塞尔多夫",country:"德国",code:"DUS"},{name:"布拉格",country:"捷克",code:"PRG"},{name:"布达佩斯",country:"匈牙利",code:"BUD"},{name:"基辅",country:"乌克兰",code:"IEV"}]}],countryList:[{"char":"国家",clshct:true,listCountry:[{name:"英国",country:"英国",code:"GB"},{name:"法国",country:"法国",code:"FR"},{name:"俄罗斯",country:"俄罗斯",code:"RU"},{name:"荷兰",country:"荷兰",code:"NL"},{name:"意大利",country:"意大利",code:"IT"},{name:"西班牙",country:"西班牙",code:"ES"},{name:"德国",country:"德国",code:"DE"},{name:"瑞典",country:"瑞典",code:"SE"},{name:"土耳其",country:"土耳其",code:"TR"},{name:"希腊",country:"希腊",code:"GR"}]}],hotword:[{"char":"热词",clshct:true,listfuzzy:[{name:"西欧",country:"西欧"},{name:"北欧",country:"北欧"},{name:"中东欧",country:"中东欧"},{name:"南欧",country:"南欧"},{name:"所有地点",country:"所有地点"}]}],title:"欧洲热门城市",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"非洲":{charSort:true,fuzzy_c:true,fuzzy:true,cityList:[{"char":"城市",clshct:true,list:[{name:"开罗",country:"埃及",code:"CAI"},{name:"约翰内斯堡",country:"南非",code:"JNB"},{name:"内罗毕",country:"肯尼亚",code:"NBO"},{name:"开普敦",country:"南非",code:"CPT"},{name:"毛里求斯",country:"毛里求斯",code:"MRU"},{name:"拉各斯",country:"尼日利亚",code:"LOS"},{name:"喀土穆",country:"苏丹",code:"KRT"},{name:"亚的斯亚贝巴",country:"埃塞俄比亚",code:"ADD"},{name:"阿克拉",country:"加纳",code:"ACC"},{name:"达累斯萨拉姆",country:"坦桑尼亚",code:"DAR"},{name:"塞舌尔",country:"塞舌尔共和国",code:"SEZ"},{name:"阿尔及尔",country:"阿尔及利亚",code:"ALG"},{name:"的黎波里",country:"利比亚",code:"TIP"},{name:"阿布贾",country:"尼日利亚",code:"ABV"},{name:"卡萨布兰卡",country:"摩洛哥",code:"CAS"},{name:"突尼斯",country:"突尼斯",code:"TUN"}]}],countryList:[{"char":"国家",clshct:true,listCountry:[{name:"埃及",country:"埃及",code:"EG"},{name:"南非",country:"南非",code:"ZA"},{name:"肯尼亚",country:"肯尼亚",code:"KE"},{name:"尼日利亚",country:"尼日利亚",code:"NG"},{name:"埃塞俄比亚",country:"埃塞俄比亚",code:"ET"}]}],hotword:[{"char":"热词",clshct:true,clshct:true,listfuzzy:[{name:"非洲南部",country:"非洲南部"},{name:"北非",country:"北非"},{name:"东非",country:"东非"},{name:"所有地点",country:"所有地点"}]}],title:"非洲热门城市",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"m亚洲/大洋洲":{charSort:true,cityList:[{"char":"城市",clshct:true,list:[{name:"中国香港",country:"中国香港",code:"HKG"},{name:"新加坡",country:"新加坡",code:"SIN"},{name:"首尔",country:"韩国",code:"SEL"},{name:"曼谷",country:"泰国",code:"BKK"},{name:"吉隆坡",country:"马来西亚",code:"KUL"},{name:"东京",country:"日本",code:"TYO"},{name:"台北",country:"中国台湾",code:"TPE"},{name:"悉尼",country:"澳大利亚",code:"SYD"},{name:"中国澳门",country:"中国澳门",code:"MFM"},{name:"普吉",country:"泰国",code:"HKT"},{name:"墨尔本",country:"澳大利亚",code:"MEL"},{name:"胡志明市",country:"越南",code:"SGN"},{name:"大阪",country:"日本",code:"OSA"},{name:"巴厘岛",country:"印度尼西亚",code:"DPS"},{name:"马尼拉",country:"菲律宾",code:"MNL"},{name:"河内",country:"越南",code:"HAN"},{name:"加德满都",country:"尼泊尔",code:"KTM"},{name:"金边",country:"柬埔寨",code:"PNH"},{name:"雅加达",country:"印度尼西亚",code:"JKT"},{name:"马累",country:"马尔代夫",code:"MLE"},{name:"暹粒",country:"柬埔寨",code:"REP"},{name:"迪拜",country:"阿拉伯联合酋长国",code:"DXB"},{name:"釜山",country:"韩国",code:"PUS"},{name:"名古屋",country:"日本",code:"NGO"},{name:"奥克兰",country:"新西兰",code:"AKL"},{name:"布里斯班",country:"澳大利亚",code:"BNE"},{name:"槟城",country:"马来西亚",code:"PEN"},{name:"高雄",country:"中国台湾",code:"KHH"},{name:"新德里",country:"印度",code:"DEL"},{name:"济州岛",country:"韩国",code:"CJU"}]}],title:"亚洲/大洋洲热门城市",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"m美洲":{charSort:true,cityList:[{"char":"城市",clshct:true,list:[{name:"纽约",country:"美国",code:"NYC"},{name:"洛杉矶",country:"美国",code:"LAX"},{name:"多伦多",country:"加拿大",code:"YTO"},{name:"温哥华",country:"加拿大",code:"YVR"},{name:"旧金山",country:"美国",code:"SFO"},{name:"芝加哥",country:"美国",code:"CHI"},{titles:"华盛顿（华盛顿哥伦比亚特区）",name:"华盛顿",country:"美国",code:"WAS"},{name:"西雅图",country:"美国",code:"SEA"},{name:"波士顿",country:"美国",code:"BOS"},{name:"底特律",country:"美国",code:"DTT"},{name:"亚特兰大",country:"美国",code:"ATL"},{name:"蒙特利尔",country:"加拿大",code:"YMQ"},{name:"休斯敦",country:"美国",code:"HOU"},{name:"火奴鲁鲁",country:"美国",code:"HNL"},{name:"达拉斯",country:"美国",code:"DFW"},{name:"拉斯维加斯（内华达州）",country:"美国",code:"LAS"},{name:"费城",country:"美国",code:"PHI"},{titles:"圣保罗（巴西）",name:"圣保罗",country:"巴西",code:"SAO"},{name:"明尼阿波利斯",country:"美国",code:"MSP"},{name:"渥太华",country:"加拿大",code:"YOW"},{name:"凤凰城",country:"美国",code:"PHX"},{name:"墨西哥城",country:"墨西哥",code:"MEX"},{name:"迈阿密",country:"美国",code:"MIA"},{name:"丹佛",country:"美国",code:"DEN"},{name:"奥兰多",country:"美国",code:"ORL"},{name:"卡尔加里",country:"加拿大",code:"YYC"},{name:"埃德蒙顿",country:"加拿大",code:"YEA"},{name:"布宜诺斯艾利斯",country:"阿根廷",code:"BUE"},{name:"里约热内卢",country:"巴西",code:"RIO"},{name:"匹兹堡",country:"美国",code:"PIT"}]}],title:"美洲热门城市",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"m欧洲":{charSort:true,cityList:[{"char":"城市",clshct:true,list:[{name:"伦敦",country:"英国",code:"LON"},{name:"巴黎",country:"法国",code:"PAR"},{name:"法兰克福",country:"德国",code:"FRA"},{name:"莫斯科",country:"俄罗斯",code:"MOS"},{name:"阿姆斯特丹",country:"荷兰",code:"AMS"},{titles:"罗马（意大利）",name:"罗马",country:"意大利",code:"ROM"},{name:"米兰",country:"意大利",code:"MIL"},{name:"马德里",country:"西班牙",code:"MAD"},{name:"慕尼黑",country:"德国",code:"MUC"},{name:"柏林",country:"德国",code:"BER"},{name:"斯德哥尔摩",country:"瑞典",code:"STO"},{name:"伊斯坦布尔",country:"土耳其",code:"IST"},{titles:"伯明翰（英国）",name:"伯明翰",country:"英国",code:"BHX"},{titles:"巴塞罗那（西班牙）",name:"巴塞罗那",country:"西班牙",code:"BCN"},{name:"雅典",country:"希腊",code:"ATH"},{name:"哥本哈根",country:"丹麦",code:"CPH"},{name:"苏黎世",country:"瑞士",code:"ZRH"},{name:"布鲁塞尔",country:"比利时",code:"BRU"},{name:"赫尔辛基",country:"芬兰",code:"HEL"},{name:"爱丁堡",country:"英国",code:"EDI"},{name:"维也纳",country:"奥地利",code:"VIE"},{titles:"格拉斯哥（英国）",name:"格拉斯哥",country:"英国",code:"GLA"},{name:"日内瓦",country:"瑞士",code:"GVA"},{name:"圣彼得堡",country:"俄罗斯",code:"LED"},{titles:"都柏林(爱尔兰)",name:"都柏林",country:"爱尔兰",code:"DUB"},{name:"汉堡",country:"德国",code:"HAM"},{name:"杜塞尔多夫",country:"德国",code:"DUS"},{name:"布拉格",country:"捷克",code:"PRG"},{name:"布达佩斯",country:"匈牙利",code:"BUD"},{name:"基辅",country:"乌克兰",code:"IEV"}]}],title:"欧洲热门城市",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"m非洲":{charSort:true,cityList:[{"char":"城市",clshct:true,list:[{name:"开罗",country:"埃及",code:"CAI"},{name:"约翰内斯堡",country:"南非",code:"JNB"},{name:"内罗毕",country:"肯尼亚",code:"NBO"},{name:"开普敦",country:"南非",code:"CPT"},{name:"毛里求斯",country:"毛里求斯",code:"MRU"},{name:"拉各斯",country:"尼日利亚",code:"LOS"},{name:"喀土穆",country:"苏丹",code:"KRT"},{name:"亚的斯亚贝巴",country:"埃塞俄比亚",code:"ADD"},{name:"阿克拉",country:"加纳",code:"ACC"},{name:"达累斯萨拉姆",country:"坦桑尼亚",code:"DAR"},{name:"塞舌尔",country:"塞舌尔共和国",code:"SEZ"},{name:"阿尔及尔",country:"阿尔及利亚",code:"ALG"},{name:"的黎波里",country:"利比亚",code:"TIP"},{name:"阿布贾",country:"尼日利亚",code:"ABV"},{name:"卡萨布兰卡",country:"摩洛哥",code:"CAS"},{name:"突尼斯",country:"突尼斯",code:"TUN"}]}],title:"非洲热门城市",desc:"可直接输入中文名/拼音/英文名/三字码",cls:"inter"},"国内":{cityList:[{name:"上海",country:"中国",code:"SHA"},{name:"北京",country:"中国",code:"BJS"},{name:"广州",country:"中国",code:"CAN"},{name:"昆明",country:"中国",code:"KMG"},{name:"西安",country:"中国",code:"SIA"},{name:"成都",country:"中国",code:"CTU"},{name:"深圳",country:"中国",code:"SZX"},{name:"厦门",country:"中国",code:"XMN"},{name:"乌鲁木齐",country:"中国",code:"URC"},{name:"南京",country:"中国",code:"NKG"},{name:"重庆",country:"中国",code:"CKG"},{name:"杭州",country:"中国",code:"HGH"},{name:"大连",country:"中国",code:"DLC"},{name:"长沙",country:"中国",code:"CSX"},{name:"海口",country:"中国",code:"HAK"},{name:"哈尔滨",country:"中国",code:"HRB"},{name:"青岛",country:"中国",code:"TAO"},{name:"沈阳",country:"中国",code:"SHE"},{name:"三亚",country:"中国",code:"SYX"},{name:"济南",country:"中国",code:"TNA"},{name:"武汉",country:"中国",code:"WUH"},{name:"郑州",country:"中国",code:"CGO"},{name:"贵阳",country:"中国",code:"KWE"},{name:"南宁",country:"中国",code:"NNG"},{name:"福州",country:"中国",code:"FOC"},{name:"天津",country:"中国",code:"TSN"},{name:"长春",country:"中国",code:"CGQ"},{name:"石家庄",country:"中国",code:"SJW"},{name:"太原",country:"中国",code:"TYN"},{name:"兰州",country:"中国",code:"LHW"}],title:"热门国内城市",desc:"可直接输入中文名/拼音/英文名/三字码"}}},specPlace:["所有地点","中国","日本","泰国","马来西亚","韩国","英国","美国","澳大利亚","加拿大","法国","德国","俄罗斯","菲律宾","印度","新西兰","西班牙","意大利"]}}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){function a(e){for(var t=0,n=e.length;t<n;t++){var r=e;r[t].ftype=r[t].type;if(r[t].type===4||r[t].type===9){var i=r[t].type;var o=t-1;var u=false;for(var a=t;a<n&&!u;a++){if(r[a].type===i){r[a].ftype=r[o].ftype}else{t=a-1;a=100;u=true}}}if(r[t].ftype===3){r[t].ftypename="city"}if(r[t].ftype===1){r[t].ftypename="city"}if(r[t].ftype===10){r[t].ftypename="city"}if(r[t].display.indexOf("机场")!==-1||r[t].display.indexOf("Airport")!==-1){r[t].ftypename="airport"}if(r[t].ftype===6){r[t].ftypename="attraction"}if(r[t].ftype===8){r[t].ftypename="country"}if(r[t].ftype===7){r[t].ftypename="state"}}s=e}function f(t,n,r,s,o,f){var l=function(t,n){if(!t)return;t=t.result;return e(t).not(n).length==0&&e(n).not(t).length==0};var h=[];if(t){h=c(t,o);if(t.result&&t.result.length>0){a(t.result);if(!l(i,t.result)){var p=[];p.push("getResultData",encodeURIComponent(s.val()),t.result.length,s.attr("name"));e(f).trigger("getResultData",[p]);u.triggerMult(f,"getResultData",[p])}i=e.extend({},t)}}if(h.length===0){if(i){i.userInput=t.userInput;h=h.concat(c(i,o))}else{h=[0];r._trigger("q-suggest-noresult",[s])}}return h}function c(e,t){var n=false;var r=e.result||[],i=[],s=e.userInput.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),o=new RegExp("("+s+")","i"),u=t?["1","6","7"]:["1","6","7","8"];for(var a=0,f=r.length;a<f;a+=1){var c=r[a],p=c.key,d=/^泰州/.test(c.display);if(c.type==7){n=true}if(c.type==8){n=false}if(c.type===9&&!n){continue}if(d){p="泰州"}else{p=c.key}i.push({txt:l(c,o),val:p,type:h(u,c.type),country:c.country,code:c.code})}return i}function h(e,t){for(var n=0;n<e.length;n++){if(t==e[n]){return 1}}return 0}function p(e){var t=e.closest("table").data("data"),n=t[e.attr("data-ind")*1];return n}function d(t,n,r,i){var o=n.visible();var a=t.keyCode;if(a===40&&!o){n.show();return}if(!o)return;var f=n.el.find('tr[data-sug_type="0"]');var l=f.filter(".active");switch(a){case 38:case 40:n._excludeEl=n._mouseFocus;var c=f.index(l);c=t.keyCode===38?c-1:c+1;if(c>=f.length)c=0;if(c<0)c=f.length-1;l.removeClass("active");l=f.eq(c);var h="";if(l.length>0){h=p(l);!i?n.setValue(h.val+(h.code?"("+h.code+")":"")):"";l.addClass("active")}t.preventDefault();n._trigger("q-suggest-user-action",[t.type,h.val,a]);break;case 13:if(l.length>0){var h="";var d=null;h=p(l);n.setValue(h.val+(h.code?"("+h.code+")":""));var v=l.index();if(h.val==="所有地点"){v="00";d="allPlace"}else{d=s[v].ftypename}var m=d+"|"+encodeURIComponent(h.val)+"|"+v;e(r).trigger("suggest-selected",m);u.triggerMult(r,"suggest-selected",m);trackAction("QH|HCT|suggest|"+h.val)};case 27:n.hide();n._trigger("q-suggest-user-action",[t.type,n.getValue(),a]);break;case 18:case 9:break}}function v(){}var t="//www.qunar.com/suggest/livesearch2.jsp?lang=zh&q=*&sa=true&ver=1&callback=?";var r=false;var i=null;var s=null;var o;var u=n(13);var l=function(e,t){var n=e.type,r=e.display;if(r.indexOf(o)!=-1){o=o.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");t=new RegExp("("+o+")","i")}r=r.replace(t,'<span class="keyString">$1</span>');if(n===4){r="·邻近机场："+r}else if(n===9){r="·相关城市："+r}if(e.length)r+="-"+e.length+"公里";if(n===1){r+="-该城市没有机场"}else if(n===2){r+="-该地区的机场有"}else if(n===6){r+="-该景点没有机场"}else if(n===7){r+="-该目的地为省份"}else if(n===8){r+="-该目的地为国家"}return r};e.extend(v.prototype,{init:function(n){var r=this;e.RegisterPlugin("qcbox","suggest",n.name,{initialize:function(){var i=this.ui.$el;i.qsuggest({ajax:{url:t,dataType:"jsonp",cache:false},delay:200,allPlace:n.allPlace,render:function(e){return e.txt},reader:function(e){return f(e,n.tiptext,this,i,this.args.allPlace,r)},loader:function(e){return e.replace(/\s/g,"")},container:n.container,exattr:function(e){return"data-sug_type="+e.type},keyevent:function(e){d(e,this,r)},getData:function(e){var t=e.closest("table").data("data"),n=t[e.attr("data-ind")*1];return n.val?n.val+(n.code?"("+n.code+")":""):undefined},getExtData:function(e){if(e.length<1){return{}}var t=e.closest("table").data("data"),n=t[e.attr("data-ind")*1];return n},draw:function(t,n){this.el.empty();var r=this.args.min,i=this.args.max,s=t?t.length:0;if(!t||!s||s<r){this.hide();return}var o={country:"中国",txt:"所有地点",val:"所有地点",type:0};if(this.args.allPlace&&t[s-1].val!=o.val){t.push(o)}var a=[],f=this.args.render,l=this.args.exattr,c=true;a.push('<table cellspacing="0" cellpadding="2"><tbody>');var s=t.length-1;e.each(t,function(t,n){var r="";if(n.type!==1&&c){c=false;r=' class="active'}if(n.exClass){r=r?r+" "+n.exClass+'" ':' class="'+n.exClass+'" '}else{r=r?r+'" ':""}e(u).trigger("haveData",s);a.push("<tr",r,' data-ind="',t,'" ',l(n),"><td>",f(n),"</td></tr>")});a.push("</tbody></table>");this._trigger("q-suggest-beforeshow",[this.el,n]);var h=e(a.join("")).appendTo(this.el).data("data",t);if(!this.args["container"])this.el.css(_calc_pos(this.activeEl));this.el.show();this._trigger("q-suggest-show",[t])},on:{"q-suggest-show":function(){i.bind("keydown.kd",function(e){e.keyCode==13&&e.preventDefault()})},"q-suggest-setextdata":function(e,t,n){n.data("country",t.country);n.data("valided",true)},"q-suggest-setvalue":function(t,n,i){e(r).trigger("setvalue",[i])},"q-suggest-noresult":function(t,n){n.data("country",null);n.data("valided",false);e(r).trigger("setvalue",[n]);e(r).trigger("suggest-noresult")},"q-suggest-hide":function(e){i.unbind("keydown.kd")},"q-suggest-beforeshow":function(t,n,i){if(!!i&&!!i.c){var s=['<div class="qcity_guess">你要找的是不是<span class="hl">',i.result[0].key,"</span></div>"];n.append(s.join(""))}if(i&&i.result.length==0){var s=['<div class="qcity_guess">找不到<span class="hl">',o,"</span></div>"];var a=true;var f=e(t.target).data("q-suggest");if(f&&f.args.allPlace&&"所有地点".indexOf(i.userInput)>-1){a=false}a?n.append(s.join("")):"";e(r).bind("suggest-nofind",function(e,t){u.triggerMult(r,"suggest-nofind",t)});e(r).trigger("suggest-nofind",o)}},"q-suggest-user-action":function(t,n,i,o){var a=null;if(n=="mousedown"){if(i==="所有地点"){o="00";a="allplace"}else{a=s[o].ftypename}var f=a+"|"+encodeURIComponent(i)+"|"+o;e(r).trigger("suggest-selected",f);u.triggerMult(r,"suggest-selected",f);trackAction("QH|HCT|suggest|"+i)}},"q-suggest-inputChange":function(e){o=i.val().replace(/\s+/g," ");o=o.replace(/^\s+/,"");o=o.replace(/\s+$/,"")}}})}});e.RegisterPlugin("qcboxfuzzy","suggest",n.name,{initialize:function(){var i=this.ui.$el;i.qsuggest({ajax:{url:t,dataType:"jsonp",cache:false},delay:200,allPlace:n.allPlace,render:function(e){return e.txt},reader:function(e){return f(e,n.tiptext,this,i,this.args.allPlace,r)},loader:function(e){return e.replace(/\s/g,"")},container:n.container,exattr:function(e){return"data-sug_type="+e.type},keyevent:function(e){d(e,this,r,true)},getData:function(e){var t=e.closest("table").data("data"),n=t[e.attr("data-ind")*1];return n.val?n.val+(n.code?"("+n.code+")":""):undefined},getExtData:function(e){if(e.length<1){return{}}var t=e.closest("table").data("data"),n=t[e.attr("data-ind")*1];return n},draw:function(t,n){if(this.activeEl.data("qcboxfuzzy").isFuzzyDis()){return}this.el.empty();var r=this.args.min,i=this.args.max,s=t?t.length:0;if(!t||!s||s<r){this.hide();return}var o={country:"中国",txt:"所有地点",val:"所有地点",type:0};if(this.args.allPlace&&t[s-1].val!=o.val){t.push(o)}var a=[],f=this.args.render,l=this.args.exattr,c=true;a.push('<table cellspacing="0" cellpadding="2"><tbody>');var s=t.length-1;e.each(t,function(t,n){if(t>=i)return false;var r="";if(n.type!==1&&c){c=false;r=' class="active'}if(n.exClass){r=r?r+" "+n.exClass+'" ':' class="'+n.exClass+'" '}else{r=r?r+'" ':""}e(u).trigger("haveData",s);a.push("<tr",r,' data-ind="',t,'" ',l(n),"><td>",f(n),"</td></tr>")});a.push("</tbody></table>");this._trigger("q-suggest-beforeshow",[this.el,n]);var h=e(a.join("")).appendTo(this.el).data("data",t);if(!this.args["container"])this.el.css(_calc_pos(this.activeEl));this.el.show();this._trigger("q-suggest-show",[t])},on:{"q-suggest-show":function(){i.bind("keydown.kd",function(e){e.keyCode==13&&e.preventDefault()})},"q-suggest-setextdata":function(e,t,n){n.data("country",t.country);n.data("valided",true)},"q-suggest-setvalue":function(t,n,i){e(r).trigger("setvalue",[i])},"q-suggest-noresult":function(t,n){n.data("country",null);n.data("valided",false);e(r).trigger("setvalue",[n]);e(r).trigger("suggest-noresult")},"q-suggest-hide":function(e){i.unbind("keydown.kd")},"q-suggest-beforeshow":function(t,n,i){if(!!i&&!!i.c){var s=['<div class="qcity_guess">你要找的是不是<span class="hl">',i.userInput,"</span></div>"];n.append(s.join(""))}if(i&&i.result.length==0){var s=['<div class="qcity_guess">找不到<span class="hl">',o,"</span></div>"];var a=true;var f=e(t.target).data("q-suggest");if(f&&f.args.allPlace&&"所有地点".indexOf(i.userInput)>-1){a=false}a?n.append(s.join("")):"";e(r).bind("suggest-nofind",function(e,t){u.triggerMult(r,"suggest-nofind",t)});e(r).trigger("suggest-nofind",o)}},"q-suggest-user-action":function(t,n,i,o){var a=null;if(n=="mousedown"){if(i==="所有地点"){o="00";a="allplace"}else{a=s[o].ftypename}var f=a+"|"+encodeURIComponent(i)+"|"+o;e(r).trigger("suggest-selected",f);u.triggerMult(r,"suggest-selected",f);trackAction("QH|HCT|suggest|"+i)}},"q-suggest-inputChange":function(e){o=i.val().replace(/\s+/g," ");o=o.replace(/^\s+/,"");o=o.replace(/\s+$/,"")}},fuzzyFun:function(){var e=i.siblings("#topic");if(e.size()&&e.val().split(",").length==5){return}}})}})},isvalid:function(){return r}});return v}(jQuery)}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;var n=window.SERVER_TIME;var r=new Date(n.getTime()+1e3*60*60*24*363);var i;var s="http://flight.qunar.com/twell/flight/Search.jsp?";e.exports=function(){function c(e){var t="";for(var n in e){t+="&"+n+"="+e[n]}return s+t}function p(e){var t={fromCity:e.fromCity,toCity:e.toCity,fromDate:e.fd};if(e.td){t.toDate=e.td}t.from="qunarindex";t.searchType=e.type==="特价"?"DealsFlight":h[e.searchType];return t}function d(e){try{(new Image).src="http://flight.qunar.com/site/track.htm?action="+e+"&t="+Math.random()}catch(t){}}var e=$.ui.dialog({width:522}),t={};var n=function(e){var t=e||{};var n="";if(e.round){n="<p>"+(e.type==="特价"?"从":"去程")+'：&nbsp;<span class="fb">'+e.departureDate+"</span></p>";n=n+"<p>"+(e.type==="特价"?"到":"回程")+'：&nbsp;<span class="fb">'+e.arrivalDate+"</span>&nbsp;&nbsp;马上为您显示搜索结果。</p>"}else{n="<p>"+(e.type==="特价"?"从":"去程")+'：&nbsp;<span class="fb">'+e.departureDate+"</span>&nbsp;&nbsp;马上为您显示搜索结果。</p>"}return n};var o=function(e){var t='<div class="p_lyr_ct" style="width:522px;">'+'<div class="lyr_in"> <a id="search-caution-close" class="btn_close" href="javascript:;" rel="nofollow"></a>'+'<div class="lyr_ct" style="width: 450px;">'+'<div class="b_alt_day">'+'<div class="p1">目前<span class="fb">'+(e.type==="特价"?"特价":e.fromCity+'</span>到<span class="fb">'+e.toCity)+"</span>机票最远支持搜索以下日期的航班：</div>"+'<div class="p2">'+n(e)+"</div>"+'<div class="p_btn">'+'<a href="'+e.href+'" class="btn_sure_bl" id="search-caution-ok"><span>确&nbsp;定</span></a>'+"</div>"+"</div>"+'<div class="b_alt_dode clearfix">'+'<a href="http://app.qunar.com/" rel="nofollow" target="_blank">'+'<p class="m_code_img"><img src="http://simg4.qunarzz.com/site/images/flight/home/img_qnkhd.png"></p>'+'<p class="m_code_rt">'+'<span class="h1">为您提供更多航班搜索，<br>我们一直在努力！</span>'+'<span class="h3">扫描或点击下载去哪儿旅行客户端</span>'+"</p>"+"</a>"+"</div>"+"</div>"+"</div>"+"</div>";return t};var u=function(){a()};var a=function(){e.hide()};var f=function(){$("#search-caution-close").click(a);$("#search-caution-ok").click(u)};var l=function(e,t){return Math.min(e,t)};var h={oneway:"OnewayFlight",roundtrip:"RoundTripFlight"};var v=function(e,t){var n=t||"-";var r=e.getMonth()+1;var i=e.getDate();r<10&&(r="0"+r);i<10&&(i="0"+i);return e.getFullYear()+n+r+n+i};t.check=function(e){i=r;this.data={};this.data.fromCity=e.fromCity;this.data.toCity=e.toCity;var t=false;var n=new Date(e.fd.replace(/-/g,"/"));var s=new Date(e.td.replace(/-/g,"/"));if(e.searchType==="oneway"){if(n>i){t=true;this.data.type=e.type;this.data.round=false;this.data.departureDate=v(i);var o=p(e);o.fromDate=this.data.departureDate;this.data.href=c(o)}}else if(e.searchType==="roundtrip"){if(n>i||s>i){t=true;this.data.type=e.type;this.data.round=true;this.data.departureDate=v(new Date(l(n,i)));this.data.arrivalDate=v(new Date(l(s,i)));var o=p(e);o.fromDate=this.data.departureDate;o.toDate=this.data.arrivalDate;this.data.href=c(o)}}else{if(n>i){t=true;this.data.type=e.type;this.data.departureDate=v(i);var o=p(e);o.fromDate=this.data.departureDate;o.drange=e.drange;o.search=e.search;this.data.href=c(o)}}return t};t.show=function(){var t=o(this.data);e.setContent(t);e.show();e.setMiddle();f();var n=["FL","EQR"].join("|");d(n)};return t}()}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;var r=n(50);e.exports=function(e){function n(){}var t="#js_inter_backdate";e.extend(n.prototype,r.prototype,{backdatepanel:function(){return e(t)}});return n}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;n(51);e.exports=function(e){function x(e){return e.prevAll(".dp-prefix")}function T(e,t){e.fdatepicker_price("setting","linkTo",t);e.data("q-datepicker-fly").select(k(e.val()))}function N(e){return e!==""}function C(e){var e=new Date(e.replace(/-/g,"/"));var t=window.SERVER_TIME||new Date;if(e.getTime()<t.getTime()){e=new Date(t.getTime()+2*24*60*60*1e3)}var n=e.getFullYear();var r=e.getMonth()+1;var i=e.getDate();r=r<10?"0"+r:r;i=i<10?"0"+i:i;return[n,r,i].join("-")}function k(e){var t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);return t?new Date(t[1],t[2]*1-1,t[3]):null}function L(t,n){e.each(n,function(e,n){if(e==="value"){var r=t.data("q-suggest");if(r){r.setValue(n)}t.val(n)}else{switch(e){case"country":t.data("country",n);break;case"valided":t.data("valided",n);break}}})}function A(t){return e.extend({},t.data(),{value:e.trim(t.val())})}function O(){}var t=n(42);var r=n(47);var i="input[name=fromCityMulti]";var s="input[name=toCityMulti]";var o="input[name=fromDateMulti]";var u="input[name=toDateMulti]";var a="input[name=fromCity]";var f="input[name=toCity]";var l="input[name=fromDate]";var c=".js-exchagne-city";var h="input[name=from]";var p=".js-searchtype-deals";var d=".js-searchtype-oneway";var v=".js-searchtype-roundtrip";var m=".js-searchtype-multitrip";var g=".js-searchtype-fuzzytrip";var y=".js-searchtype-pricetrend";var b=".js-suggestcontainer";var w=".js-backdate";var E=363;var S=e("#js_searchbox_flight");e.extend(O.prototype,{init:function(t){var n=this;if(n._inited){return}this.tripCount=2;this.trip_zh=["一","二","三","四","五","六"];var r=e(t.form);this.hotCityConfig=t.hotcity;this.delay=t.delay||null;n.moreSearboxArr=[];n.form=t.form;n.$form=r;n.$toDate=r.find(u);n.$fromDate=r.find(o);n.$fromCity=r.find(i);n.$toCity=r.find(s);n.$backdate=r.find(w);n.$onewayRadio=e(d,r);n.$roundtripRadio=e(v,r);n.$multitripRadio=e(m,r);n.$fuzzyRadio=e(g,r);n.$pricetrendRadio=e(y,r);n.$dealsRadio=e(p,r);n.$exchange=e(c,r);n.$from=e(h,r);n.alsosearch=t.alsosearch;n.placeHolder={};for(var a=0;a<n.$fromCity.length;a++){n._initCityInput(this.hotCityConfig,n.$fromCity.eq(a),n.$toCity.eq(a),n.$fromDate.eq(a));n._initDatePicker(this.delay,n.$fromDate.eq(a));a==1&&T(n.$fromDate.eq(0),n.$fromDate.eq(1))}n._bindEvents();n.$toDatePrefix=x(n.$toDate);n.$fromDatePrefix=x(n.$fromDate);n._inited=true;e(n).trigger("initialized");n.$onewayRadio.trigger("click");return n},_initCityInput:function(n,i,s,o){var u=this;var a=i.nextAll(b);var f=s.nextAll(b);var l=new t;var c=new t;var h=new r;var p=new r;this.fromCitySuggest=h;this.toCitySuggest=p;e.each([l,c,h,p],function(t,n){e(n).bind("setvalue",function(t,n){u._clearError(n);e(u).trigger("boxchange");e(u).trigger("citychange")})});e(l).bind("hotcity-show",function(){if(!this.$dom[0]){e(u).trigger("no_exhitbit",this.cityType)}try{i.data("q-suggest").hide()}catch(t){}trackAction("QH|HCT|open")});e(c).bind("hotcity-show",function(){if(!this.$dom[0]){e(u).trigger("no_exhitbit",this.cityType)}try{s.data("q-suggest").hide()}catch(t){}trackAction("QH|HCT|open")});e(l).bind("hotcity-select",function(e,t){s.focus();s.trigger("showHotCity");trackAction("QH|HCT|select|"+encodeURIComponent(t))});e(c).bind("hotcity-select",function(e,t){o.focus();o.data("q-datepicker-fly").show();trackAction("QH|HCT|select|"+encodeURIComponent(t))});l.init({type:n.fromtype,cityType:"from",defaultTab:n.fromDefaultTab,width:n.hotcityWidth});h.init({name:"flight-fromcity",container:a,tiptext:i.data("qcbox-placeholder"),typename:"mult"});i.qcbox();c.init({type:n.totype,cityType:"to",defaultTab:n.toDefaultTab,width:n.hotcityWidth});p.init({name:"flight-tocity",container:f,tiptext:s.data("qcbox-placeholder"),typename:"mult"});s.qcbox();u.setCityData(i,{value:"",country:"",valided:true});u.setCityData(s,{value:"",country:"",valided:true});i.focus(function(){if(!this.value){u._addLinkedCity(i,"from")}});s.focus(function(){if(!this.value){u._addLinkedCity(s,"to")}})},_initDatePicker:function(t,n){var r=this;var i=typeof SERVER_TIME!=="undefined"?SERVER_TIME:new Date,s=new Date(i.getFullYear(),i.getMonth(),i.getDate()),o=new Date(i.getFullYear(),i.getMonth(),i.getDate()+E);var u=t?t.fromDateDelay:2;toDateDelay=t?t.toDateDelay:5;var a=new Date(i.getFullYear(),i.getMonth(),i.getDate()+u),f=new Date(i.getFullYear(),i.getMonth(),i.getDate()+toDateDelay);var l=n.fdatepicker_price({ui:"qunar",linkRules:"+7D,+0D",minDate:s,maxDate:o,linkTo:null,single:true,defaultDay:a.valueOf(),on:{"q-datepicker-select":function(){e(r).trigger("boxchange")},"q-datepicker-show":function(){newClkObj.nanachiClk({button_id:"4-1-2-8",button_name:"搜索-国际机票多程",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});trackAction("QH|DP|open")}}})},parseDate:function(e){return k(e)},_bindEvents:function(){var e=this;var t=this;e.$form.submit(function(e){search_btn()});e._bindSearchTypeChangeEvent();e._bindHoverInfoEvent();e._bindAddTripEvent()},_bindSearchTypeChangeEvent:function(){var t=this;var n=t.$form,r=t.$fromDate,i=t.$toDate,s=e("#js_ow_rt_triplist"),o=e("#js_multi_triplist"),u=e("#fuzzy-ser"),a=e("#js_pricetrend_triplist"),f=e("#js_addtrip"),l=e("#js_realtime_info"),c=e("#js_submit_module"),h=n.find("[name=ishttps]");t.$onewayRadio.click(function(){s.show();l.show();c.removeClass("more-line-btn");o.hide();f.hide();u.hide();c.removeClass("morline-btn").removeClass("itlgent-btn");a.hide();h.val(location.protocol==="https:"?1:0)});t.$roundtripRadio.click(function(){s.show();l.show();c.removeClass("more-line-btn");o.hide();f.hide();u.hide();c.removeClass("morline-btn").removeClass("itlgent-btn");a.hide();h.val(location.protocol==="https:"?1:0)});t.$multitripRadio.click(function(){s.hide();o.show();f.show();l.hide();c.addClass("more-line-btn");u.hide();c.addClass("morline-btn").removeClass("itlgent-btn");S.addClass("e_csh_sch_fl_mor");a.hide();h.val(0)});t.$fuzzyRadio.click(function(){s.hide();o.hide();f.hide();l.hide();c.removeClass("more-line-btn");u.show();c.removeClass("morline-btn").addClass("itlgent-btn");a.hide();h.val(location.protocol==="https:"?1:0)});t.$pricetrendRadio.click(function(){s.hide();o.hide();f.hide();l.hide();c.removeClass("more-line-btn");u.hide();c.removeClass("morline-btn").removeClass("itlgent-btn");a.show();h.val(0)});e(t).trigger("searchtypechagne")},_bindHoverInfoEvent:function(){var t=e("#morlinePoint");var n=e("#hoverInfo");n.bind("mouseover",function(){t.show()});n.bind("mouseout",function(){t.hide()})},_bindAddTripEvent:function(){var t=this,n=t.$form;t.zindexCount=0;e("#js_addtrip").click(function(){t.tripCount++;t.zindexCount++;var r=e(QTMPL.MultiFlightSearchBox.render({trip:t.tripCount,zindex:100-t.zindexCount}));e("#js_trips_list").append(r);var u=t.tripCount-1,a=n.find(i).eq(u),f=n.find(s).eq(u),l=n.find(o);$fromDate=l.eq(u);t._initCityInput(t.hotCityConfig,a,f,$fromDate);t._initDatePicker(t.delay,$fromDate);T(l.eq(u-1),$fromDate);var c=e("#delete"+t.tripCount);t.moreSearboxArr.push({trip:t.tripCount,sbox:r,deleEle:c});e(t).trigger("addMultiClick",t);t._bindDeleteTripEvent(c);t.tripCount==6&&e("#js_addtrip").hide()});e("#js_multi_triplist .q-datepicker-fly").addClass("q-datepicker-fly")},_bindDeleteTripEvent:function(t){var n=this;t.click(function(){var r=parseInt(t[0].id.charAt(6),10)-3;n.moreSearboxArr[r].sbox.remove();n._updateLink(r);n._updateTrips(r);n.tripCount--;n.tripCount<6&&e("#js_addtrip").show()})},_updateTrips:function(e){var t=this;t.moreSearboxArr.splice(e,1);for(var n=e;n<t.moreSearboxArr.length;n++){var r=n+3;t.moreSearboxArr[n].trip=r;t.moreSearboxArr[n].sbox.find("span")[0].innerHTML=r;var i=t.moreSearboxArr[n].sbox.find(".qcbox");t.moreSearboxArr[n].deleEle[0].id="delete"+r}},_updateLink:function(e){e+=2;var t=this.$form.find(o);if(e<this.tripCount-1){T(t.eq(e-1),t.eq(e))}},_addLinkedCity:function(e,t){var n=this.$form.find(i),r=this.$form.find(s),o=-1;var u,a;o=t=="from"?n.index(e):r.index(e);if(t=="from"&&o!=0){a=this.getCityData(r.eq(o-1));a.value&&this.setCityData(e,{value:a.value,country:"",valided:true})}else if(t=="to"&&o!=r.length-1){u=this.getCityData(n.eq(o+1));u.value&&this.setCityData(e,{value:u.value,country:"",valided:true})}},_showError:function(e,t,n){var r=this;var o;switch(e){case"from":o=r.$form.find(i).eq(n);break;case"to":o=r.$form.find(s).eq(n);break}if(!o.data("org-placeholder")){o.data("org-placeholder",o.data("qcbox-placeholder"))}o.data("qcbox-placeholder",t);o.val("");o.parent().parent().addClass("qcbox_err")},_clearError:function(e){e.data("qcbox-placeholder",e.data("org-placeholder"));e.parent().parent().removeClass("qcbox_err")},_checkCity:function(e,t){var n=this;var r=t.value;if(N(r)&&!t.valided){return false}return true},submitCheck:function(){var e=this,t=e.$form;var n=t.find(i),r=t.find(s);var o,u,a,f,l=true;for(var c=0;c<n.length;c++){o=e.getCityData(n.eq(c));u=e.getCityData(r.eq(c));a=o.value;f=u.value;if(!N(a)||!e._checkCity("from",o)){o.qcbox.$el.trigger("mouseup");l=false;break}else if(!N(f)||!e._checkCity("to",u)){u.qcbox.$el.trigger("mouseup");l=false;break}if(a===f&&N(a)){e._showError("to","不能和出发地相同",c);l=false;break}}return l},getId:function(){return this.form},setFromCity:function(e){this.setCityData(this.$fromCity.eq(0),e)},setCityData:function(t,n){L(t,n);this._clearError(t);e(this).trigger("boxchange");return this},getCityData:function(e){return A(e)},fromDate:function(t){if(t==null){return this.$fromDate.val()}else{this.$fromDate.data("q-datepicker-fly").select(k(t));e(this).trigger("boxchange")}return this},toDate:function(t){if(t==null){return this.$toDate.val()}else{this.$toDate.data("q-datepicker-fly").select(k(t));e(this).trigger("boxchange")}return this},fromParam:function(e){if(e==null){return this.$from.val()}else{this.$from.val(e)}return this},getDom:function(){return this.$form},fill:function(e){if(!e){return}var t=this;t.setCityData(t.$fromCity.eq(0),{value:e.fromCity,country:e.fromCountry,valided:true});t.setCityData(t.$toCity.eq(0),{value:e.toCity,country:e.toCountry,valided:true});trackAction("QH|HCT|history|"+encodeURIComponent(e.fromCity));trackAction("QH|HCT|history|"+encodeURIComponent(e.toCity));t.fromDate(C(e.fromDate))},getMultiValue:function(){var t=/\(([A-Z]{3})\)$/;var n=e(i),r=e(s),u=e(o);var a=[],f=[],l=[];for(var c=0;c<n.length;c++){a.push(n[c].value);f.push(r[c].value);l.push(u[c].value)}return{fromCity:a.join(","),toCity:f.join(","),fromDate:l.join(",")}}});return O}(jQuery)}).call(window)},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["MultiFlightSearchBox"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="muti_control">');r.b("\n"+n);r.b('    <div class="crl_lab">第<span>');r.b(r.v(r.f("trip",e,t,0)));r.b("</span>程</div>");r.b("\n"+n);r.b('    <div class="controls" style="z-index: ');r.b(r.v(r.f("zindex",e,t,0)));r.b(';">');r.b("\n"+n);r.b('        <div class="qcbox qcity">');r.b("\n"+n);r.b('             <input type="text" name="fromCityMulti" class="cinput" data-qcbox-placeholder="出发地" data-qcbox-prefix="出发" data-qcbox-suggest="flight-fromcity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" />');r.b("\n"+n);r.b('            <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b('        <div class="qcbox qcity">');r.b("\n"+n);r.b('             <input type="text" name="toCityMulti" class="cinput" data-qcbox-placeholder="目的地" data-qcbox-prefix="到达" data-qcbox-suggest="flight-tocity" data-qcbox-hotcity="flight" autocomplete="off" x-webkit-speech="x-webkit-speech" />');r.b("\n"+n);r.b('            <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b('        <div class="qcbox qdate fromD">');r.b("\n"+n);r.b('            <input type="text" name="fromDateMulti" class="cinput" autocomplete="off" maxlength="10" data-prefix="日期" />');r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b('        <div class="clo-icon-btn" id="delete');r.b(r.v(r.f("trip",e,t,0)));r.b('"></div>');r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b("</div>");r.b("\n"+n);r.b("\n");return r.fl();});if(true)e.exports=window.QTMPL["MultiFlightSearchBox"]},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;var r=n(41);e.exports=function(e){function n(){this._type="国际"}var t="#js_inter_backdate";e.extend(n.prototype,r.prototype,{backdatepanel:function(){return e(t)}});return n}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;var r=n(42);var i=n(47);var s=n(54);var o=function(e){function c(e){return e!==""}function h(t,n){e.each(n,function(e,n){if(e==="value"){var r=t.data("q-suggest");if(r){r.setValue(n)}t.val(n)}else{switch(e){case"country":t.data("country",n);break;case"valided":t.data("valided",n);break}}})}function p(t){return e.extend({},t.data(),{value:e.trim(t.val())})}function d(){}var t="input[name=fromFuzzy]";var n="input[name=toFuzzy]";var o="input[name=from]";var u="input[name=arrType]";var a="input[name=topic]";var f=".search_selbox";var l=".js-suggestcontainer";e.extend(d.prototype,{init:function(r){var i=this;if(i._inited){return}var s=e(r.form);var f=r.hotcity;i.placeHolder=r.placeHolder;i.isFuzzy=r.isFuzzy;i.form=r.form;i.$form=s;i.$fromCity=s.find(t);i.$toFuzzy=s.find(n);i.$arrType=s.find(u);i.$topic=s.find(a);i.$from=e(o,s);i._initCityInput(f);i._initFuzzyInput();i._bindEvents();i._inited=true;e(i).trigger("initialized");return i},_searchType:function(t){var n=this;return e("#searchType").val()},_initCityInput:function(t){var n=this;var s=n.$fromCity.nextAll(l);var o=n.$fromCity;var u=new r;var a=new i;this.fromCitySuggest=a;n.fromHotCity=u;o.data("qcbox-placeholder",n.placeHolder);e.each([u,a],function(t,r){e(r).bind("setvalue",function(t,r){n._clearError(r);e(n).trigger("citychange")})});e(u).bind("hotcity-show",function(){try{n.$fromCity.data("q-suggest").hide()}catch(t){}if(!this.$dom[0]){e(n).trigger("no_exhitbit",this.cityType)}trackAction("QH|HCT|open")});u.init({type:t.fromtype,cityType:"from",defaultTab:t.fromDefaultTab});a.init({name:"flight-fromcity",container:s,tiptext:o.data("qcbox-placeholder"),allPlace:n.isFuzzy});o.qcbox()},_initFuzzyInput:function(t){var n=this;var r=n.$toFuzzy;var o=n.$toFuzzy.nextAll(l);var u=new s;var a=new i;this.toCitySuggest=a;n.toHotFuzzy=u;r.data("qcbox-placeholder",n.placeHolder);e.each([u,a],function(t,i){e(i).bind("setvalue",function(e,t){n._clearError(t);r.trigger("fuzzychange")})});e(u).bind("hotfuzzy-show",function(){try{n.$toFuzzy.data("q-suggest").hide()}catch(t){}if(!this.$dom[0]){e(n).trigger("no_exhitbit",this.fuzzyType)}});u.init({type:"",fuzzyType:"toFuzzy"});a.init({name:"flight-tofuzzy",container:o,tiptext:r.data("qcbox-placeholder"),allPlace:n.isFuzzy});r.qcboxfuzzy()},_bindEvents:function(){var e=this;e._submitCheck()},_showError:function(e,t){var n=this;var r;switch(e){case"from":r=n.$fromCity;break}if(!r.data("org-placeholder")){r.data("org-placeholder",r.data("qcbox-placeholder"))}r.data("qcbox-placeholder",t);r.val("");r.parent().parent().addClass("qcbox_err")},_clearError:function(e){e.data("qcbox-placeholder",e.data("org-placeholder"));e.parent().parent().removeClass("qcbox_err")},_checkCity:function(e,t){var n=this;var r=t.value;if(!c(r)&&!t.valided){return false}return true},_submitCheck:function(){var t=this;t.$form.submit(function(n){var r=t.getFromCity();var i=r.value;if(t.$topic.val()==""){t.$topic.val("免签/落地签");t.$arrType.val(2)}else if(t.$topic.val().replace(/\([^)]*\)/g,"")==i.replace(/\([^)]*\)/g,"")){t.$toFuzzy.data("qcboxfuzzy").setFuzzyErr("不能和出发地相同");return false}else{var s=[];e.map(t.$toFuzzy.data("qcboxfuzzy").$qtab.find(".qtab"),function(t){s.push(e(t).data("type"))});t.$arrType.val(s.join(","))}if(!t._checkCity("from",r)){r.qcbox.$el.trigger("mouseup");return false}e(t).trigger("select_btn")})},getId:function(){return this.form},getFromCity:function(){return p(this.$fromCity)},setFromCity:function(e){h(this.$fromCity,e);this._clearError(this.$fromCity);return this},fromParam:function(e){if(e==null){return this.$from.val()}else{this.$from.val(e)}return this},getDom:function(){return this.$form},fill:function(e){if(!e){return}var t=this;t.setFromCity({value:(e.searchDepartureAirport||e.fromCity)+(e.fromCode?"("+e.fromCode+")":""),country:"",valided:false});trackAction("QH|HCT|history|"+encodeURIComponent(e.fromCity))}});return d}(jQuery);e.exports=o}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;n(55);var r=n(56);var i=function(e){function i(t){var r=QTMPL.FlightHotFuzzy.render({cateList:n.cateList});return e(r)}function s(e,t){o(e,t)}function o(t,n){n.$hotfuzzy.delegate("a.js-fuzzylist","click",function(r){newClkObj.nanachiClk({button_id:"4-1-2-5",button_name:"搜索-国际机票智能搜索",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});r.preventDefault();var i=e(this),s=n.ui.$el,o=n.ui.$qtab,u=n.ui.$topic,a=u.val();var f=i.data("type");var l=i.text();if(/中国(香港|台湾|澳门|台北|港澳台)/.test(l)){l=l.replace("中国","")}var c=i.data("code").length>0?i.data("code"):"";var h=l+(c?"("+c+")":"");if(a.indexOf(h)<0){u.val((a==""?a:a+",")+h);n.ui.$el.data("qcboxfuzzy").renderTopicHtml({topic:l,type:f,code:c})}s.data("valided",true);s.blur();e(t).trigger("setvalue",[s]);n.hideHotfuzzy()})}function u(t){e(".js-fuz-rec").delegate("a.js-fuz","click",function(n){n.preventDefault();newClkObj.nanachiClk({button_id:"4-1-2-7",button_name:"搜索-国际机票智能搜索大家都在搜",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});var r=e(this),i=t.ui.$el,s=t.ui.$qtab,o=t.ui.$topic,u=o.val();if(t.ui.isFuzzyDis()){t.ui.setFuzzyErr();return}var a=r.data("type");var f=r.text();var l=r.data("code").length>0?r.data("code"):"";var c=f+(l?"("+l+")":"");if(u.indexOf(c)<0){o.val((u==""?u:u+",")+c);t.ui.$el.data("qcboxfuzzy").renderTopicHtml({topic:f,type:a,code:l})}i.data("valided",true);t.ui.checkTopic()})}function a(){this.$dom=null;this.data={}}var t=".js_close_flight_hotfuzzy";var n=r;e.extend(a.prototype,{init:function(n){var r=this;e.RegisterPlugin("qcboxfuzzy","hotfuzzy","flightfuzzy",{initialize:function(){r.data=n.data;r.type=n.type;u(this)},initializeStruct:function(){var e=this.ui.$el,n=this.ui,o=this;r.$dom=i(r);this.$hotfuzzy.append(r.$dom);r.$dom.find(t).click(function(){o.hideHotfuzzy()});s(r,o)}})}});return a}(jQuery);e.exports=i}).call(window)},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["FlightHotFuzzy"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="ui-city-sug" data-hotfuzzy-nogo="true">');r.b("\n"+n);r.b('    <i class="ico-close js_close_flight_hotfuzzy"></i>');r.b("\n"+n);r.b('    <div class="m-hct-lst">');r.b("\n"+n);if(r.s(r.f("cateList",e,t,1),e,t,0,156,470,"{{ }}")){r.rs(e,t,function(e,t,r){r.b('        <dl class="e-hct-lst">');r.b("\n"+n);r.b("        	<dt>");r.b(r.v(r.f("char",e,t,0)));r.b("</dt>");r.b("\n"+n);r.b("        	<dd>");r.b("\n"+n);r.b("        		<ul>");r.b("\n"+n);if(r.s(r.f("list",e,t,1),e,t,0,266,407,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('        		    	<li><a class="js-fuzzylist" data-type="');n.b(n.v(n.f("type",e,t,0)));n.b('" data-code="');n.b(n.v(n.f("code",e,t,0)));n.b('" href="#" rel="nofollow">');n.b(n.v(n.f("name",e,t,0)));n.b("</a></li>");n.b("\n")});e.pop()}r.b("        		</ul>");r.b("\n"+n);r.b("        	</dd>");r.b("\n"+n);r.b("        </dl>");r.b("\n")});e.pop()}r.b("    </div>");r.b("\n"+n);r.b("</div>");return r.fl();});if(true)e.exports=window.QTMPL["FlightHotFuzzy"]},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;var n={cateList:[{"char":"主题",list:[{name:"自然风光",type:2},{name:"海滩",type:2},{name:"第1次出国",type:2},{name:"暑假",type:2},{name:"蜜月",type:2},{name:"亲子",type:2},{name:"文化遗产",type:2},{name:"美食",type:2},{name:"潜水",type:2},{name:"购物",type:2},{name:"电影/音乐",type:2},{name:"山岭/滑雪",type:2},{name:"中世纪城堡",type:2},{name:"穷游",type:2},{name:"世界杯",type:2},{name:"古迹",type:2},{name:"都市",type:2},{name:"猎奇",type:2},{name:"毕业季",type:2},{name:"出国特价",type:2}]},{"char":"国家/地区",list:[{name:"东南亚",type:1},{name:"中国港澳台",type:1},{name:"日韩",type:1},{name:"欧洲",type:1},{name:"北美洲",type:1},{name:"大洋洲",type:1},{name:"南亚",type:1},{name:"东亚",type:1},{name:"非洲",type:1},{name:"南美洲",type:1}]},{"char":"城市",list:[{name:"中国香港",code:"HKG",type:1},{name:"曼谷",code:"BKK",type:1},{name:"中国台北",code:"TPE",type:1},{name:"首尔",code:"SEL",type:1},{name:"新加坡",code:"SIN",type:1},{name:"东京",code:"TYO",type:1},{name:"普吉",code:"HKT",type:1},{name:"大阪",code:"OSA",type:1},{name:"清迈",code:"CNX",type:1},{name:"洛杉矶",code:"LAX",type:1},{name:"济州岛",code:"CJU",type:1},{name:"吉隆坡",code:"KUL",type:1},{name:"伦敦",code:"LON",type:1},{name:"纽约",code:"NYC",type:1},{name:"中国澳门",code:"MFM",type:1},{name:"巴黎",code:"PAR",type:1},{name:"马尼拉",code:"MNL",type:1},{name:"悉尼",code:"SYD",type:1},{name:"伊斯坦布尔",code:"IST",type:1},{name:"巴厘岛",code:"DPS",type:1}]}]};e.exports=n}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;var r=n(41);e.exports=function(e){function t(){this._cityTempData={from:{},to:{}};this._type="国内"}e.extend(t.prototype,r.prototype,{changeSerchType:function(){function a(e){r.data("q-datepicker-fly").setFuzzy(e);i.data("q-datepicker-fly").setFuzzy(e);s.data("q-suggest").args.allPlace=e;o.data("q-suggest").args.allPlace=e}var e=this,t=e.$fromDatePrefix,n=e.$toDatePrefix,r=e.$fromDate,i=e.$toDate,s=e.$fromCity,o=e.$toCity;var u={fromDate:r.val(),toDate:i.val()};e.$onewayRadio.click(function(){t.html("日期");n.html("日期");e._restoreCity()});e.$roundtripRadio.click(function(){t.html("日期");n.html("日期");e.$backdate.css({visibility:"visible"});e._restoreCity()})},_saveCityAndClear:function(){var t=this,n=t._cityTempData;n.from=e.extend({},t.getFromCity());n.to=e.extend({},t.getToCity());t._setPlaceHolder(t.$fromCity,"出发地(可不填)");t._setPlaceHolder(t.$toCity,"目的地(可不填)");t.setFromCity({value:"",country:"",valided:true}).setToCity({value:"",country:"",valided:true})},_restoreCity:function(){var e=this;var t=e._cityTempData;e._setPlaceHolder(e.$fromCity,e.placeHolder);e._setPlaceHolder(e.$toCity,e.placeHolder);e.setFromCity(t.from);e.setToCity(t.to)},_setPlaceHolder:function(e,t){e.data("org-placeholder",t);e.data("qcbox-placeholder",t)}});return t}(jQuery)}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;var n=function(e){this.formId=e};n.prototype._init=function(){var e=this.formId;this.url="//rc.flight.qunar.com/rtripdate?";this.isAuto=false;this.fromCity=document.getElementById(e).fromCity;this.toCity=document.getElementById(e).toCity;if(this.toCity.value===""){this.isAuto=true}this.fromDate=document.getElementById(e).fromDate;this.toDate=document.getElementById(e).toDate};n.prototype.$jsex=function(e){this._init();var t=this;$jex.event.bind(this.fromDate,"focus",function(){t.isAuto=false});$jex.event.bind(this.toDate,"focus",function(){t.isAuto=false});if(this.isAuto){this._getAutoDate(e)}};n.prototype._getAutoDate=function(e){var t=this;$jex.event.bind(e,"citychange",function(){if(t.isAuto){if(!!t.toCity.value){var n=t.fromCity.value;var r=t.toCity.value;var i=t.url+"dpt="+encodeURIComponent(n)+"&arr="+encodeURIComponent(r);$jex.jsonp(i,function(t){var n=t.go_date;var r=t.back_date;e.fromDate.setValue(n);e.toDate.setValue(r)});$jex.event.clear(e,"citychange")}}})};n.prototype.$jq=function(e){this._init();var t=this;jQuery(this.fromDate).bind("focus",function(){t.isAuto=false});jQuery(this.toDate).bind("focus",function(){t.isAuto=false});if(this.isAuto){this._$getAutoDate(e)}};n.prototype._$getAutoDate=function(e){var t=this;jQuery(e).bind("citychange",function(){if(t.isAuto){var e=t.fromCity.value;var n=t.toCity.value;if(n!=""){t.isAuto=false}else{return}var r=t.url+"dpt="+encodeURIComponent(e)+"&arr="+encodeURIComponent(n)+"&callback=?";jQuery.getJSON(r,function(e){var n=e.go_date;var r=e.back_date;jQuery(t.fromDate).data("q-datepicker-fly").select(new Date(n.replace(/-/g,"/")));jQuery(t.toDate).data("q-datepicker-fly").select(new Date(r.replace(/-/g,"/")))})}})};e.exports=n}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(){function e(e){return document.getElementById(e)}function t(e){return["http://clk.qunar.com/q?k=",e.s||"","&e=",e.e].join("")}function n(e){var t=document.createElement("script"),n=document.getElementsByTagName("head")[0];t.charset="utf-8";t.async=true;t.src=e;n.insertBefore(t,n.lastChild)}function r(){if(!r._singleton){r._singleton=this;this.init()}return r._singleton}function i(){var e=window.external&&window.external.max_version;return e||/maxthon/i.test(navigator.userAgent)}r.prototype={init:function(){this._status=0;this._calls=[];this._url="//a.qunar.com/vataplan?f=s&cur_page_num=0&rep=1&tag=99&vataposition=QNR_OTU%3D_CN&vatacon=&rows=10&callback="},getData:function(e){if(this._status===2){e(this.$data)}else{this._calls.push(e);if(this._status===0){this._loadData()}}},_dataReady:function(){this._status=2;var e=this._calls;for(var t=0,n=e.length;t<n;t++){e[t](this.$data)}},_loadData:function(){var e=this,t="also_search_"+(new Date).valueOf();window[t]=function(n){e.$data=n&&n.key_data||[];var r="",i,s;for(var o=0,u=e.$data.length;o<u;o++){r=e.$data[o].description;i=r.split("||");s={show:i[1]||"yes",city:i[0]?i[0].split(","):[]};e.$data[o].description=s}e._dataReady();try{delete window[t]}catch(a){}};e._status=1;n(this._url+t)}};r.prototype.constructor=r;var s=i();var o=0;var u=function(e,t){this.id=e;this._cks_key="check_"+o++;this.opts=t||{};this.init()};u.prototype={init:function(){this._dc=new r},_findAD:function(e,t){var n=this;if(!e||s){t([]);return}if(e===n._nowKey)return;n._nowKey=e;this._dc.getData(function(r){if(n._nowKey!==e)return;if(n._lastKey!==e){n.$curAD=null}n._lastKey=n._nowKey;n._nowKey=null;var i,s=[],o,u;var a=n.opts.getCountry.call(n);for(var f=0,l=r.length;f<l;f++){i=r[f].description.city;for(o=0,u=i.length;o<u;o++){if(a=="中国"&&i[o]=="国内全部"||a!=="中国"&&i[o]=="国际全部"||i[o]===e){s.push(r[f]);return t(s)}}}t([])})},toggle:function(e){var t=this;var n=this.opts.getKey.call(this);t._findAD(n,function(n){t._show(n,e)})},_show:function(e,t){var n=0;if(e.length>1){n=Math.floor(Math.random()*e.length)}var r=e[n];this.$last_AD=this.$curAD;this.$curAD=r;this._render(r);this._bindEvent();this.opts.onChange&&this.opts.onChange.call(this,!!r);t&&t.call(this,!!r)},_render:function(t){var n=this.opts,r=this.id;var i=e(n.container);var s=this._cks_key;if(!i)return;if(t){if(this.$last_AD===t){t[s]=this.$last_AD[s]}else{t[s]=t.description.show==="yes"?true:false}var o=t[s]?'checked="checked"':"";var u=t.title.split("||");var a=['<label class="chk_lab" for="alsosearchchk_',r,'">','<input name="" autocomplete="off" id="alsosearchchk_',r,'" type="checkbox" ',o,' class="inp_chk" />',u[1],u[0],"</label>"].join("");if(i){i.innerHTML=a;i.style.display="inline"}}else{i.style.display="none";i.innerHTML=""}},_bindEvent:function(){var t=e(this.opts.container),n,r=this;if(t){n=t.getElementsByTagName("input")[0];n&&(n.onclick=function(){r.$curAD[r._cks_key]=this.checked})}t=n=null},getAdUrl:function(){if(!this.$curAD||!this.$curAD[this._cks_key])return"";return t(this.$curAD)},action:function(){if(!this.$curAD||!this.$curAD[this._cks_key])return false;try{var e=window.screen.availHeight*1;var n=window.screen.availWidth*1;var r=window.open("about:blank","qunar","scrollbars=yes,location=yes,menubar=yes,resizable=yes,status=yes,titlebar=yes,toolbar=yes,width="+Math.round(n)+",height="+Math.round(e));r.blur();r.opener.focus();r.location=t(this.$curAD)}catch(i){}},isActive:function(){return!!this.$curAD}};u.prototype.constructor=u;return u}()}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;n(61);e.exports=function(e){n(62);var t=n(63);var r=n(66);var i=n(73);var s=n(75);var o=n(76);var u=n(78);var a=function(){this.init&&this.init.apply(this,arguments)};a.prototype={init:function(t){var n=this;n.el=t;n.validator=new o(n.el);n.el.find("#trainSearchErrorTips").remove();var r=new i("//train.qunar.com/search/getConf.jsp",{keys:"PRE_SALE_PERIOD,SEARCH_SHOW_TEXT,QUNAR_RESERVE_DAY_LIMIT,www_rob_reserve_scope",ex_track:"www_home_page"});var u=new s("hotCity");e.when(u.findData(),r.findData()).then(function(e,t){sendPv("TrainGetDateConf");n.initData(t[0],e);n.isReady=true},function(){sendPv("TrainGetDateConf",false);n.isReady=false;n.el.append('<p id="trainSearchErrorTips" style="text-align: center;line-height: 40px;">请求数据出错</p>')})},initData:function(e,n){var i=this;e.hotCity=n.slice(0,10);i.el.html(QTMPL.TrainSearchBox.render(e));i.fromCity=i.el.find(".js-fromCity");i.toCity=i.el.find(".js-toCity");i.stsTravelDate=i.el.find(".js-sts-travelDate");i.exchangeCity=i.el.find(".js-exchagne-city");i.stsSearch=i.el.find("button[name=stsSearch]");i.stationToStationHistory=new r("stationToStation");i.stsHistoryEl=i.el.find(".js-stationToStation-history");i.fromHotCity=new t({attachedEl:i.fromCity,hotCityData:n});i.toHotCity=new t({attachedEl:i.toCity,hotCityData:n});i.city=i.el.find(".js-city");i.citySearch=i.el.find(".js-city-search");i.hotCity=new t({attachedEl:i.city,hotCityData:n});i.trainNumber=i.el.find(".js-trainServiceNo");i.trainSuggestService=new u(i.trainNumber);i.trainNumberHistory=new r("trainNumber");i.trainNumberHistoryEl=i.el.find(".js-trainNumber-history");i.trainNumberSearch=i.el.find("button[name=trainNumberSearch]");i.serviceTravelDate=i.el.find(".js-service-travelDate");var s=Number(e.PRE_SALE_PERIOD)+Number(e.www_rob_reserve_scope),o=typeof SERVER_TIME!=="undefined"?SERVER_TIME:new Date,a=new Date(o.getFullYear(),o.getMonth(),o.getDate()+1),f=new Date(o.getFullYear(),o.getMonth(),o.getDate()),l=new Date(o.getFullYear(),o.getMonth(),o.getDate()+s-1);try{i.stsTravelDate.fdatepicker_train({ui:"qunar",minDate:f,maxDate:l,defaultDay:a.valueOf()});i.serviceTravelDate.fdatepicker_train({ui:"qunar",minDate:f,maxDate:l,defaultDay:a.valueOf()})}catch(c){console.log("catch fdatepicker_train")}i.render().bindEvents();var h=i.stationToStationHistory.getList();if(h.length){var p=h[0].split("⇀");p[0]&&i.fromCity.val(p[0]).trigger("change");p[1]&&i.toCity.val(p[1]).trigger("change")}},render:function(){var e=this;e.renderStsHistory();e.renderServiceHistory();e.el.find("[data-placeholder]").dataPlaceHolder();return e},renderStsHistory:function(){var t=this,n=t.stationToStationHistory.getList(),r=[];if(n.length<=0){t.stsHistoryEl.prev().hide();return}e.each(n,function(e,t){var n='<li><a href="javascript:;" rel="nofollow">'+t+"</a></li>";r[r.length]=n});t.stsHistoryEl.html(r.join(""))},renderServiceHistory:function(){var t=this,n=t.trainNumberHistory.getList(),r=[];if(n.length<=0){t.trainNumberHistoryEl.prev().hide();return}e.each(n,function(e,t){var n='<li><a href="javascript:;" rel="nofollow">'+t+"</a></li>";r[r.length]=n});t.trainNumberHistoryEl.html(r.join(""))},bindEvents:function(){var t=this,n=t.el.find("#js-tab-tit");n.on("click","li",function(){var t=e(this);n.find("li").removeClass("cur");t.addClass("cur");setTimeout(function(){e("#js-con").children("div").hide().eq(t.index()).show()},50);gaClk("火车票tab|"+t.text())});t.el.find(".js-train-bc-collection").on("click",function(){gaClk(e(this).text())});t.el.find(".qcbox-info").on("click",function(){e(this).next().trigger("focus").trigger("click")});t.exchangeCity.on("click",function(){sendPvAndUv("exchangeCity");gaClk("火车票tab|交换出发到达城市");var e=t.fromCity.val();t.fromCity.val(t.toCity.val()).trigger("change");t.toCity.val(e).trigger("change")});t.fromCity.on("chooseDown",function(){sendPvAndUv("selectedStartCity");t.fromHotCity.setHistory(t.fromCity.val());t.toCity.trigger("click")});t.toCity.on("chooseDown",function(){sendPvAndUv("selectedArrivedCity");t.toHotCity.setHistory(t.toCity.val());t.stsTravelDate.data("q-datepicker-fly").show()});t.stsTravelDate.on("chooseDown",function(){sendPvAndUv("selectedDate")});t.stsSearch.on("click",function(){sendPvAndUv("searchBtnClick");gaClk("火车票tab|站站搜索|搜索");SAReport("火车票tab|站站搜索|btn");if(!t.validator.checkAll())return false;var e=t.fromCity.val()+"⇀"+t.toCity.val();t.stationToStationHistory.put(e).save()});t.el.find(".js-stationToStation-history").on("click","a",function(){var n=e(this).text().split("⇀");n[0]&&t.fromCity.val(n[0]).trigger("change");n[1]&&t.toCity.val(n[1]).trigger("change")});t.trainNumber.on("chooseDown",function(){t.serviceTravelDate.data("q-datepicker-fly").show()});t.trainNumberSearch.on("click",function(){gaClk("火车票tab|车次搜索|搜索");SAReport("火车票tab|车次搜索|btn");if(!t.validator.checkAll())return false;var e=t.trainNumber.val();t.trainNumberHistory.put(e).save()});t.el.find(".js-trainNumber-history").on("click","a",function(){gaClk("火车票tab|车站搜索|搜索");SAReport("火车票tab|车站搜索|btn");var n=e(this).text();n&&t.trainNumber.val(n).trigger("change")});t.trainNumber.on("keyup",function(e){var n=t.trainNumber.val();if(n.length){t.trainSuggestService.search(n)}else{t.trainSuggestService.hide()}});t.city.on("chooseDown",function(){t.hotCity.setHistory(t.city.val())});t.citySearch.on("click",function(){if(!t.validator.checkAll())return false});t.el.find(".js-city-history").on("click","a",function(){var n=e(this).text();n&&t.city.val(n).trigger("change")});t.el.find("form").on("submit",function(t){var n={stationToStation:"http://train.qunar.com/stationToStation.htm",listNum:"http://train.qunar.com/list_num.htm",station:"http://train.qunar.com/station.htm"}[this.name];window.location.href=n+"?"+e(this).serialize();newClkObj.nanachiClk({button_id:"4-3-4",button_name:"搜索-火车票立即搜索",action_type:"buttonclick",page_depth:"4-搜索框",to_url:n,logdata:""});return false});t.el.find(".rt_link").on("click","a",function(){var t=e(this).closest("a").index();newClkObj.nanachiClk({button_id:"4-3-"+(t+1),button_name:"搜索-火车票"+e(this).text(),action_type:"buttonclick",page_depth:"4-搜索框",to_url:this.href,logdata:""})})}};return a}(jQuery)}).call(window)},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["TrainSearchBox"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="searchbox-train">');r.b("\n"+n);r.b('<div class="ch_search_tab">');r.b("\n"+n);r.b('    <div class="rt_link"><a href="http://user.qunar.com/order/query.jsp?ret=http://order.qunar.com/train"');r.b("\n"+n);r.b('                            target="_blank" class="js-train-bc-collection" rel="nofollow">出票状态查询</a>|<a');r.b("\n"+n);r.b('            href="http://user.qunar.com/order/query.jsp?ret=http://order.qunar.com/train" rel="nofollow" target="_blank" class="js-train-bc-collection">退票申请</a>');r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b('    <ul class="ul_search_tab" id="js-tab-tit">');r.b("\n"+n);r.b('        <li class="cur"><a href="#" rel="nofollow" onclick="return false;">站站搜索</a></li>');r.b("\n"+n);r.b('        <!--<li><a href="#" rel="nofollow" onclick="return false;">车次搜索</a></li>-->');r.b("\n"+n);r.b('        <!--<li><a href="#" rel="nofollow" onclick="return false;">车站搜索</a></li>-->');r.b("\n"+n);r.b("    </ul>");r.b("\n"+n);r.b("</div>");r.b("\n"+n);r.b('<div class="con" id="js-con">');r.b("\n"+n);r.b('<div class="ch_sch_form ch_sch_flt_bf clrfix" style="display: block;">');r.b("\n"+n);r.b('    <form action="#" method="get" name="stationToStation">');r.b("\n"+n);r.b('        <div class="crl_group iwrap">');r.b("\n"+n);r.b('            <div class="crl_sp2_1">');r.b("\n"+n);r.b('                <a class="lnk_change js-exchagne-city" href="#" rel="nofollow" title="调换出发地和目的地" onclick="return false;">换</a>');r.b("\n"+n);r.b("\n"+n);r.b('                <div class="controls">');r.b("\n"+n);r.b('                    <div class="qcbox qcity" style="z-index:40">');r.b("\n"+n);r.b('                        <div class="qunar-qcbox">');r.b("\n"+n);r.b('                            <div class="qcbox-prefix">出发</div>');r.b("\n"+n);r.b('                            <div class="qcbox-info"><b></b></div>');r.b("\n"+n);r.b('                            <input type="text" value="" name="fromStation" class="cinput textbox js-fromCity"');r.b("\n"+n);r.b('                                   data-placeholder="输入城市名/车站名" data-validate=\'{"required":true}\'');r.b("\n"+n);r.b('                                   autocomplete="off" x-webkit-speech="x-webkit-speech"');r.b("\n"+n);r.b('                                   data-detect-oninput="1" style="left: 32px;"/>');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b('                <div class="controls">');r.b("\n"+n);r.b('                    <div class="qcbox qcity" style="z-index: 30;">');r.b("\n"+n);r.b('                        <div class="qunar-qcbox">');r.b("\n"+n);r.b('                            <div class="qcbox-prefix">到达</div>');r.b("\n"+n);r.b('                            <div class="qcbox-info"><b></b></div>');r.b("\n"+n);r.b('                            <input type="text" value="" name="toStation" class="cinput textbox js-toCity"');r.b("\n"+n);r.b('                                   data-placeholder="输入城市名/车站名" data-validate=\'{"required":true}\'');r.b("\n"+n);r.b('                                   autocomplete="off" x-webkit-speech="x-webkit-speech"');r.b("\n"+n);r.b('                                   data-detect-oninput="2" style="left: 32px;"/>');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b('            <div class="crl_sp2_2">');r.b("\n"+n);r.b('                <div class="controls">');r.b("\n"+n);r.b('                    <div class="qcbox qdate fromD" style="z-index: 20;">');r.b("\n"+n);r.b('                        <input type="text" value="" name="date"');r.b("\n"+n);r.b('                               class="cinput textbox js-sts-travelDate" autocomplete="off" maxlength="10"');r.b("\n"+n);r.b('                               data-prefix="日期" data-type="oneWay" style="left: 32px;"/>');r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b('        <div class="crl_group crl_group_submit">');r.b("\n"+n);r.b('            <div class="controls "> <span class="p_btn">&nbsp;');r.b("\n"+n);r.b('              <button type="submit" name="stsSearch" class="button-search"></button>');r.b("\n"+n);r.b("              </span>");r.b("\n"+n);r.b("                <!--通知区域-->");r.b("\n"+n);r.b('                <div class="searchboxtrain-inform">');r.b("\n"+n);r.b("                    <!--通知区域后台关闭在p的class中添加 hide-->");r.b("\n"+n);r.b('                    <p class="linenum">');r.b(r.v(r.f("SEARCH_SHOW_TEXT",e,t,0)));r.b("</p>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("                <!--通知区域-->");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b("        <!--最近搜索-->");r.b("\n"+n);r.b('        <div class="rsearch clrfix">');r.b("\n"+n);r.b("            <p><strong>最近搜索</strong></p>");r.b("\n"+n);r.b('            <ul class="clrfix js-stationToStation-history"></ul>');r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b("        <!--最近搜索-->");r.b("\n"+n);r.b("    </form>");r.b("\n"+n);r.b("</div>");r.b("\n"+n);r.b('<div class="ch_sch_form ch_sch_flt_bf clrfix" style="display: none;">');r.b("\n"+n);r.b('        <form action="#" method="get" name="listNum">');r.b("\n"+n);r.b('            <div class="crl_group iwrap">');r.b("\n"+n);r.b('                <div class="crl_sp2_1">');r.b("\n"+n);r.b('                    <div class="controls">');r.b("\n"+n);r.b('                        <div class="qcbox qcity" style="z-index: 40;">');r.b("\n"+n);r.b('                            <div class="qunar-qcbox">');r.b("\n"+n);r.b('                                <div class="qcbox-prefix">出发</div>');r.b("\n"+n);r.b('                                <input type="text" value="" name="fromStation" class="cinput textbox js-trainServiceNo"');r.b("\n"+n);r.b('                                       data-placeholder="输入车次编号" data-validate=\'{"required":true}\'');r.b("\n"+n);r.b('                                       autocomplete="off" x-webkit-speech="x-webkit-speech"');r.b("\n"+n);r.b('                                       data-detect-oninput="1" style="left: 32px;"/>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b('                <div class="crl_sp2_2">');r.b("\n"+n);r.b('                    <div class="controls">');r.b("\n"+n);r.b('                        <div class="qcbox qdate fromD" style="z-index: 20;">');r.b("\n"+n);r.b('                            <input type="text" value="" name="date"');r.b("\n"+n);r.b('                                   class="cinput textbox js-service-travelDate" autocomplete="off" maxlength="10"');r.b("\n"+n);r.b('                                   data-prefix="日期" data-type="oneWay" style="left: 32px;"/>');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b('            <div class="crl_group crl_group_submit">');r.b("\n"+n);r.b('                <div class="controls "> <span class="p_btn">&nbsp;');r.b("\n"+n);r.b('              <button type="submit" name="trainNumberSearch" class="button-search"></button>');r.b("\n"+n);r.b("              </span>");r.b("\n"+n);r.b("                    <!--通知区域-->");r.b("\n"+n);r.b('                    <div class="searchboxtrain-inform">');r.b("\n"+n);r.b("                        <!--通知区域后台可关闭-->");r.b("\n"+n);r.b('                        <p class="linenum">');r.b(r.v(r.f("SEARCH_SHOW_TEXT",e,t,0)));r.b("</p>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                    <!--通知区域-->");r.b("\n"+n);r.b("                    <!--通知区域-->");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b("            <!--最近搜索-->");r.b("\n"+n);r.b('            <div class="rsearch clrfix">');r.b("\n"+n);r.b("                <p><strong>最近搜索</strong></p>");r.b("\n"+n);r.b('                <ul class="clrfix js-trainNumber-history"></ul>');r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b("            <!--最近搜索-->");r.b("\n"+n);r.b("        </form>");r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b('<div class="ch_sch_form ch_sch_flt_bf clrfix train-city" style="display: none;">');r.b("\n"+n);r.b('    <form action="#" method="get" name="station">');r.b("\n"+n);r.b('        <div class="crl_group iwrap">');r.b("\n"+n);r.b('            <div class="crl_sp2_1">');r.b("\n"+n);r.b('                <div class="controls">');r.b("\n"+n);r.b('                    <div class="qcbox qcity" style="z-index: 40;">');r.b("\n"+n);r.b('                        <div class="qunar-qcbox">');r.b("\n"+n);r.b('                            <div class="qcbox-prefix">出发</div>');r.b("\n"+n);r.b('                            <div class="qcbox-info"><b></b></div>');r.b("\n"+n);r.b('                            <input type="text" value="" name="fromStation" class="cinput textbox js-city"');r.b("\n"+n);r.b('                                   data-placeholder="输入城市名/车站名" data-validate=\'{"required":true}\'');r.b("\n"+n);r.b('                                   autocomplete="off" x-webkit-speech="x-webkit-speech"');r.b("\n"+n);r.b('                                   data-detect-oninput="1" style="left: 32px;"/>');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b('        <div class="crl_group crl_group_submit">');r.b("\n"+n);r.b('            <div class="controls ">');r.b("\n"+n);r.b('                <span class="p_btn">&nbsp;');r.b("\n"+n);r.b('                    <button type="submit" class="button-search js-city-search"></button>');r.b("\n"+n);r.b("                </span>");r.b("\n"+n);r.b("                <!--通知区域-->");r.b("\n"+n);r.b('                <div class="searchboxtrain-inform">');r.b("\n"+n);r.b("                    <!--通知区域后台可关闭-->");r.b("\n"+n);r.b('                    <p class="linenum">');r.b(r.v(r.f("SEARCH_SHOW_TEXT",e,t,0)));r.b("</p>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("                <!--通知区域-->");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b("        <!--最近搜索-->");r.b("\n"+n);r.b('        <div class="rsearch clrfix">');r.b("\n"+n);r.b("            <p><strong>热门车站</strong></p>");r.b("\n"+n);r.b('            <ul class="clrfix js-city-history">');r.b("\n"+n);if(r.s(r.f("hotCity",e,t,1),e,t,0,7787,7880,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('                <li><a href="javascript:;" rel="nofollow">');n.b(n.v(n.f("name",e,t,0)));n.b("</a></li>");n.b("\n")});e.pop()}r.b("            </ul>");r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b("        <!--最近搜索-->");r.b("\n"+n);r.b("    </form>");r.b("\n"+n);r.b("</div>");r.b("\n"+n);r.b("</div>");r.b("\n"+n);r.b('<div class="foot">');r.b("\n"+n);r.b('    <a href="javascript:;" rel="nofollow" class="img"></a>');r.b("\n"+n);r.b('    <abbr id="flightSearchBoxAd" style="display:none;" data-type="qad" data-query="f=s&cur_page_num=0&rep=1&tag=99&vataposition=QNR_Mjg%3D_CN&vatacon=&rows=1&qtype=js&vataframe=bannerDefault" data-style="width:100%;"></abbr>');r.b("\n"+n);r.b("</div>");r.b("\n"+n);r.b("</div>");return r.fl();});if(true)e.exports=window.QTMPL["TrainSearchBox"]},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){if(e.fn.dataPlaceHolder)return;e.fn.dataPlaceHolder=function(){var t="placeholder",n="keyup blur cut paste change",r="click contextmenu";this.each(function(i,s){var o=e(s),u=o.attr("data-placeholder");if(u){var a=e("<div></div>").text(u).addClass(t);o.after(a);o.on(n,function(){o.val()==""?a.show():a.hide()});o.on("focus",function(){a.hide()});a.on(r,function(){o.focus().click()})}});return this}}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;n(64);e.exports=function(e){var t=n(65);var r=n(66);var i=n(68);var s=function(e){e.template=QTMPL.TrainHotCity;e.data={hotCityData:e.hotCityData};e.searchSuggest=new i(e.attachedEl);this.init&&this.init.call(this,e)};s.prototype=new t;e.extend(s.prototype,{init:function(e){var n=this;t.prototype.init.call(n,e);n.hotCityHistory=new r("hotCity");n.hotCityTips=n.el.find(".js-hotcity-tips");n.hotCityHistoryEl=n.el.find(".js-hotcity-history")},setHistory:function(e){var t=this;t.hotCityHistory.put(e).save()},showHistory:function(){var t=this;t.hotCityHistory.loadData();var n=t.hotCityHistory.getList(),r=[];e.each(n,function(e,t){var n='<a href="javascript:;" rel="nofollow" tabindex="-1">'+t+"</a>";r[r.length]=n});t.hotCityHistoryEl.find("dd").html(r.join(""));if(t.hotCityHistory.getLength()>0){t.hotCityTips.hide();t.hotCityHistoryEl.show()}else{t.hotCityTips.show();t.hotCityHistoryEl.hide()}}});return s}(jQuery)}).call(window)},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["TrainHotCity"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="qcbox-fixed" style="display: block;">');r.b("\n"+n);r.b('    <div class="hotcity">');r.b("\n"+n);r.b('        <div class="ui-city-sug">');r.b("\n"+n);r.b('            <div class="m-hct-nav">');r.b("\n"+n);r.b('                <i class="ico-close js_close_flight_hotcity" id="closeXI20"></i>');r.b("\n"+n);r.b("                <!--用户第一次进来无数据时-->");r.b("\n"+n);r.b('                <dl class="js-hotcity-tips">');r.b("\n"+n);r.b("                    <dt>热门城市</dt>");r.b("\n"+n);r.b("                    <dd><span>请输入车站汉字/拼音/首字母 </span></dd>");r.b("\n"+n);r.b("                </dl>");r.b("\n"+n);r.b("                <!--用户第一次进来无数据时-->");r.b("\n"+n);r.b("                <!--有搜索记录时-->");r.b("\n"+n);r.b('                <dl class="js-hotcity-history" style="display: none;">');r.b("\n"+n);r.b("                    <dt>最近输入</dt>");r.b("\n"+n);r.b("                    <dd>");r.b("\n"+n);r.b('                        <!--<a href="javasript:;" rel="nofollow">呼和浩特</a>-->');r.b("\n"+n);r.b("                    </dd>");r.b("\n"+n);r.b("                </dl>");r.b("\n"+n);r.b("                <!--有搜索记录时-->");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b('            <div class="m-hct-lst">');r.b("\n"+n);r.b("                <ul>");r.b("\n"+n);if(r.s(r.f("hotCityData",e,t,1),e,t,0,883,1016,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('                    <li><a id="0XI6" tabindex="-1" href="javascript:void(0);" rel="nofollow">');n.b(n.v(n.f("name",e,t,0)));n.b("</a> </li>");n.b("\n")});e.pop()}r.b('                    <div class="clear"></div>');r.b("\n"+n);r.b("                </ul>");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b("</div>");return r.fl();});if(true)e.exports=window.QTMPL["TrainHotCity"]},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t=function(){};t.prototype={init:function(t){this.attachedEl=e(t.attachedEl);this.template=t.template;this.searchSuggest=t.searchSuggest;this.render(t.data)},show:function(){var t=this;t.showHistory();t.el.toggle();if(t.el.is(":visible")){var n=t.setFront=function(n){var r=e(n.target);if(!r.closest(".js-train-showBox-setFront").size()){t.hide()}};setTimeout(function(){e(document).on("click",t.setFront)},1)}},hide:function(){var t=this;e(document).off("click",t.setFront);t.el.hide()},bindEvents:function(){var t=this;t.attachedEl.on("click",function(){if(t.searchSuggest.isShown())return false;t.show()});t.attachedEl.on("focus",function(){this.select()});t.el.find("li").click(function(){newClkObj.nanachiClk({button_id:"4-3-3",button_name:"搜索-火车票输入",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""});var n=e(this).find("a").text();t.attachedEl.val(n).focus();t.hide();t.attachedEl.trigger("chooseDown")});t.el.find(".js_close_flight_hotcity").on("click",function(){t.hide()});t.attachedEl.on("keydown",function(e){t.hide()});t.attachedEl.on("keyup",function(e){var n=t.attachedEl.val();if(n.length){t.hide();t.searchSuggest.search(n)}else{t.searchSuggest.hide()}});t.el.find("dl").on("click","a",function(){var n=e(this).text();t.attachedEl.val(n).focus();t.hide();t.attachedEl.trigger("chooseDown")})},render:function(t){var n=this;n.el=e(n.template.render(t)).hide();n.el.addClass("js-train-showBox-setFront");n.attachedEl.after(this.el);n.bindEvents()},setHistory:function(e){},showHistory:function(){}};return t}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t=n(67);var r=function(){this.init&&this.init.apply(this,arguments)};r.prototype={init:function(e){var n=this;n.prefix="qn-train-history_";n.key=e;n.storage=t.getLocalStorage();n.maxLength=5;n.loadData()},put:function(t){var n=this;var r=e.inArray(t,n.queue);if(r>-1){n.queue.splice(r,1);n.queue.unshift(t)}else{if(n.queue.length>=5){n.queue.pop()}n.queue.unshift(t)}return n},getLength:function(){return this.queue.length},getList:function(){var e=this;return e.queue},save:function(){var e=this;e.storage.set(e.prefix+e.key,JSON.stringify(e.queue))},loadData:function(){var e=this;var t=e.storage.get(e.prefix+e.key)&&JSON.parse(e.storage.get(e.prefix+e.key));e.queue=t||[]}};return r}(jQuery)}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t=null,n=(new Date).valueOf();try{if(window.localStorage&&window.localStorage.setItem("test"+n,"test")==undefined){window.localStorage.removeItem("test"+n);t=window.localStorage}else{t={}}}catch(r){t={}}var i=function(e){this.storage=e};i.prototype={get:function(e){return this.storage[e]},set:function(e,t){this.storage[e]=t}};var s=new i(t);return{getLocalStorage:function(){return s}}}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t=n(69),r=n(71),i=n(74);var s=new r("//train.qunar.com/dict/open/stationSuggest.do",{include_coach_suggest:true,lang:"zh",keyword:"",sa:true,format:"js"},"keyword");var o=function(){this.init&&this.init.apply(this,arguments)};o.prototype=new t;e.extend(o.prototype,{init:function(e){var n=this;n.pageSize=7;n.suggestPager=null;var r={attachedEl:e,searchKeyModel:s};t.prototype.init.call(n,r)},search:function(e){var t=this;if(e.length<=0)return;if(!t.doSearch){t.doSearch=true;return}t.curKey=e;var n=t.searchKeyModel;n.params.keyword=e;var r=t.el.find(".footer");var s=function(){t.renderData();!t.isShown()&&t.show()};var o=function(e){n.findPage(e,t.pageSize.toString()).then(function(e){t.renderData(e.list);!t.isShown()&&t.show()}).fail(s)};n.findPage(0,t.pageSize.toString()).then(function(e){t.renderData(e.list);!t.isShown()&&t.show();t.suggestPager=new i(e.totalNumber,{attachedEl:r,items_per_page:t.pageSize.toString(),callback:function(e){o(e)}});if(t.suggestPager.pageNumber()>1){r.show()}else{r.hide()}}).fail(s)},pageUp:function(){var e=this;if(e.suggestPager.prevPage()){var t=e.setActiveAndValue();t&&e.attachedEl.val(t)}},pageDown:function(){var e=this;if(e.suggestPager.nextPage()){var t=e.setActiveAndValue();t&&e.attachedEl.val(t)}},goDown:function(){var e=this;var n=t.prototype.goDown.call(e);if(!n){if(e.suggestPager.nextPage()){var n=e.setActiveAndValue();n&&e.attachedEl.val(n)}}},goUp:function(){var e=this;var n=t.prototype.goUp.call(e);if(!n){if(e.suggestPager.prevPage()){e.curPos=e.dataList.length-1;var n=e.setActiveAndValue();n&&e.attachedEl.val(n)}}}});return o}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;n(70);e.exports=function(e){var t=function(){};t.prototype={init:function(e){this.attachedEl=e.attachedEl;this.searchKeyModel=e.searchKeyModel;this.doSearch=true;this.render().bindEvents()},render:function(){var t=this;t.el=e(QTMPL.TrainSearchSuggest.render()).hide();t.el.addClass("js-train-suggestBox-setFront");t.dataTable=t.el.find("table");t.attachedEl.after(t.el);return t},bindEvents:function(){var t=this;t.dataTable.on("mouseover","tr",function(){var n=e(this),r=n.attr("data-index");t.curPos=Number(r);t.setActiveAndValue()});t.dataTable.on("click","tr",function(){var n=e(this),r=n.attr("data-index");t.curPos=Number(r);t.takeThis()})},renderData:function(t){var n=this,r=n.curKey,i=t,s=[];if(i&&i.length>0){n.dataList=i;e.each(i,function(e,t){var n='<tr data-index="'+e+'"><td>'+t.display.replace(r,'<span class="keyString">'+r+"</span>")+"</td></tr>";s[s.length]=n});n.itemLength=i.length;n.curPos=0}else{if(i){s[0]='<tr><td><span class="keyString">暂未收录</span></td></tr>'}else{s[0]='<tr><td><span class="keyString">查询失败</span></td></tr>'}n.itemLength=0}s.unshift("<tbody>");s.push("</tbody>");var o=e(s.join(""));o.find("tr").first().addClass("active");n.dataTable.html(o)},search:function(e){var t=this;if(e.length<=0)return;if(!t.doSearch){t.doSearch=true;return}t.curKey=e;var n=t.searchKeyModel;n.params.q=e;n.findData().then(function(e){t.renderData(e.result);!t.isShown()&&t.show()}).fail(function(){t.renderData();!t.isShown()&&t.show()})},isShown:function(){return this.el.is(":visible")},show:function(){var t=this;t.el.show();var n=t.setFront=function(n){var r=e(n.target);if(!r.closest(".js-train-suggestBox-setFront").size()){t.hide()}};var r=t.keyDown=function(e){switch(e.keyCode){case 9:case 13:t.takeThis();break;case 37:t.doSearch=false;if(!t.pageUp)return true;t.pageUp();break;case 39:t.doSearch=false;if(!t.pageDown)return true;t.pageDown();break;case 38:t.goUp();break;case 40:t.goDown();break;case 8:return true;default:if(e.keyCode<49){t.doSearch=false}return true}return false};setTimeout(function(){e(document).on("click",t.setFront);e(document).on("keydown",t.keyDown)},1)},hide:function(){var t=this;e(document).off("click",t.setFront);e(document).off("keydown",t.keyDown);t.el.hide();t.setSearchValue()},takeThis:function(){var e=this;e.doSearch=false;e.hide()},setSearchValue:function(){var e=this,t=e.attachedEl.val();if(t.length){var n=e.setActiveAndValue();if(n.length){e.attachedEl.val(n);e.attachedEl.trigger("chooseDown")}}},goUp:function(){var e=this;e.doSearch=false;e.curPos--;if(e.curPos<-1){e.curPos=e.itemLength-1}var t=e.setActiveAndValue();e.attachedEl.val(e.curKey);t?e.attachedEl.val(t):e.curPos=e.itemLength;return t},goDown:function(){var e=this;e.doSearch=false;e.curPos++;if(e.curPos>e.itemLength){e.curPos=0}var t=e.setActiveAndValue();e.attachedEl.val(e.curKey);t&&e.attachedEl.val(t);return t},setActiveAndValue:function(){var e=this,t=e.el.find("tr").removeClass("active");if(e.curPos>=0&&e.curPos<e.itemLength){t.eq(e.curPos).addClass("active");return e.dataList[e.curPos].key}else{return""}}};return t}(jQuery)}).call(window)},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["TrainSearchSuggest"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="qsuggest-contaier">');r.b("\n"+n);r.b('    <div class="q-suggest" style="z-index: 500;">');r.b("\n"+n);r.b('        <table cellspacing="0" cellpadding="2"></table>');r.b("\n"+n);r.b('        <ul class="footer"></ul>');r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b("</div>");return r.fl();});if(true)e.exports=window.QTMPL["TrainSearchSuggest"]},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t=n(72);var r=function(){this.init&&this.init.apply(this,arguments)};r.prototype=new t;e.extend(r.prototype,{init:function(e,n,r){var i=this;t.prototype.init.apply(i,arguments)},findPage:function(t,n){var r=this;var i=e.Deferred();r.findData().then(function(e){i.resolve({totalNumber:e.result.length,list:e.result.slice(t*n,(t+1)*n)})}).fail(function(e){i.reject(e)});return i.promise()}});return r}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t=n(73);var r=function(){this.init&&this.init.apply(this,arguments)};r.prototype=new t;e.extend(r.prototype,{init:function(e,n,r){var i=this;i.cache={};i.pKey=r;t.prototype.init.apply(i,arguments)},findData:function(n){var r=this,i=n&&n[r.pKey]||r.params[r.pKey];return e.when(r.cache[i]||t.prototype.findData.call(r,n||r.params)).then(function(e){if(!r.cache[i]){r.cache[i]=e}})}});return r}(jQuery)}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t=function(){this.init&&this.init.apply(this,arguments)};t.prototype={init:function(e,t){var n=this;n.url=e||null;n.params=t||{}},findData:function(t){var n=this,r=e.ajax({url:n.url,dataType:"jsonp",data:t||n.params,cache:false,success:function(){clearTimeout(i)},error:function(e,t,n){clearInterval(i)}}),i=setTimeout(function(){r.abort()},15e3);return r}};return t}(jQuery)}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t=function(t,n){function r(){return Math.ceil(t/n.items_per_page)}function i(){var e=Math.ceil(n.num_display_entries/2);var t=r();var i=t-n.num_display_entries;var s=u>e?Math.max(Math.min(u-e,i),0):0;var o=u>e?Math.min(u+e,t):Math.min(n.num_display_entries,t);return[s,o]}function s(e,t){u=e;o();var r=n.callback(e,a);if(!r&&t){if(t.stopPropagation){t.stopPropagation()}else{t.cancelBubble=true}}return r}function o(){a.empty();var t=i();var o=r();var f=function(e){return function(t){return s(e,t)}};var l=function(t,r){t=t<0?0:t<o?t:o-1;r=e.extend({text:t+1,classes:""},r||{});if(t==u){var i=e("<span class='current'>"+r.text+"</span>")}else{var i=e("<a>"+r.text+"</a>").bind("click",f(t)).bind("select",function(){return false}).attr("href",n.link_to.replace(/__id__/,t)).attr("rel","nofollow")}if(r.classes){i.addClass(r.classes)}a.append(i)};if(n.prev_text&&(u>0||n.prev_show_always)){l(u-1,{text:n.prev_text,classes:"prev"})}for(var c=t[0];c<t[1];c++){l(c,{text:(c+1).toString(),classes:"page-no"})}if(n.next_text&&(u<o-1||n.next_show_always)){l(u+1,{text:n.next_text,classes:"next"})}}n=e.extend({items_per_page:10,num_display_entries:5,current_page:0,num_edge_entries:2,link_to:"javascript:;",prev_text:"<-",next_text:"->",ellipse_text:"...",prev_show_always:false,next_show_always:false,callback:function(){return false}},n||{});var u=n.current_page;t=!t||t<0?1:t;n.items_per_page=!n.items_per_page||n.items_per_page<0?1:n.items_per_page;var a=e(n.attachedEl);this.selectPage=function(e){s(e)};this.prevPage=function(){if(u>0){s(u-1);return true}else{return false}};this.nextPage=function(){if(u<r()-1){s(u+1);return true}else{return false}};this.pageNumber=function(){return r()};o()};return t}(jQuery)}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t={hotCity:[{name:"北京"},{name:"上海"},{name:"广州"},{name:"深圳"},{name:"重庆"},{name:"南京"},{name:"天津"},{name:"长春"},{name:"长沙"},{name:"成都"},{name:"福州"},{name:"贵阳"},{name:"杭州"},{name:"合肥"},{name:"哈尔滨"},{name:"呼和浩特"},{name:"济南"},{name:"昆明"},{name:"拉萨"},{name:"兰州"},{name:"南宁"},{name:"南昌"},{name:"石家庄"},{name:"沈阳"},{name:"太原"},{name:"海口"},{name:"武汉"},{name:"乌鲁木齐"},{name:"西安"},{name:"银川"}],hotService:[{name:"G1"},{name:"G2"},{name:"G3"},{name:"D1"},{name:"T69"},{name:"Z24"},{name:"T202"},{name:"T212"},{name:"K511"},{name:"T61"},{name:"T211"},{name:"K527"},{name:"G193"},{name:"Z17"},{name:"D101"},{name:"T15"},{name:"T97"},{name:"Z19"},{name:"D27"},{name:"Z1"},{name:"Z19"},{name:"Z53"},{name:"C2017"},{name:"T96"},{name:"T108"}]};var n=function(n){this.findData=function(){return e.when(t[n])}};return n}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t={username:{reg:/(^[a-zA-Z_0-9]{6,30}$)|(^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$)/,tips:"错误,请输入正确的用户名或邮箱"},password:{reg:/^.{6,}$/,tips:"由不少于6位字符组成"},validateCode:{reg:/^\w{4}$/,tips:"由4位英文字母或数字组成"},required:{reg:/^.+$/,tips:"不能为空"}};var r=n(77);var i=function(){this.init&&this.init.apply(this,arguments)};i.prototype={init:function(t,n){var i=this;i.container=t||e("body");i.tips=n||new r(i);i.selector="input[data-validate]:visible,textarea[data-validate]:visible";i.bindEvents()},bindEvents:function(){var t=this;t.container.on("focus",t.selector,function(){var n=e(this);n.data("atfocus",true);t.tips.removeErr(n)});t.container.on("blur",t.selector,function(){var n=e(this);n.data("atfocus",false);t.changeStatus(n,true)});t.container.on("change",t.selector,function(){var n=e(this);n.data("atfocus",false);t.changeStatus(n,true)})},checkChange:function(e){var n=e.attr("name"),r=e.val(),i={};try{i=JSON.parse(e.attr("data-validate"))}catch(s){return{isValid:false,tips:s.message}}for(var o in i){var u=t[o];if(u&&!u.reg.test(r)){return{isValid:false,tips:u.tips}}}return{isValid:true,tips:null}},changeStatus:function(e,t){var n=this;var r=n.checkChange(e);if(!r.isValid){n.tips.addErr(e);if(t){n.tips.show(e)}}else{n.tips.removeErr(e);if(t){n.tips.hide(e)}}return r.isValid},checkAll:function(t){var n=this,r=true;var t=t||n.container;t.find(n.selector).each(function(t,i){r=n.changeStatus(e(i),r)&&r});return r}};return i}(jQuery)}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t=function(e){this.validator=e};t.prototype={show:function(e,t){},hide:function(e){},addErr:function(e){var t=this;window.setTimeout(function(){if(!e.data("atfocus")&&!t.validator.checkChange(e).isValid){e.closest(".qunar-qcbox").addClass("err")}},100)},removeErr:function(e){e.closest(".qunar-qcbox").removeClass("err")}};return t}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;e.exports=function(e){var t=n(69),r=n(72);var i=new r("//train.qunar.com/qunar/checiSuggest.jsp",{include_coach_suggest:true,lang:"zh",q:"",sa:true,format:"js"},"q");var s=function(){this.init&&this.init.apply(this,arguments)};s.prototype=new t;e.extend(s.prototype,{init:function(e){var n=this;var r={attachedEl:e,searchKeyModel:i};t.prototype.init.call(n,r)}});return s}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;n(80);n(81);e.exports=function(e){function n(e){if(e instanceof Date){return e}else if(/^\d+$/.test(e)){return new Date(parseInt(e,10))}else{return new Date(Date.parse(e.replace(/-/g,"/")))}}function r(e){return e<10?"0"+e:e}function i(e,t,r,i){var s=n(e);return new Date(s.getFullYear()+t,s.getMonth()+r,s.getDate()+i)}function s(e){var t=n(e);return[r(t.getFullYear()),r(t.getMonth()+1),r(t.getDate())].join("-")}function o(e,t){var r=n(e).getTime();var i=n(t).getTime();return r>i}function u(e){var t=e.closest("table").data("data"),n=t[e.attr("data-ind")*1];return n}var t={ips:"//ws.qunar.com/ips.jcp",recommend:"//dujia.qunar.com/golfz/destination/travelArriveRecom",depArrCity:"//combine.dujia.qunar.com/get_arr_dep_city",fhSuggest:"//fhtouch.dujia.qunar.com/city-search/citySuggestion.json",depArrDate:"//combine.dujia.qunar.com/get_arr_dep_date",hideChild:"//fh.dujia.qunar.com/user/freeCombine/hiddenChild.json",checkNear:"//fhtouch.dujia.qunar.com/city-search/checkNearByCity",shopping:"//fhtouch.dujia.qunar.com/shopping/get.json",fhList:"//fhtouch.dujia.qunar.com/fh/package/hotel/list"};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e){var t=this.length>>>0;var n=Number(arguments[1])||0;n=n<0?Math.ceil(n):Math.floor(n);if(n<0)n+=t;for(;n<t;n++){if(n in this&&this[n]===e)return n}return-1}}var a=function(){this.init&&this.init.apply(this,arguments)};a.prototype={init:function(t){if(this.inited){return}var n=e(t);n.html(QTMPL.FreetripSearchBox.render());this.city="北京";this.inited=true;this.defaultDateRange=2;this.suggestData={};this.$parents=e("#js_searchbox_freetrip");this.$fromDate=this.$parents.find('input[name="freetripFromDate"]');this.$toDate=this.$parents.find('input[name="freetripToDate"]');this.$adtNum=this.$parents.find("#freetrip_adt_num");this.$chdNum=this.$parents.find("#freetrip_chd_num");this.$adultIpt=this.$parents.find('input[name="freetripAdultNum"]');this.$childIpt=this.$parents.find('input[name="freetripChildNum"]');this.$fromCity=this.$parents.find("input[name=freetripFromCity]");this.$toCity=this.$parents.find("input[name=freetripToCity]");this.$freetripType=this.$parents.find('input[name="freetripType"]');this.$freetripSubmitBtn=this.$parents.find("#freetrip_submit_btn");this.$freetripChdnumBox=this.$parents.find("#freetrip_chdnum_box");this.$freetripLoading=this.$parents.find("#freetrip_loading");this.$childTip=this.$parents.find("#child_tip");this.getPosition();this.renderDatePicker();this.renderNumSelector();this.bindEvent();return n},renderDatePicker:function(){var e=this,t=this.defaultDateRange+2,n=new Date,r=i(n,0,0,this.defaultDateRange),u=i(n,0,3,this.defaultDateRange),a=i(n,0,0,this.defaultDateRange),f=i(n,0,0,t),l=e.$fromDate,c=e.$toDate;this.toDatePicker=c.fdatepicker({ui:"qunar",refObj:l,defaultDay:f,maxDate:u,disabledDays:s(a),on:{"q-datepicker-select":function(t,n){e.setDefaultDate(e.toDatePicker,n,0,0)},"q-datepicker-show":function(t){if(o(e.getToDateVal(),s(i(e.getFromDateVal(),0,0,e.delayDay)))){e.setDefaultDate(e.toDatePicker,e.getFromDateVal(),0,2);e.toDatePicker.data("q-datepicker-fly").hide();e.toDatePicker.focus();e.toDatePicker.data("q-datepicker-fly").show()}}}});this.fromDatePicker=l.fdatepicker({ui:"qunar",linkRules:"+2D,+0D",minDate:r,linkTo:e.toDatePicker,defaultDay:a,on:{"q-datepicker-select":function(t,n){e.setDisabledDetail();if(!e.delayDay){e.setMaxDate(e.toDatePicker,e.getFromDateVal(),3,0)}else{e.setMaxDate(e.toDatePicker,e.getFromDateVal(),0,e.delayDay)}if(e.toDatePicker.is(":visible")){e.toDatePicker.focus();e.toDatePicker.data("q-datepicker-fly").show()}},"q-datepicker-show":function(){}}})},setMinDate:function(e,t,r,s){var o=n(t),u=i(o,0,r,s);e.fdatepicker("setting","minDate",u)},setMaxDate:function(e,t,r,s){var o=n(t),u=i(o,0,r,s);e.fdatepicker("setting","maxDate",u)},setDefaultDate:function(e,t,r,o){var u=n(t),a=i(u,0,r,o);e.fdatepicker("setting","defaultDay",a);e.val(s(a))},setDisabledDate:function(e,t){e.fdatepicker("setting","disabledDays",t)},setDisabledDetail:function(){var e=this;e.setDisabledDate(e.toDatePicker,s(i(e.getFromDateVal(),0,0,0)));if(e.cacehDisabledDate){var t=e.getDisabledDate(e.cacehDisabledDate);e.setDisabledDate(e.toDatePicker,t);if(t.indexOf(s(e.getToDateVal()))>-1){e.setDefaultDate(e.toDatePicker,e.getFromDateVal(),0,e.cacehDisabledDate[0])}}},getDisabledDate:function(e){var t=this;var n=[];if(e&&e.length){for(var r=0;r<10;r++){if(e.indexOf(r)<0){var o=s(i(t.getFromDateVal(),0,0,r));n.push(o)}}}return n.join(",")},renderNumSelector:function(){var t=this;var n=t.$adtNum;var r=t.$chdNum;var i=t.$adtNum.find("input");var s=t.$chdNum.find("input");var o=t.$adtNum.nextAll(".sel_suggest");var u=t.$chdNum.nextAll(".sel_suggest");n.isShow=false;r.isShow=false;t.renderNumList(o.find("ul"),[1,9]);t.renderNumList(u.find("ul"),[0,4]);n.on("click",function(){if(e(".js_arrival_box").hasClass("hidden")){newClkObj.nanachiClk({button_id:"4-8-4",button_name:"搜索-自由行单程",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}else{newClkObj.nanachiClk({button_id:"4-8-1",button_name:"搜索-自由行往返",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}t.toggleSuggest(n.isShow,n)});r.on("click",function(){if(e(".js_arrival_box").hasClass("hidden")){newClkObj.nanachiClk({button_id:"4-8-4",button_name:"搜索-自由行单程",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}else{newClkObj.nanachiClk({button_id:"4-8-1",button_name:"搜索-自由行往返",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}t.toggleSuggest(r.isShow,r)});e("#js_freetrip").find(e(".qcity")).on("input","input",function(){if(e(".js_arrival_box").hasClass("hidden")){newClkObj.nanachiClk({button_id:"4-8-4",button_name:"搜索-自由行单程",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}else{newClkObj.nanachiClk({button_id:"4-8-1",button_name:"搜索-自由行往返",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}});o.on("click","li",function(r){e(t).trigger("adtNumChange",r.target.value);i.val(r.target.value);t.toggleSuggest(true,n)});u.on("click","li",function(n){e(t).trigger("chdNumChange",n.target.value);s.val(n.target.value);t.toggleSuggest(true,r)});e("body").on("click",function(i){if(e(i.target).closest("#freetrip_adult_box").length<1){t.toggleSuggest(true,n)}if(e(i.target).closest("#freetrip_chdnum_box").length<1){t.toggleSuggest(true,r)}});e(t).on({chdNumChange:function(e,n){t.renderNumList(o.find("ul"),[1,9-n])},adtNumChange:function(e,n){var r=9-n;if(n===1){r=2;if(t.getChildVal()>2){t.setChildVal(2);t.renderNumList(o.find("ul"),[1,7])}}if(n===2){r=4;if(t.getChildVal()>4){t.setChildVal(4);t.renderNumList(o.find("ul"),[1,5])}}t.renderNumList(u.find("ul"),[0,r])}})},toggleSuggest:function(e,t){var n=this;var r=t.nextAll(".sel_suggest");var i=t.find(".yselector_arraw");if(e){r.hide();i.removeClass("open");t.isShow=false}else{r.show();i.addClass("open");t.isShow=true}},renderNumList:function(e,t){var n=[];for(var r=t[0];r<=t[1];r++){n.push("<li value="+r+">"+r+"</li>")}e.html(n.join(""))},getPosition:function(){var n=this;e.ajax({url:t.ips,dataType:"jsonp"}).done(function(e){if(e&&e.city){n.city=e.city}}).fail(function(){}).always(function(){n.setDepVal("");n.getRecommandData();n.getDepArrCity();setTimeout(function(){n.$freetripLoading.fadeOut()},200)})},getRecommandData:function(){var n=this;e.ajax({url:t.recommend,dataType:"jsonp",data:{dep:n.city,modules:"domestic,abroad"}}).done(function(e){if(e&&e.ret&&e.data){n.prefixRecData(e.data)}}).fail(function(){}).always(function(){})},prefixRecData:function(t){var n=9;if(t.domestic&&t.domestic.length){t.hasDomestic=true;if(t.domestic.length>n){t.domestic.length=n}}if(t.abroad&&t.abroad.length){t.hasAbroad=true;if(t.abroad.length>n){t.abroad.length=n}}var r=e("#freetrip_footer");r.html(QTMPL.FreetripRec.render({data:t}));var i=r.find("#ul-rec-container").find("span");i.each(function(){e(this).click(function(){SAReport("自由行|link")})})},getDepArrCity:function(){var n=this;e.ajax({url:t.depArrCity,dataType:"jsonp",data:{depCity:"",arrCity:"",version:"2"}}).done(function(e){if(e&&e.ret&&e.data){n.prefixCityData(e.data)}}).fail(function(){}).always(function(){})},prefixCityData:function(e){this.cacheCityData=e;this.renderCityInput(e)},renderCityInput:function(e){var t=this;var n=this.$fromCity,r=this.$toCity;var i=this.$fromCity.nextAll(".js-suggestcontainer");var s=this.$toCity.nextAll(".js-suggestcontainer");this.setSuggest(n,i,"dep");n.qcbox();this.setSuggest(r,s,"arr");r.qcbox()},setSuggest:function(n,r,i){var s=this;n.qsuggest({ajax:{url:t.fhSuggest+"?name=*&ver=1",dataType:"json",cache:false},container:r,customClass:"search_suggestList",reader:function(t){var n=[];t=t||{};var r=this.activeEl.val(),o=new RegExp("("+r+")","i"),u=["北京","天津","上海","重庆"];var a=[];t.data&&t.data.citySuggests&&e.each(t.data.citySuggests,function(e,t){if(t.airportSuggest.haveAirport){a.push(t)}else{a=a.concat(t.airportSuggest.nearByAirportInfos)}});s.suggestData[i]=a;n=e.map(a,function(e){var t=e.cityName,n=e.isDomestic?t+(u.indexOf(t)===-1?"-"+e.province:""):t+" "+e.country,r="临近 "+t+(e.distance?" "+e.distance+e.distanceUnit:"");var i=e.airportSuggest?n:r;return{name:i.replace(o,'<span class="keyString">$1</span>'),val:t,type:0}});if(n.length==0){n.push({name:'<div class="search_form_common_error">对不起，没有对应的城市</div>',type:1})}this.activeEl.data("data",n);return n},render:function(e){return e.name},getData:function(e){var t=e.closest("table").data("data"),n=t[e.attr("data-ind")*1];return n.val||""},getExtData:function(e){if(e.length<1){return{}}var t=e.closest("table").data("data"),n=t[e.attr("data-ind")*1];return n},exattr:function(e){return"data-sug_type="+e.type},keyevent:function(e){s.suggestKeyEvent(e,this,s)},on:{"q-suggest-user-action":function(t,n,r){e(this).trigger("dep-change",{data:r})},"q-suggest-hide":function(e,t,n){}},delay:200})},suggestKeyEvent:function(t,n,r){var i=n.visible();var s=t.keyCode;if(s===40&&!i){n.show();return}if(!i)return;var o=n.el.find('tr[data-sug_type="0"]');var a=o.filter(".active");switch(s){case 38:case 40:n._excludeEl=n._mouseFocus;var f=o.index(a);f=t.keyCode===38?f-1:f+1;if(f>=o.length)f=0;if(f<0)f=o.length-1;a.removeClass("active");a=o.eq(f);var l="";if(a.length>0){l=u(a);n.setValue(l.val);a.addClass("active")}t.preventDefault();n._trigger("q-suggest-user-action",[t.type,l.val]);break;case 13:if(a.length>0){var l="";l=u(a);n.setValue(l.val);e(r).trigger("suggest-selected",l.val)};case 27:n.hide();n._trigger("q-suggest-user-action",[t.type,n.getValue()]);break;case 18:case 9:break}},bindEvent:function(){var n=this;var r=n.$toDate.parents(".js_arrival_box");this.$freetripType.on("change",function(t){var i=e(this).val();if(i==="oneway"){r.addClass("hidden");n.fromDatePicker.fdatepicker("setting","linkTo",null)}else{r.removeClass("hidden");n.setMinDate(n.toDatePicker,n.getFromDateVal(),0,0);n.fromDatePicker.fdatepicker("setting","linkTo",n.toDatePicker);if(o(n.getFromDateVal(),n.getToDateVal())){n.setDefaultDate(n.toDatePicker,n.getFromDateVal(),0,2)}n.setDisabledDetail()}});this.$fromCity.on("dep-change",function(t,r){var i=e(this).val();n.city=i;n.getRecommandData();n.checkDate();n.$fromCity.parents(".qunar-qcbox").removeClass("err")});this.$toCity.on("dep-change",function(t,r){var u=e(this).val();if(r&&r.type){n.defaultDateRange=5;n.setMinDate(n.fromDatePicker,new Date,0,5);n.setMinDate(n.toDatePicker,new Date,0,7);if(o(s(i(new Date,0,0,5)),n.getFromDateVal())){n.setDefaultDate(n.fromDatePicker,new Date,0,5);n.setDefaultDate(n.toDatePicker,new Date,0,7)}}else{n.defaultDateRange=2;n.setMinDate(n.fromDatePicker,new Date,0,2)}n.checkDate();n.$toCity.parents(".qunar-qcbox").removeClass("err")});this.$freetripSubmitBtn.on("click",function(r){var o=n.getWayVal()==="roundtrip"?2:1;var u=n.getDepVal();var a=n.getArrVal();var f=n.getFromDateVal();var l=n.getToDateVal();var c=s(i(n.getFromDateVal(),0,0,1));var h=n.getAdultVal();var p=n.hideChildValue?0:n.getChildVal();var d=false,v=false;n.suggestData.dep&&e.each(n.suggestData.dep,function(e,t){t.cityName===u&&(d=true)});n.suggestData.arr&&e.each(n.suggestData.arr,function(e,t){t.cityName===a&&(v=true)});if(!u||n.suggestData.dep&&!d){n.$fromCity.parents(".qunar-qcbox").addClass("err");return false}if(!a||n.suggestData.arr&&!v){n.$toCity.parents(".qunar-qcbox").addClass("err");return false}SAReport("自由行|btn");var m={};m.type=o===2?"FHDD":"FHDS";m.segments=[];m.segments[0]={depCity:u,arrCity:a,bgDate:f,edDate:f,adultNum:h,childNum:p,sgCategory:"FLIGHT",sgKey:"flightGo",seqNum:1};m.segments[1]={depCity:u,arrCity:a,bgDate:f,edDate:f,adultNum:h,childNum:p,sgCategory:"XMORE",sgKey:"shuttleGo",seqNum:1};m.segments[2]={depCity:u,arrCity:a,bgDate:f,edDate:o===2?l:c,adultNum:h,childNum:p,sgCategory:"HOTEL",seqNum:2};o===2&&(m.segments[3]={depCity:a,arrCity:u,bgDate:l,edDate:l,adultNum:h,childNum:p,sgCategory:"FLIGHT",sgKey:"flightBack",seqNum:3});e.ajax({type:"GET",dataType:"json",url:t.checkNear+"?depCity="+u+"&arrCity="+a,success:function(){n.reqShopId(m,function(){var t={adult:h,child:p,goDepCity:u,goArrCity:a,goBeginDate:f,goEndedDate:f,hotelDepCity:u,hotelArrCity:a,hotelBeginDate:f,hotelEndDate:l};o===2&&e.extend(t,{backDepCity:a,backArrCity:u,backBeginDate:l,backEndedDate:l})})}});if(e(".js_arrival_box").hasClass("hidden")){newClkObj.nanachiClk({button_id:"4-8-5",button_name:"搜索-自由行单程立即搜索",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}else{newClkObj.nanachiClk({button_id:"4-8-2",button_name:"搜索-自由行往返立即搜索",action_type:"buttonclick",page_depth:"4-搜索框",to_url:"",logdata:""})}});e("body").on("click","#ul-rec-container li a",function(){var t=e(this).closest("li").index();newClkObj.nanachiClk({button_id:"4-8-3",button_name:"搜索-自由行热门",action_type:"buttonclick",page_depth:"4-搜索框",to_url:this.href,logdata:""})})},reqShopId:function(n,r){n.channel="normal";n.realTag=true;n.moreSegment=true;e.ajax({type:"POST",dataType:"json",url:t.shopping,contentType:"application/json",data:JSON.stringify(n),success:function(e){if(!e.ret){r&&r()}else{window.open(t.fhList+"?flag=0&origin=dujia&shoppingId="+e.data.shoppingId)}}})},checkDate:function(){var e=this.getDepVal();var t=this.getArrVal();if(e&&t){this.getDateRange();this.hiddenChild()}},getDateRange:function(){var n=this;e.ajax({url:t.depArrDate,dataType:"jsonp",data:{depCity:n.getDepVal(),arrCity:n.getArrVal()}}).done(function(e){if(e&&e.ret&&e.data&&e.data.length){for(var t=0,r=e.data.length;t<r;t++){e.data[t]=parseInt(e.data[t],10)}n.cacehDisabledDate=e.data;n.delayDay=Math.max.apply(null,e.data);n.setMaxDate(n.toDatePicker,n.getFromDateVal(),0,n.delayDay);if(o(n.getToDateVal(),s(i(n.getFromDateVal(),0,0,n.delayDay)))){n.setDefaultDate(n.toDatePicker,n.getFromDateVal(),0,2)}n.setDisabledDetail()}}).fail(function(){}).always(function(){})},hiddenChild:function(){var n=this;e.ajax({url:t.hideChild,dataType:"jsonp",data:{dep:n.getDepVal(),arr:n.getArrVal()}}).done(function(e){if(e&&e.ret&&e.data){n.$freetripChdnumBox.addClass("hidden");n.$childTip.addClass("hidden");n.hideChildValue=true}else{n.$freetripChdnumBox.removeClass("hidden");n.$childTip.removeClass("hidden");n.hideChildValue=false}}).fail(function(){n.$freetripChdnumBox.removeClass("hidden");n.$childTip.removeClass("hidden");n.hideChildValue=false}).always(function(){})},setDepVal:function(e){this.$fromCity.val(e)},setArrVal:function(e){this.$toCity.val(e)},setFromDateVal:function(e){this.$fromDate.val(e)},getDepVal:function(e){return this.$fromCity.val()},getArrVal:function(e){return this.$toCity.val()},getFromDateVal:function(){return this.$fromDate.val()},getToDateVal:function(){return this.$toDate.val()},getAdultVal:function(){return this.$adultIpt.val()},setAdultVal:function(e){this.$adultIpt.val(e)},getChildVal:function(){return this.$childIpt.val()},setChildVal:function(e){this.$childIpt.val(e)},getWayVal:function(){return this.$parents.find('input[name="freetripType"]:checked').val()}};return a}(jQuery)}).call(window)},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["FreetripSearchBox"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="e_csh_sch_flpn searchbox-freetrip">');r.b("\n"+n);r.b('    <div id="freetrip_loading" class="freetrip-loading">');r.b("\n"+n);r.b('        <img class="e_csh_sch_loadding" src="//simg4.qunarzz.com/tts/images/demo/spinner_tra.gif">');r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b('    <div class="con">');r.b("\n"+n);r.b('        <div class="ch_sch_form ch_sch_flt_bf clrfix" id="js_freetrip">');r.b("\n"+n);r.b('            <div class="crl_group">');r.b("\n"+n);r.b('                <div class="controls pos-rel">');r.b("\n"+n);r.b('                    <label class="lal_rdo" for="js_type_roundtrip" hidefocus="on">');r.b("\n"+n);r.b('                        <input name="freetripType" type="radio" value="roundtrip" class="inp_rad js-type-roundtrip" checked="checked" id="js_type_roundtrip" data-beacon="自由行-往返" />');r.b("\n"+n);r.b("                        往返</label>");r.b("\n"+n);r.b('                    <label class="lal_rdo" for="js_type_oneway" hidefocus="on">');r.b("\n"+n);r.b('                        <input name="freetripType" type="radio" value="oneway" class="inp_rad js-type-oneway" id="js_type_oneway" data-beacon="自由行-单程" />');r.b("\n"+n);r.b("                        单程</label>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b('            <div class="crl_group iwrap" id="js_freetrip_list">');r.b("\n"+n);r.b('                <div class="crl_sp2_1">');r.b("\n"+n);r.b('                    <div class="controls">');r.b("\n"+n);r.b('                        <div class="qcbox qcity" style="z-index: 40;">');r.b("\n"+n);r.b('                            <input type="text" value="" name="freetripFromCity" class="cinput" data-qcbox-placeholder="出发地" data-qcbox-prefix="出发地" data-qcbox-suggest="freetrip-fromcity" data-qcbox-hotcity="freetrip" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                            <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b('                    <div class="controls js_from_box">');r.b("\n"+n);r.b('                        <div class="qcbox qdate fromD" style="z-index: 30;">');r.b("\n"+n);r.b('                            <input type="text" value="" id="freetripFromDate" name="freetripFromDate" class="cinput" autocomplete="off" maxlength="10" data-prefix="出发日期" spellcheck="false" />');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b('                    <div class="controls passnum">');r.b("\n"+n);r.b('                        <div class="yselector adtnum-box" id="freetrip_adult_box">');r.b("\n"+n);r.b('                            <div class="yselector_box" id="freetrip_adt_num">');r.b("\n"+n);r.b('                                <div class="yselector_arraw"><b></b></div>');r.b("\n"+n);r.b('                                <span class="yselector_input">成人</span>');r.b("\n"+n);r.b('                                <input name="freetripAdultNum" value="2" readonly>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b('                            <div class="sel_suggest" style="display: none;"><ul></ul></div>');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b('                        <div class="yselector chdnum-box" id="freetrip_chdnum_box">');r.b("\n"+n);r.b('                            <div class="yselector_box" id="freetrip_chd_num">');r.b("\n"+n);r.b('                                <div class="yselector_arraw"><b></b></div>');r.b("\n"+n);r.b('                                <span class="yselector_input">儿童</span>');r.b("\n"+n);r.b('                                <input name="freetripChildNum" value="0" readonly>');r.b("\n"+n);r.b("                            </div>");r.b("\n"+n);r.b('                            <div class="sel_suggest" style="display: none;"><ul></ul></div>');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b('                <div class="crl_sp2_2">');r.b("\n"+n);r.b('                    <div class="controls">');r.b("\n"+n);r.b('                        <div class="qcbox qcity" style="z-index: 20;">');r.b("\n"+n);r.b('                            <input type="text" value="" name="freetripToCity" class="cinput" data-qcbox-placeholder="目的地" data-qcbox-prefix="目的地" data-qcbox-suggest="freetrip-tocity" data-qcbox-hotcity="freetrip" autocomplete="off" x-webkit-speech="x-webkit-speech" spellcheck="false" />');r.b("\n"+n);r.b('                            <div class="qsuggest-contaier js-suggestcontainer"></div>');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b('                    <div class="controls js_arrival_box">');r.b("\n"+n);r.b('                        <div class="qcbox qdate toD" style="z-index: 10;">');r.b("\n"+n);r.b('                            <input type="text" value="" id="freetripToDate" name="freetripToDate" class="cinput" autocomplete="off" maxlength="10" data-prefix="返程日期" spellcheck="false" />');r.b("\n"+n);r.b("                        </div>");r.b("\n"+n);r.b("                    </div>");r.b("\n"+n);r.b('                    <div id="child_tip" class="child-tip">(2-12岁)</div>');r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b('            <div class="crl_group crl_group_submit" id="js_freetrip_submit">');r.b("\n"+n);r.b('                <div class="controls">');r.b("\n"+n);r.b('                    <span class="p_btn">');r.b("\n"+n);r.b('                        <button type="submit" id="freetrip_submit_btn" class="button-search"></button>');r.b("\n"+n);r.b("                    </span>");r.b("\n"+n);r.b("                </div>");r.b("\n"+n);r.b("            </div>");r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b('    <div class="foot">');r.b("\n"+n);r.b('        <div id="freetrip_footer" class="freetrip-footer">');r.b("\n"+n);r.b("            ");r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b("</div>");r.b("\n");return r.fl();});if(true)e.exports=window.QTMPL["FreetripSearchBox"]},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["FreetripRec"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");if(r.s(r.f("data",e,t,1),e,t,0,9,635,"{{ }}")){r.rs(e,t,function(e,t,r){r.b('<ul class="ul-rec-container clrfix" id="ul-rec-container">');r.b("\n"+n);if(r.s(r.f("hasDomestic",e,t,1),e,t,0,89,336,"{{ }}")){r.rs(e,t,function(e,t,r){r.b("    <li>");r.b("\n"+n);r.b('        <b class="lab">国内热门</b>');r.b("\n"+n);if(r.s(r.f("domestic",e,t,1),e,t,0,152,308,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('        <span title="');n.b(n.v(n.f("title",e,t,0)));n.b('"><a href="');n.b(n.v(n.f("link",e,t,0)));n.b('?tf=pcindex_free&extendFunction=%E8%87%AA%E7%94%B1%E8%A1%8C" target="_blank">');n.b(n.v(n.f("title",e,t,0)));n.b("</a></span>");n.b("\n")});e.pop()}r.b("    </li>");r.b("\n")});e.pop()}if(r.s(r.f("hasAbroad",e,t,1),e,t,0,371,614,"{{ }}")){r.rs(e,t,function(e,t,r){r.b("    <li>");r.b("\n"+n);r.b('        <b class="lab">出境热门</b>');r.b("\n"+n);if(r.s(r.f("abroad",e,t,1),e,t,0,432,588,"{{ }}")){r.rs(e,t,function(e,t,n){n.b('        <span title="');n.b(n.v(n.f("title",e,t,0)));n.b('"><a href="');n.b(n.v(n.f("link",e,t,0)));n.b('?tf=pcindex_free&extendFunction=%E8%87%AA%E7%94%B1%E8%A1%8C" target="_blank">');n.b(n.v(n.f("title",e,t,0)));n.b("</a></span>");n.b("\n")});e.pop()}r.b("    </li>");r.b("\n")});e.pop()}r.b("</ul>");r.b("\n")});e.pop()}return r.fl();});if(true)e.exports=window.QTMPL["FreetripRec"]},function(e,t,n){(function(){function i(){var e=$(window).width();var n=$("#__header_navmore_con__");var i=$(".q_header_mnav").find($("ul"));var s=i.children();var o=n.children();if(e<1200){$("html").addClass("q_home_respond");$(".q_header").removeClass("q_header_max");var u=s[s.length-3];var a=s[s.length-2];if(!n.children().length){n.append($(u)).append($(a))}n.find($("li")).on("mouseover",function(){$(".q_header_navlink_more").css({background:"#00bcd4"})});n.find($("li")).on("mouseout",function(){$(".q_header_navlink_more").css({background:"none"})});if(!t){gaClk("窄版");t=1}}else{$("html").removeClass("q_home_respond");$(".q_header").addClass("q_header_max");i.append($(o[0])).append($(o[1]));i.append($(".qhf_navmore"));if(!t){gaClk("宽版");t=1}}if(o.length){for(var f=0;f<o.length;f++){var l=o[f];var c=l.className.split("_")[1];var h=$(".qtag_"+c);if(h.length){h.css({left:60*(s.length-1)+5+"px"})}}}else{for(var f=0;f<s.length;f++){var l=s[f];var c=l.className.split("_")[1];var h=$(".qtag_"+c);if(h.length){h.css({left:60*f+5+"px"})}}}if(r&&e<480){QReport&&QReport.ac({acId:"bigsearch",acType:"show"});r=false}var p=window.QNR.activeSaleIndex;var d=$("#mod-home-flight-wrapper");var v=$("#mod-home-hotel-wrapper");var m=$("#mod-home-iconNav");var g=$("#js_b_onSale");var y=g.find(".more");var b=g.find(".title-more");var w=$("#js_b_piao_recommend");var E=w.find(".piao-head-more");var S=$("#js_b_travel");var x=S.find(".more");var T=$(".dujia-body-right");var N=T.children()[T.children().length-1];var C=T.children()[T.children().length-2];if(e<480){d.hide();v.hide();var k=$('<div class="mod-home-onSale-title">特惠度假</div>');if(!g.find(".mod-home-onSale-title").length){g.prepend(k)}$(N).css({display:"none"});$(C).css({display:"none"});b.hide();y.hide();$(y[p]).show();var k=$('<div class="mod-home-piao-title">特惠门票</div>');if(!w.find(".mod-home-piao-title").length){w.prepend(k)}w.append(E);E.find(".icon-more").text("");S.append(x);x.find(".icon-more").text("");m.hide()}else{$(".mod-home-onSale-title").hide();$(".mod-home-piao-title").hide();d.show();v.show();b.hide();y.hide();$(b[p]).show();$(N).css({display:"block"});$(C).css({display:"block"});w.find(".home-title").prepend(E);E.find(".icon-more").text("");S.find(".home-title").append(x);x.find(".icon-more").text("");m.show()}}var e=typeof e==="function"&&!e.amd?e:false;var t=0;var r=true;n(83);n(84);n(85);$(window).on("resize",$.throttle(300,function(){i()})).trigger("resize")}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;var n="http://bx.qunar.com/promotion/homepage/products.do",r="mod-home-logo",i="js_b_touchHeader";e.exports=window.patch["touchheader"]=function(e){function t(){this.moduleName="touchheader";this.$container=e("#"+i);this.url=n;this.data={}}e.extend(t.prototype,{initData:function(){this.bindEvent()},getUrl:function(){return this.url+"?callback=?"},mergeData:function(t){return e.extend(true,this.data,t)},bindEvent:function(){var t=this;var n=t.$container.find("#hm-touchheader__moreLink");t.$container.find(".hm-touchheader .hm-touchheader__line .hm-touchheader__link").on("click",function(){var t=e(this);var n=t[0].id;var r=t[0].getAttribute("index");var i=t[0].getAttribute("etId");var s=t[0].getAttribute("chnName");var o=t[0].href;watcherLog({tagName:t[0].id});window.QReport.ac({acId:"touchheader_tab:"+n,acType:"click",acData:""});newClkObj.nanachiClk({button_id:"15-"+(t.parent().index()+1)+"-"+(t.index()+1),button_name:t.text().trim(),action_type:"buttonclick",page_depth:"15-宫格",to_url:o,logdata:""});window.setTimeout(function(){location.href=o},200);return false});n.length&&n.on("click",function(){var n=t.$container.find(".hm-touchheader__canbeHide");var r=e(this).find(".hm-touchheader__title").html();[].slice.call(n).forEach(function(t){var n=e(t).css("display");e(t).css("display",n==="none"?"flex":"none")});e(this).find(".hm-touchheader__title").html(r==="更多"?"收起":"更多")});e(".q_header_touchDownLoad").on("click",function(){var t=e(this)[0].getAttribute("href");newClkObj.nanachiClk({button_id:"14-1-1",button_name:"下载APP按钮",action_type:"buttonclick",page_depth:"14-下载App",to_url:t,logdata:""});window.open(t,"_blank")})},isSuccessStatus:function(e){return e.ret===true&&e.data}});return new t}(jQuery)}).call(window)},function(e,t){(function(){var t=typeof t==="function"&&!t.amd?t:false;var n="js_b_touchFooter";var r=null;e.exports=window.patch["touchfooter"]=function(e){function t(){this.moduleName="touchfooter";this.$container=e("#"+n);this.data={}}e.extend(t.prototype,{initData:function(){this.bindEvent()},bindEvent:function(){var t=this;var n=e("#js_b_touchHeader").height()||300;t.$container.find(".hm-touchfooter__item").on("click",function(){var t=e(this);var n=t[0].getAttribute("index");var r=t[0].getAttribute("url");window.QReport.ac({acId:"touchfooter_tab:"+n,acType:"click",acData:""})});t.$container.find(".hm-touchfooter__home").on("click",function(){newClkObj.nanachiClk({button_id:"16-1-1",button_name:"吸底导航-首页",action_type:"buttonclick",page_depth:"16-吸底导航",to_url:"",logdata:""})});t.$container.find(".hm-touchfooter__top").on("click",function(){window.scrollTo(0,0);newClkObj.nanachiClk({button_id:"16-2-1",button_name:"吸底导航-回顶部",action_type:"buttonclick",page_depth:"16-吸底导航",to_url:"",logdata:""})});t.$container.find(".hm-touchfooter__order").on("click",function(){var t=e(this)[0].getAttribute("url");newClkObj.nanachiClk({button_id:"16-3-1",button_name:"吸底导航-订单",action_type:"buttonclick",page_depth:"16-吸底导航",to_url:t,logdata:""});setTimeout(function(){location.href=t},200)});t.$container.find(".hm-touchfooter__kefu").on("click",function(){var t=e(this)[0].getAttribute("url");newClkObj.nanachiClk({button_id:"16-4-1",button_name:"吸底导航-客服",action_type:"buttonclick",page_depth:"16-吸底导航",to_url:t,logdata:""});setTimeout(function(){location.href=t},200)});t.$container.find(".hm-touchfooter__mine").on("click",function(){var t=e(this)[0].getAttribute("url");newClkObj.nanachiClk({button_id:"16-5-1",button_name:"吸底导航-我的",action_type:"buttonclick",page_depth:"16-吸底导航",to_url:t,logdata:""});setTimeout(function(){location.href=t},200)});window.addEventListener("scroll",function(){if(r){clearTimeout(r)}r=setTimeout(function(){t.homeButtonShow(window.pageYOffset>=n)},200)})},homeButtonShow:function(e){var t=this;["home","top"].forEach(function(n,r){t.$container.find(".hm-touchfooter__"+n).css({display:r==e?"inline-flex":"none"})})},isSuccessStatus:function(e){return e.ret===true&&e.data}});return new t}(jQuery)}).call(window)},function(e,t,n){(function(){var t=typeof t==="function"&&!t.amd?t:false;var r="http://bx.qunar.com/promotion/homepage/products.do",i="js_b_bigsearch";var s=n(86);var o=n(87);var u=n(88);e.exports=window.patch["bigsearch"]=function(e){function t(e,t){var n=[];var r="";var i=+t.lineNum||1;var s=+t.eachNum||1;for(var o=0;o<i;o++){for(var u=0;u<s;u++){n[o]=n[o]||[];e[o*s+u]&&n[o].push(e[o*s+u])}}n.forEach(function(e){var t='<div class="hbl-item__tags">';e.forEach(function(e){t+=['<a class="hbl-tags__item" href="',e.tagUrl,'">',e.tagText,"</a>"].join("")});r+=t+"</div>"});return r}function n(){var t=window.__ipCity.split("__");this.moduleName="bigsearch";this.$container=e("#"+i);this.url="/bigsearch/request";this.debounce=true;this.resetParams=function(){this.data={list:[],recommendLists:[],noresult:true};this.params={input:"",city:t[0],ip:t[1],requestType:"touch"}};this.touchEvent=function(e){e.preventDefault()};this.disableBodyScroll=function(e){};this.resetParams()}Handlebars.registerHelper("showBSIcon",function(e){return'<img class="hbl-item__icon-img" src="//s.qunarzz.com/homenode/images/bigsearch/'+e+'.png" />'});Handlebars.registerHelper("showBSHighlight",function(e,t){var n=this.currentInput;var r=this.suggestionStyle||{};var i="";if(t==="hint"&&r.subItemType!=="defaults"){return""}if(t==="noresult_title"){return e}e.split("").forEach(function(e){if(n.indexOf(e)>=0){i+='<span class="hbl-item__highlight">'+e+"</span>"}else{i+=e+""}});return i});Handlebars.registerHelper("showBSPrice",function(e){if(!e){return""}return'<span class="hbl-item__price">'+e+"</span>"});Handlebars.registerHelper("showBSUrl",function(e){var t=this.suggestionStyle||{};if(!e||t.subItemType=="defaults"){return""}return'<a href="'+this.schemeUrl+'" class="hbl-item__goto"> <i class="font-awsome ico_go_next">&#xe8c4;</i> </a>'});Handlebars.registerHelper("showBSSuggestion",function(e){var n="";e=e||{};var r=this.suggestionTags||[];switch(e.subItemType){case"tag":n=t(r,e);break;default:n="<div></div>"}return n});e.extend(n.prototype,{init:function(){this.bindEvent();this.initData()},searchInputPosition:function(){var t=e(".mod-home-bigsearch");if(!this.params.input){t.css("position","fixed")}else{t.css("position","relative")}},initData:function(){var t=this;t.resetParams();t.success(t.data);e(".q_header_bigsearch").off().click(function(n){t.$container.css({display:"block"});e(".q_page,#mod-home-logo,.qn_footer").css({display:"none"});t.searchInputPosition();QReport&&QReport.ac({acId:"bigsearch",acType:"click"});t.disableBodyScroll(true);t.$container.find("#hbm-input__input").focus()});e(window).scrollTop(0)},getSuggestion:function(t,n){var r=this;e.ajax({type:"POST",url:this.url,data:JSON.stringify(t),success:function(e){if(r.isSuccessStatus(e)){var i=e.data.suggestions||[];r.data.list=i.map(function(n){n.currentInput=r.setInputIntoData(e,t.input);return n});r.data.recommendLists=e.data.recommends;r.data.noresult=!i.length}n&&n()},contentType:"application/json"})},setInputIntoData:function(e,t){var n=t.replace(/\s+/g,"").split("");var r=[];n.forEach(function(e){if(r.indexOf(e)===-1){r.push(e)}});return r},mergeData:function(t){return e.extend(true,this.data,t)},success:function(e){this.$container.html(s(this.mergeData(e)));this.renderContent(this.mergeData(e))},renderContent:function(e){var t=this.$container,n=e.noresult?o:u;n=this.params.input?n:"<div />";t.find("#hbm-list__result-wrapper").html(this.params.input?n(e):n)},bindEvent:function(){var t=this;this.$container.on("click",".hbm-input__cancel",function(){t.$container.css({display:"none",position:"initial !important"});t.disableBodyScroll(false);e(".q_page,#mod-home-logo,.qn_footer").css({display:"block"});t.initData();newClkObj.nanachiClk({button_id:"1-6-1",button_name:"大搜-H5取消",action_type:"buttonclick",page_depth:"1-大搜",to_url:"",logdata:""})});this.$container.on("click",".hbm-input__back",function(){t.$container.css({display:"none",position:"initial !important"});t.disableBodyScroll(false);e(".q_page,#mod-home-logo,.qn_footer").css({display:"block"});newClkObj.nanachiClk({button_id:"1-7-1",button_name:"大搜-H5返回键",action_type:"buttonclick",page_depth:"1-大搜",to_url:"",logdata:""});t.initData()});this.$container.on("click",".hbm-input__bigsearch .ico_clear",function(){t.initData();t.$container.find("#hbm-input__input").focus();t.searchInputPosition()});this.$container.on("click",".hbl-item__body",function(e){var t=e.currentTarget&&e.currentTarget.href||location.href;newClkObj.nanachiClk({button_id:"1-5-1",button_name:"大搜-H5提示列表",action_type:"buttonclick",page_depth:"1-大搜",to_url:t,logdata:""})});this.$container.on("input","#hbm-input__input",function(n){var r=n.target.value;t.params.input=r;if(!r){t.data.noresult=true}t.debounceFn(function(){t.getSuggestion(t.params,t.renderContent.bind(t,t.data))},500);var i=e(window).height();e("#js_b_bigsearch").css({minHeight:i-60+"px"});e(window).scrollTop(0);t.searchInputPosition();newClkObj.nanachiClk({button_id:"1-4-1",button_name:"大搜-H5搜索框",action_type:"buttonclick",page_depth:"1-大搜",to_url:"",logdata:""})});this.$container.on("touchstart",window,function(e){t.$container.find("#hbm-input__input").blur()})},isSuccessStatus:function(e){return e.ret===true&&e.data},debounceFn:function(e,t){var n=this;var r;if(n.debounce){r=setTimeout(function(){e();n.debounce=true},t)}n.debounce=false;return r}});return new n}(jQuery)}).call(window)},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["suggestion"]=new window.Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<div class="hp-bigsearch">\n    <div class="hbm-input__container">\n        <div class="hbm-input__back">\n            <i class="font-awsome ico_back">&#xe897;</i>\n        </div>\n        <div class="hbm-input__bigsearch">\n            <i class="font-awsome ico_search">&#xe8c3;</i>\n            <input id="hbm-input__input" class="hbm-input__input" placeholder="搜索景点门票" />\n            <i class="font-awsome ico_clear">&#xf093;</i>\n        </div>\n        <div class="hbm-input__cancel">\n            取消\n        </div>\n    </div>\n    <div id="hbm-list__result-wrapper">\n    </div>\n</div>\n'},useData:true});if(true)e.exports=window.QTMPL["suggestion"]},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["noresult"]=new window.Handlebars.template({1:function(e,t,n,r,i){var s,o,u=t!=null?t:e.nullContext||{},a=n.helperMissing;return'            <div class="hbl-item__wrapper">\n                <div class="hbl-item__main">\n                    <div class="hbl-item__icon">'+((s=(n.showBSIcon||t&&t.showBSIcon||a).call(u,t!=null?t.type:t,{name:"showBSIcon",hash:{},data:i}))!=null?s:"")+'</div>\n                    <a class="hbl-item__body" href="'+e.escapeExpression((o=(o=n.schemeUrl||(t!=null?t.schemeUrl:t))!=null?o:a,typeof o==="function"?o.call(u,{name:"schemeUrl",hash:{},data:i}):o))+'">\n                        <div class="hbl-item__title">\n                            <b class="hbl-item__text">'+((s=(n.showBSHighlight||t&&t.showBSHighlight||a).call(u,t!=null?t.text:t,"noresult_title",{name:"showBSHighlight",hash:{},data:i}))!=null?s:"")+"</b>\n                        </div>\n                    </a>\n                </div>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u,a='<div class="hbm-result__noresult">\n    <div class="hbm-noresult__sorry">\n        抱歉，没有搜索到相关信息\n    </div>\n    <div class="hbm-noresult__blank"></div>\n    <div class="hbm-noresult__recom">\n        <div class="hbm-recom__hint">\n            您还可以在去哪儿查找：\n        </div>\n        <div class="hbm-recom__list">\n';s=(o=(o=n.recommendLists||(t!=null?t.recommendLists:t))!=null?o:n.helperMissing,u={name:"recommendLists",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},typeof o==="function"?o.call(t!=null?t:e.nullContext||{},u):o);if(!n.recommendLists){s=n.blockHelperMissing.call(t,s,u)}if(s!=null){a+=s}return a+"        </div>\n    </div>\n</div>"},useData:true});if(true)e.exports=window.QTMPL["noresult"]},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["result"]=new window.Handlebars.template({1:function(e,t,n,r,i){var s,o,u=t!=null?t:e.nullContext||{},a=n.helperMissing;return'        <div class="hbl-item__wrapper">\n            <div class="hbl-item__main">\n                <div class="hbl-item__icon">'+((s=(n.showBSIcon||t&&t.showBSIcon||a).call(u,t!=null?t.type:t,{name:"showBSIcon",hash:{},data:i}))!=null?s:"")+'</div>\n                <a class="hbl-item__body" href="'+e.escapeExpression((o=(o=n.schemeUrl||(t!=null?t.schemeUrl:t))!=null?o:a,typeof o==="function"?o.call(u,{name:"schemeUrl",hash:{},data:i}):o))+'" rel="nofollow">\n                    <div class="hbl-item__title">\n                        <b class="hbl-item__text">'+((s=(n.showBSHighlight||t&&t.showBSHighlight||a).call(u,t!=null?t.text:t,"title",{name:"showBSHighlight",hash:{},data:i}))!=null?s:"")+'</b><div class="hbl-item__hint">'+((s=(n.showBSHighlight||t&&t.showBSHighlight||a).call(u,t!=null?t.hint:t,"hint",{name:"showBSHighlight",hash:{},data:i}))!=null?s:"")+'</div>\n                    </div>\n                    <div class="hbl-item__price-wrapper">'+((s=(n.showBSPrice||t&&t.showBSPrice||a).call(u,t!=null?t.price:t,{name:"showBSPrice",hash:{},data:i}))!=null?s:"")+"</div>\n                    "+((s=(n.showBSUrl||t&&t.showBSUrl||a).call(u,t!=null?t.hasUrl:t,{name:"showBSUrl",hash:{},data:i}))!=null?s:"")+"\n                </a>\n            </div>\n            \n            "+((s=(n.showBSSuggestion||t&&t.showBSSuggestion||a).call(u,t!=null?t.suggestionStyle:t,{name:"showBSSuggestion",hash:{},data:i}))!=null?s:"")+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u,a='<div class="hbm-result__result">\n    <div class="hbm-result__list">\n';s=(o=(o=n.list||(t!=null?t.list:t))!=null?o:n.helperMissing,u={name:"list",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},typeof o==="function"?o.call(t!=null?t:e.nullContext||{},u):o);if(!n.list){s=n.blockHelperMissing.call(t,s,u)}if(s!=null){a+=s}return a+"    </div>\n</div>"},useData:true});if(true)e.exports=window.QTMPL["result"]},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(e){"$doc:nomunge, $head:nomunge";function y(t,n,r,i){var s,o=n.document,u=o.getElementById(t);if(u){r.id=t;if(/MSIE/i.test(navigator.appVersion)){var a=[];a.push('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"');for(var f in r){if(r.hasOwnProperty(f)){f=f.toLowerCase();if(f==="data"){i.movie=r[f]}else if(f==="styleclass"){a.push(' class="',r[f],'"')}else if(f!=="classid"){a.push(" ",f,'="',r[f],'"')}}}a.push(">");for(var l in i){if(i.hasOwnProperty(l)){a.push('<param name="',l,'" value="',i[l],'" />')}}a.push("</object>");u.outerHTML=a.join("");s=o.getElementById(r.id)}else{var c=o.createElement("object");c.style.outline="none";c.setAttribute("type","application/x-shockwave-flash");for(var h in r){if(r.hasOwnProperty(h)){h=h.toLowerCase();if(h==="styleclass"){c.setAttribute("class",r[h])}else if(h!=="classid"){c.setAttribute(h,r[h])}}}for(var p in i){if(i.hasOwnProperty(p)&&p.toLowerCase()!=="movie"){var d=o.createElement("param");d.setAttribute("name",p);d.setAttribute("value",i[p]);c.appendChild(d)}}u.parentNode.replaceChild(c,u);s=c}if(t==="banner_dynamic_left"&&typeof e.codeReheight==="function"){e.codeReheight()}}return s}function b(e,t,n,r){if(!g())return null;return y(e,t,n,r)}function w(e){return r.getElementById(e)}function E(e,t){return e.getAttribute("data-"+t)}function C(e){var t=[];for(var n in e){t.push(n+"="+encodeURIComponent(e[n]))}return t.join("&")}function k(e){var t=x,n="/js.ng/";if(e.type==="qde_text"){n=e.adurl?"/"+e.adurl+"?":"/qadjs14_css.nghtml?"}var r=N;if(e.id===QNR.AD.__cur_qde_ad){N=String(+(new Date))+parseInt(Math.random()*1e7,10)}var i=["//",t,n,"framId=",e.id,"&",e.query,"&tile=",r];if(d){i.push("&city=",d)}if(u){i.push("&adtest=beta")}if(h){i.push(h)}return i.join("")}function L(e){return lt(e.id).urlPath(e)}function A(e){var t="";switch(e.type){case"qde":case"qde_text":t=k(e);break;case"qad":t=L(e);break;default:break}return t}function O(){return r.createElement("div")}function M(){var e=r.createElement("iframe");e.setAttribute("height",0);e.setAttribute("frameBorder",0);e.setAttribute("scrolling","no");e.style.display="none";return e}function _(e,t){if(t&&t.parentNode){t.parentNode.insertBefore(e,t)}}function D(e,t){var n=e==="div"?O():M();if(t&&t.style){n.style.cssText=t.style}if(e==="iframe"){n.style.display="none"}return n}function P(e,t){t=t||"div";var n=S(e),r=D(t,n);return r}function H(e){var t=P(e,"div"),n=w(e);if(n&&n.parentNode){n.parentNode.insertBefore(t,n)}return t}function B(e){var t=r.createElement("script");t.charset="utf-8";t.async=true;t.src=e;s.insertBefore(t,s.lastChild)}function F(e){if(!j){j=O();j.style.display="none";document.body.appendChild(j)}j.appendChild(e)}function q(){if(I)return I;var e=r[t]("abbr"),n=[];for(var i=0,s=e.length;i<s;i++){if(E(e[i],"type")&&E(e[i],"lazyAD")!=="1"){n.push(e[i])}}return n}function R(e,t){e=e||[];t=t||{};var n={},r,i,s,u=/chan=([a-z_]+)/,a;for(var f=0,c=e.length;f<c;f++){r=e[f];i=S(r);if(i.type==="qad"){i.callback=QNR.AD.getCallbackName(i.id,true)}s=A(i);if(!l&&i.type==="qde"){a=u.exec(s);if(a&&a[1])l=a[1]}if(s){n[i.id]=s}}return{ads:n,domain:o}}function z(){if(U){setTimeout(function(){if(U){U.parentNode.removeChild(U);U=null}},0)}}function W(e){var t=r.createElement("div");t.style.display="none";var n=[];f="//vata.qunar.com/vata?chan="+(l||""),n.push('<form name="vata_main_form" target="vata_main_frame" action="'+f+'" method="POST">');e.ads=e.ads||{};for(var i in e.ads){if(e.ads.hasOwnProperty(i)){n.push('<input type="text" name="',i,'" value="http:',e.ads[i],'" />')}}n.push("</form>");n.push("<iframe src='' name='vata_main_frame' id='vata_main_frame'></iframe>");t.innerHTML=n.join("");U=t;F(t);if(/MSIE/i.test(navigator.appVersion)){w("vata_main_frame").src="javascript:'<script>window.onload=function(){document.write(\\'<script>document.domain=\\\""+o+"\\\";parent.document.vata_main_form.submit();<\\\\/script>\\');document.close();};</script>'"}else{r.vata_main_form.submit()}}function X(e){var t=q();var n=[],r,i=function(t){r=E(t,"type");if(r==="qde_auto"){it(t)}else if(a===1||r==="qde_text"){st(t,e||{})}else{n.push(t)}};for(var s=0,o=t.length;s<o;s++){i(t[s])}var u=n.length;if(u==1){st(n[0],e||{})}else if(u>1){I=n;W(R(n,e))}}function V(e,t){if(e.attachEvent){e.attachEvent("onload",t)}else{e.onload=t}}function $(e,t){if(e==null||e!=e.window){return false}var n=e.frameElement;var r=e.document.body;var i=function(s){n.style.display="";var o=r.offsetHeight;if(!s){V(e,function(){i(true)})}if(o==0){n.style.display="none"}else{n.style.height=o+"px";t&&t()}};i()}function Q(e,t){var n=J[t];var r=n&&n.join("")||"";if(r){n.length=0;e.write(r)}else{ut(t,false)}}function Y(e,t){var n=G[t]||0;G[t]="";n&&e.write(n)}function Z(e,t){e=e||"ad_queue_all";if(!J[e]){J[e]=[]}J[e].push(t)}function et(e){return c+(K?"&rnd="+e:"")+"#"+e}function tt(e,t,n,r){var i=[];if(e){i[i.length]="<style>"+e+"</style>"}if(t){i[i.length]=t.replace(/(scr)_(ipt)/gi,"$1$2")}if(n){i[i.length]='<script type="text/javascript">'+n+"</script>"}if(r){i[i.length]='<script type="text/javascript" src="'+r+'"></script>'}return i.join("")}function nt(e,t){var n=et(e),r=P(e,"iframe");r.src=n;if(t==1){F(r)}else{var i=w(e);_(r,i)}}function rt(e,t,n){var r=w(e),i=P(e,"iframe");i.style.display="";i.src=t;i.id=n||e;r.parentNode.replaceChild(i,r)}function it(e){var t=e.getAttribute("data-src");if(t){rt(e.id,t)}}function st(e){var t=S(e),n=t.id,r,i,s="";if(!n){return}if(t.type==="qad"){t.callback=QNR.AD.getCallbackName(n);i=A(t);if(i)B(i)}else{i=A(t);if(!i)return;if(t.type==="qde_text"){s="call_show=1;";r=tt("","",s,i);Z(n,r)}else{r='<script type="text/javascript" src="'+i+'"></script>';G[n]=r}nt(n,0)}}function ot(e,t,n,r,i,s){if(n==='<div style="display:none"></div>'){return}var o=w(e),u="",f=false;if(!o)return;f=n&&/top.QNR.AD.run_in_content/.test(n);if(f)s=1;if(!f){ut(e,true)}if(a===1){if(s!=1){r=r||"";r="call_show = 1;"+r}u=tt(t,n,r,i);if(f){u=u+"<script>writeContent(document,Current_ad_id);</script>"}Z(e,u);return}if(s==1){u=tt(t,n,r,i);if(u){u='<script type="text/javascript">Current_ad_id = "'+e+'";</script>'+u}}else{r="call_show=1;"+r;u=tt(t,n,r,i);s=0}Z(e,u);nt(e,s)}function ut(e,t){var n=QNR.AD._DE;if(e){if(n[e]){n[e](t);delete n[e]}return}for(var r in n){n[r](false)}QNR.AD._DE={}}function at(e){this.$aid=e;this.params={}}function lt(e,t){if(!ft[e]){ft[e]=new at(e)}t&&t(ft[e]);return ft[e]}if(typeof e.QNR==="undefined"){e.QNR={}}QNR._AD={};var t="getElementsByTagName";var n=e,r=n.document,i=r.body,s=r[t]("head")[0],o="qunar.com",u=false,a=0,f,l,c,h,p,d,v;try{r.domain=o}catch(m){}var g=function(){var e=n.navigator,t="application/x-shockwave-flash";var r=false,i,s;var o=e.mimeTypes&&e.mimeTypes[t]?e.mimeTypes[t].enabledPlugin:0;if(o){s=o.description;if(parseInt(s.substring(s.indexOf(".")-2),10)>=8){r=true}}else if(n.ActiveXObject){try{i=new n.ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(i){r=true}}catch(u){}}g=function(){return r};o=i=s=e=null;return r};var S=function(){function n(t){var n={},r;if(!t)return{};n.id=t.id;for(var i=0,s=e.length;i<s;i++){r=e[i];n[r]=E(t,r)}if(n.type==="qde_text"){n["adurl"]=E(t,"adurl")}return n}var e=["type","style","query","main"],t={};return function(e){var r,i;if(typeof e==="string"){r=e}else{r=e.id;i=e}if(!t[r])t[r]=n(i||w(r));return t[r]}}();var x="qde.qunar.com",T="a.qunar.com";var N=String(+(new Date))+parseInt(Math.random()*1e7,10);var j;var I;var U;var J={};var K=/MSIE 6\.0/.test(navigator.userAgent);var G={};at.prototype={constructor:at,createCall:function(e){var t=this;QNR._AD[this.$aid]=function(n){e(n,t)}},createDiv:function(){return H(this.$aid)},set:function(e,t){this.params[e]=t;return this},getId:function(){return this.$aid},run_in_iframe:function(e,t){if(typeof t=="undefined"){t=1}QNR.AD.add_AD_iframe(this.$aid,e,t)},urlPath:function(e){var t=["//",T,"/vataplan?","framId=",e.id,"&",e.query,"&callback=",e.callback,"&tile=",N];if(p){t.push(p)}var n=C(this.params);n&&t.push("&",n);if(d){t.push("&city=",d)}return t.join("")},load:function(){QNR.AD.loadOneAD(this.$aid)}};var ft={};QNR.AD={version:"4.3",_AD:{},_DE:{},run_in_content:ot,run_queue_list:function(){var e="ad_queue_all";var t=J[e];var n=t&&t.join("")||"";if(n){t.length=0;n+='<script type="text/javascript">writeContent(document,"ad_queue_all");</script>';Z(e,n);nt(e,1)}z();ut()},writeHeadScript:Y,create_div_container:H,writeContent:Q,$inject_flash:b,createAdFrame:rt,createQAd:lt,add_AD_iframe:function(e,t,n){if(!t)return;if(n)t=t+'<script type="text/javascript">call_show=1;</script>';Z(e,t);nt(e,0)},init:function(e){u=e.debug||false;a=e.type||"";if(K){a=1}d=e.ip||"";h=e.qde_plus||"";p=e.qad_plus||"";c=e.blank_html||"";v=e;if(u){x="qdebeta.qunar.com"}X(e)},show:function(e,t){$(e,function(){QNR.AD.callWinShowFun(t,e)})},getCallbackName:function(e,t){return(t?"parent.":"")+"QNR._AD."+e},callWinShowFun:function(e,t){var n=e+"_win_",r=QNR._AD[n];if(r)r(e,t)},createWinShowCall:function(e,t){var n=e+"_win_";QNR._AD[n]=t},createCallback:function(e,t){var n=lt(e);n.createCall(function(e){var r=n.createDiv();t(r,e)})},createQdeCallback:function(e,t){QNR.AD._DE[e]=function(n){t(n,e)}},callBackQDE:ut,change_one_async:function(){var e=v;e.type=1;QNR.AD.init(e);z()},loadOneAD:function(e){var t=w(e);if(t){st(t)}}}})(this)}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;window.QNR.ips=function(e){function o(e,n){s.push(e);if(i){return}var o=t.createElement("script");a.callback=function(e){if(r!==null){return}r=e.city||"";u();o.parentNode.removeChild(o)};o.type="text/javascript";o.charset="utf-8";o.src="//ws.qunar.com/ips.jcp?callback=QNR.ips.callback&_="+ +(new Date);o.async=true;var f=t.getElementsByTagName("head");container=f?f[0]:document.documentElement;container.insertBefore(o,container.firstChild);i=1;setTimeout(function(){a.callback({})},n||2e3)}function u(){for(var e=0,t=s.length;e<t;e++){s[e].call(null,r)}s.length=0}function a(e,t){e=e||function(){};if(r!==null){e.call(null,r)}else{o(e,t)}}var t=e.document,n=location.search.match(/debug=city=([^&#]+)/),r=n?decodeURI(n[1]):null,i=0,s=[];return a}(this)}).call(window)},function(e,t,n){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(){function e(e){return document.getElementById(e)}function t(e,t,n){var r=n&&n.key_data&&n.key_data.length;t.style.display="none";if(!r){return}var i=['<div class="topicLink">'],n=n.key_data,s,o;for(var u=0;u<r;u++){o=n[u];s=["http://clk.qunar.com/q?k=",o.s||"","&e=",o.e].join("");i.push('<p><a href="',s,'" target="_blank" title="',o.title+'">',o.description,"</a></p>")}i.push("</div>");i=i.join("");$(".js-searchbox-ad").html(i).on("click","a",function(){gaClk("机票searchbox|topicLink")})}function r(){var t=e("ifmRightTextlink_head");if(t)t.style.display="block";t=e("ifmRightTextlink_foot");if(t)t.style.display="block"}function i(){var e="ad_home_bottombar_qad";setTimeout(function(){var t=document.getElementById("ad_home_bottombar_qad");if(!t){var n='<abbr id="ad_home_bottombar_qad" data-type="qad"  data-style="" data-query=""></abbr>';$(".mod-home-bottombar").html("").append(n);t=document.getElementById("ad_home_bottombar_qad")}var r=4;var i=1200;var s=$(".q_page").width();if(s<1200){var r=3;var i=980}var o="vataposition=QNR_NmQ%3D_CN&tag=99&rows="+r+"&cur_page_num=0&rep=1&f=s";t.setAttribute("data-query",o);t.setAttribute("data-style","width:"+i+"px;");QNR.AD.loadOneAD(e)},500)}function s(e){e("")}function o(e){e("")}function a(e){return~location.search.indexOf(e)}QNR.AD.getIpAddress=function(e){QNR.ips(e)};QNR.AD.createWinShowCall("ifmRightTextlink",function(e,t){r()});QNR.AD.createCallback("ifrCataAd",function(e,t){e.style.display="none";var n=t&&t.key_data&&t.key_data.length;if(!n)return;var r=t.key_data[0].description;r=r.replace(/(st)_(yle)/ig,"$1$2");QNR.AD.add_AD_iframe("ifrCataAd",r,1)});QNR.AD.createCallback("flightSearchBoxAd",function(e,n){t("flightSearchBoxAd",e,n)});QNR.AD.createCallback("QAD_fineBiz",function(e,t){var n=$(e),r=t&&t.key_data&&t.key_data.length;if(!r)return;var i=t.key_data[0].description;i=i.replace(/src="http:\/\//g,'src="//');n.html(i).parent().removeClass("loading");$("#QAD_fineBiz").remove()});QNR.AD.createQdeCallback("ad_home_bottombar",function(e){var t=location.href.indexOf("testAd")>-1;if(!e||t){i()}});QNR.AD.createCallback("ad_home_bottombar_qad",function(e,t){var r=$(".q_page").width(),i=1200;if(r<1200){i=976}var s=t.key_data;if(!t||!s){$(".mod-home-bottombar").hide();return}if(typeof s[0]=="undefined"){$(".mod-home-bottombar").hide();return}if(s.length<3){$(".mod-home-bottombar").hide();return}if(s.length<=3&&r>=1200){$(".mod-home-bottombar").hide();return}for(var o in s){var u=s[o];if(o==s.length-1)u.clazz="bad-last";u.show=["http://clk.qunar.com/q?k=",u.s||"","&e=",u.e].join("")}var a={adWidth:i,key_data:s};var f=n(92);$(e).html(f(a))});var u={};u.type=a("debug=type=open")?1:0;u.debug=a("adtest=beta");u.blank_html="//www.qunar.com/vataframe/b.html?_=20120830";u.qde_plus="";var f=function(){QNR.AD.isInited=false;(QNR.AD.getIpAddress||s)(function(e){u.ip=encodeURIComponent(e);(QNR.AD.getAdsQuery||o)(function(e){u.qde_plus=e;if(a("debug=charge=true")){u.qde_plus+="&cm=charged"}QNR.AD.init(u);QNR.AD.isInited=true;if(QNR.AD.initCallBack){QNR.AD.initCallBack();QNR.AD.initCallBack=null}})})};setTimeout(f,150)})()}).call(window)},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["ad_home_bottombar_qad"]=new window.Handlebars.template({1:function(e,t,n,r,i){var s,o=t!=null?t:e.nullContext||{},u=n.helperMissing,a="function",f=e.escapeExpression;return'	<li class="'+f((s=(s=n.clazz||(t!=null?t.clazz:t))!=null?s:u,typeof s===a?s.call(o,{name:"clazz",hash:{},data:i}):s))+'">\n		<a class="link-pic" target="_blank" href="'+f((s=(s=n.show||(t!=null?t.show:t))!=null?s:u,typeof s===a?s.call(o,{name:"show",hash:{},data:i}):s))+'" title="'+f((s=(s=n.title||(t!=null?t.title:t))!=null?s:u,typeof s===a?s.call(o,{name:"title",hash:{},data:i}):s))+'">\n			<div class="link-bgpic"><img class="pngImg" src="'+f((s=(s=n.img||(t!=null?t.img:t))!=null?s:u,typeof s===a?s.call(o,{name:"img",hash:{},data:i}):s))+'"></div>\n			<dl class="link-text">\n			      <dt><a target="_blank" href="'+f((s=(s=n.show||(t!=null?t.show:t))!=null?s:u,typeof s===a?s.call(o,{name:"show",hash:{},data:i}):s))+'">'+f((s=(s=n.title||(t!=null?t.title:t))!=null?s:u,typeof s===a?s.call(o,{name:"title",hash:{},data:i}):s))+'</a></dt>\n				  <dd><a target="_blank" href="'+f((s=(s=n.show||(t!=null?t.show:t))!=null?s:u,typeof s===a?s.call(o,{name:"show",hash:{},data:i}):s))+'">'+f((s=(s=n.description||(t!=null?t.description:t))!=null?s:u,typeof s===a?s.call(o,{name:"description",hash:{},data:i}):s))+"</a></dd>\n			</dl>\n		</a>		\n	</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u,a=t!=null?t:e.nullContext||{},f=n.helperMissing,l="function",c='<ul class="footer-link-text-'+e.escapeExpression((o=(o=n.adWidth||(t!=null?t.adWidth:t))!=null?o:f,typeof o===l?o.call(a,{name:"adWidth",hash:{},data:i}):o))+'">\n';s=(o=(o=n.key_data||(t!=null?t.key_data:t))!=null?o:f,u={name:"key_data",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},typeof o===l?o.call(a,u):o);if(!n.key_data){s=n.blockHelperMissing.call(t,s,u)}if(s!=null){c+=s}return c+"</ul>\n"},useData:true});if(true)e.exports=window.QTMPL["ad_home_bottombar_qad"]},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(){function d(){window.clk_type="下拉";var e=$('<div class="mod-home-topbar"><a href="javascript:void(0)" rel="nofollow" class="btn" style="display:none;background:url('+a.imgBtn+') no-repeat center bottom"></a><a class="link" href="'+a.link+'" style="background:url('+a.imgTop+') no-repeat center top"></a><a class="link-large" href="'+a.link+'" style="background:url('+a.imgTopPull+') no-repeat center top"></a></div>'),n=e.find(".link"),i=e.find(".link-large"),s=e.find(".btn"),o=$('<a href="'+l.link+'" rel="nofollow"><img src="'+l.imgRight+'"/></a>'),u=false,f;$(function(){gaClk("广告|下拉")});r.append(o);t.prepend(e);var c=new Image;c.src=a.imgTopPull;$(function(){setTimeout(f,1e3);setTimeout(function(){s.show()},5e3);setTimeout(function(){f()},6500)});f=function(){var t=e.is(":animated"),r=u?a.imgTop:a.imgTopPull,o=u?49:245,f=u?"animated bounce":"animated lightSpeedIn";if(t)return false;!u&&n.hide()&&i.show();s.addClass(f).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass(f)});e.animate({height:o},h,"swing",function(){!!u&&n.show()&&i.hide();u=!u});n.animate({height:o},h,"swing")};s.on("click",function(){if(parseInt($(".mod-home-topbar").css("height"))>200){gaClk("广告|拉绳向上")}else{gaClk("广告|拉绳向下")}f()});n.on("click",function(){gaClk("广告|下拉|点击")});o.on("click",function(){gaClk("广告|下拉广告|右测|点击")})}function v(){window.clk_type="垫底";t.addClass("home-container-bg");t.prepend('<a class="bg-cover" href="'+f.link+'" style="background:url('+f.imgLarge+') no-repeat center top"></a>');$(function(){gaClk("广告|垫底")});$(".home-top").on("click",function(e){if(e.target===this){gaClk("广告|垫底|点击");window.location.href=f.link}})}$(".home-top-right").on("click","a",function(){});return;var e;if(Math.random()>.5){e="<a href='http://go.dujia.qunar.com/'><img src='http://simg4.qunarzz.com/home/tmp/3.jpg' /></a>"}else{e="<a href='http://dujia.qunar.com/tejia'><img src='http://simg4.qunarzz.com/home/tmp/4.jpg' /></a>"}$(".home-top-right").html(e);return;var t=$(".q_pagecontair"),n=$("#js_searchbox"),r=$(".home-top-right");var i=[{link:"http://dujia.qunar.com/tejiatf=tejiaindexnew",imgTop:"http://simg4.qunarzz.com/home/res/1900-49.jpg",imgTopPull:"http://simg4.qunarzz.com/home/res/1900-245.jpg",imgBtn:"http://simg4.qunarzz.com/home/res/btn-0.jpg"},{link:"http://piao.qunar.com/topic/gat1409.htm",imgTop:"http://simg4.qunarzz.com/home/res/top-1.png",imgTopPull:"http://simg4.qunarzz.com/home/res/toppull-1.png",imgBtn:"http://simg4.qunarzz.com/home/res/btn-1.jpg"},{link:"http://guide.qunar.com",imgTop:"http://simg4.qunarzz.com/home/res/top-2.jpg",imgTopPull:"http://simg4.qunarzz.com/home/res/toppull-2.jpg",imgBtn:"http://simg4.qunarzz.com/home/res/btn-2.jpg"}];var s=[{link:"http://dujia.qunar.com/tejiatf=tejiaindexnew",imgLarge:"http://simg4.qunarzz.com/home/res/1900-354.jpg"},{link:"http://guide.qunar.com/",imgLarge:"http://simg4.qunarzz.com/home/res/large-2.jpg"}];var o=[{link:"http://dujia.qunar.com/tejiatf=tejiaindexnew",imgRight:"http://simg4.qunarzz.com/home/res/464324.jpg"},{link:"http://piao.qunar.com/ticket/redPacket.htm",imgRight:"http://simg4.qunarzz.com/home/res/right-1.jpg"},{link:"http://guide.qunar.com/",imgRight:"http://simg4.qunarzz.com/home/res/right-2.jpg"}];var u=[{link:"http://dujia.qunar.com/tejiatf=tejiaindexnew",imgUrl:"http://simg4.qunarzz.com/home/res/tj.jpg"},{link:"http://guide.qunar.com/zhuanti/korea/index.html",imgUrl:"http://simg4.qunarzz.com/home/res/mid-2.jpg"}];var a=i[0];var f=s[0];var l=o[0];var c=u[0];var h=500,p=Math.random()>.5;if(p){d()}else{v()}})()}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;$(function(){$("body").on("click",".q_header_app_logo",function(){gaClk("顶部-app下载入口")});$("body").on("click",".q_header_logo",function(){gaClk("左上角logo")});$("body").on("click",".mod-home-topbar a",function(){newClkObj.nanachiClk({button_id:"12-1-1",button_name:"广告-搜索框上",action_type:"buttonclick",page_depth:"12-广告",to_url:this.href,logdata:""})});$("body").on("click",".home-top-right a",function(){newClkObj.nanachiClk({button_id:"12-2-1",button_name:"广告-搜索框右",action_type:"buttonclick",page_depth:"12-广告",to_url:this.href,logdata:""})});$("body").on("click",".mod-home-mid-advertisement a",function(){gaClk("banner");newClkObj.nanachiClk({button_id:"12-3-1",button_name:"广告-搜索框下",action_type:"buttonclick",page_depth:"12-广告",to_url:this.href,logdata:""})});$("body").on("click",".banner_home_qingtianzhu a",function(){newClkObj.nanachiClk({button_id:"12-4-1",button_name:"广告-今日特惠度假右",action_type:"buttonclick",page_depth:"12-广告",to_url:this.href,logdata:""})});$("body").on("click",".mod-home-minbanner a",function(){newClkObj.nanachiClk({button_id:"12-5-1",button_name:"广告-今日特惠度假下",action_type:"buttonclick",page_depth:"12-广告",to_url:this.href,logdata:""})});$("body").on("click",".mod-editor-recommend-left a",function(){newClkObj.nanachiClk({button_id:"12-6-1",button_name:"广告-度假banner",action_type:"buttonclick",page_depth:"12-广告",to_url:this.href,logdata:""})});$("body").on("click",".mod-editor-recommend .l_rside a",function(){newClkObj.nanachiClk({button_id:"12-7-1",button_name:"广告-旅行资讯",action_type:"buttonclick",page_depth:"12-广告",to_url:this.href,logdata:""})});$("body").on("click",".mod-home-bottombar a",function(){newClkObj.nanachiClk({button_id:"12-8-1",button_name:"广告-骆驼书下",action_type:"buttonclick",page_depth:"12-广告",to_url:this.href,logdata:""})});$("body").on("click",".mod-home-appfoot",function(){gaClk("底部app入口")});$("body").on("click",".mod-home-appfoot a",function(){newClkObj.nanachiClk("8_9",this.href)});$("body").on("click","#js_searchbox_package .ch_tus_spot a",function(){var e=$("#js_searchbox_package .ul_search_tab li.cur a").text();var t="度假|"+e+"|link";gaClk(t);SAReport(t)});$("body").on("click","#js_searchbox_piao .tag-list a",function(){gaClk("门票|link");var e=$("#js_searchbox_piao .ul_search_tab li.cur a").text();SAReport("门票|"+e+"|link")});$("body").on("click","#js_searchbox_tuan .ch_tus_spot a",function(){gaClk("团购|link")})})}).call(window)},function(e,t,n){(function(){var e=typeof e==="function"&&!e.amd?e:false;var t=new Date("2015/4/30");if(SERVER_TIME.getTime()<t.getTime()){setTimeout(function(){var e=n(96);$("body").append(e);$(".capital-box").show()},0)}else{return}}).call(window)},function(e,t){e.exports='\n<!-- capital -->\n    <style type="text/css">\n        /* capital */\n        *html body{background-image: url(about:blank);background-attachment: fixed;}\n        /*position:fixed;_position:absolute;bottom:10px;left:50%;margin-left:497px;*/\n        .capital-box{width:150px;height:121;z-index:400; display: none; }\n        .capital-box a{display:block;text-decoration:none;cursor:pointer;}\n        .capital-box i{position:relative;z-index:-1;font:normal 12px/12px \'宋体\';top:3px;color:#fff;}\n        .capital-box a.capital-link{background: url(//source.qunarzz.com/capital/safeday20150429v1.png) no-repeat center center;width:150;height:108px;}\n        .capital-box a.capital-close{background:url(//source.qunarzz.com/capital/capital-col.png) no-repeat center center;width:9px;height:9px;position:absolute;right:3px;top:0;}\n        .capital-box.fixed{position:fixed}\n        </style>\n\n<div class="capital-box" id="st">\n    <a href="javascript:;" rel="nofollow" title="关闭" class="capital-close"><i></i></a>\n    <a href="http://bj429.com.cn/" target="_blank" title="网络安全日的活动宣传" class="capital-link"><i></i></a>\n</div>\n<script type="text/javascript">\n<!--\n    //capital-box\n$(function () {\n       \n        $(".capital-close").click(function () {\n            $(".capital-box").hide();\n        });\n        flushFloat();\n        $(window).scroll(function () {\n            flushFloat();\n        });\n        $(window).resize(function () {\n            flushFloat();\n        });\n        function flushFloat() {\n            var scrollTop = $(document).scrollTop();\n            var scrollLeft = $(document).scrollLeft();\n            var left = $(\'.q_page\').offset().left;\n            var pageWidth=$(\'.q_page\').width();\n            if (($(window).height() + scrollTop - 500) < 140) {\n                // //如果右下角的空位高度小于120\n                // $(\'#st\').css({\n                //     "position" : "absolute",\n                //     "top" : 520 + \'px\',\n                //     "left" : left + pageWidth + 7 + \'px\'\n                // })\n            } else {\n                if (window.XMLHttpRequest) {\n                    //页面能容下logo\n                    if($(window).width()>($(\'.q_page\').width()+7*2+300)){ \n                        $(\'#st\').css({\n                            "position" : "fixed",\n                            "top" : \'\',\n                            "bottom" : "10px",\n                            "left" : left + pageWidth + 7 - scrollLeft + \'px\' //q_page右边界相对于浏览器左边框的位移\n                        });\n                    }else{\n                        $(\'#st\').css({\n                            "position" : "fixed",\n                            "top" : \'\',\n                            "left":\'inherit\',\n                            "bottom" : "10px", \n                            "right" : \'0px\'\n                        });\n                    }\n                } else {\n                    //ie6\n                     //页面能容下logo\n                    if($(window).width()>($(\'.q_page\').width()+7*2+300)){ \n                       \n                        $(\'#st\').css({\n                            "position" : "absolute",\n                            "top" :scrollTop+ $(window).height() -110 + \'px\',\n                            "left" : left + pageWidth + 7 + \'px\'\n                        });\n\n                    }else{\n                        $(\'#st\').css({\n                            "position" : "absolute",\n                            "top" :scrollTop+ $(window).height() -110 + \'px\',\n                            "left":\'\',\n                            "bottom" : "10px", \n                            "right" : \'0px\'\n                        });\n                    }                \n                }\n            }\n        }\n    });\n//-->\n</script>\n<!-- capital -->'},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(){function o(){n(e["domestic"],"domestic");s();i()}var e={domestic:"https://ws.qunar.com/lowerPrice.jcp",inter_ow:"https://ws.qunar.com/lpisearchd?from=&to=Hot&month=All&cachefrom=%E5%8C%97%E4%BA%AC&cacheto=%E6%96%B0%E5%8A%A0%E5%9D%A1&type=ow&source=fhome&_=1583746650162",inter_rt:"https://ws.qunar.com/lpisearchd?from=&to=Hot&month=All&cachefrom=%E5%8C%97%E4%BA%AC&cacheto=%E6%96%B0%E5%8A%A0%E5%9D%A1&type=rt&source=fhome&_=1583746650162"};var t=function(e,t){var n=[];var i=t!=="domestic";if(i){n=e.data.splice(0,10)}else{var s=e.ipCity;var o=e.data;var u=!o[s];var a="";if(!u){a=s}else{a="北京"}n={data:o[a].records.splice(0,10),city:a}}r(n,t)};var n=function(e,n){$.ajax({url:e,type:"get",contentType:"application/json",dataType:"jsonp",success:function(e){$(".mod-home-"+n+"-body").removeClass("loading");t(e,n)},error:function(){$("#mod-home-flight-wrapper").hide()}})};var r=function(e,t){var n=t!=="domestic",r=t==="inter_rt";var i=e;if(e.city){i=e.data}var s=$('<ul class="mod-home-flight-ul"></ul>');for(var o=0;o<i.length;o++){var u=i[o];var a=$("<li></li>");var f=$('<a class="mod-home-flight-link" href="#" target="_blank" rel="nofollow"></a>');var l=$('<div class="mod-home-flight-place"></div>');var c=$("<span></span>");var h=$("<span></span>");var p=$('<i class="mod-home-flight-icon"></i>');l.append(c).append(p).append(h);var d=$('<div class="mod-home-flight-date"></div>');var v=$('<div class="mod-home-flight-price"></div>');var m=$('<span class="mod-home-flight-price-icon"></span>');var g=$('<span class="mod-home-flight-price-count"></span>');var y=$('<span class="mod-home-flight-price-word">起</span>');v.append(m).append(g).append(y);var b=$('<span class="mod-home-flight-discount"></span>');var w=$('<div class="mod-home-flight-priceFlex"></div>');w.append(v).append(b);var E=$('<div class="mod-home-flight-btn">立抢</div>');a.append(f);f.append(l).append(d).append(w).append(E);s.append(a);if(n){var S=new Date(u.dtime);c.text(u.ffrom);h.text(u.fto);d.text(S.getMonth()+1+"月"+S.getDate()+"日");g.text(u.price)}else{var x=new Date(u.date);c.text(e.city);h.text(u.arrCity);d.text(x.getMonth()+1+"月"+x.getDate()+"日");g.text(u.price);b.text(u.discount+"折")}if(r){var T=new Date(u.dtime);var N=new Date(u.atime);var C=T.getMonth()+1+"月"+T.getDate()+"日";var k=N.getMonth()+1+"月"+N.getDate()+"日";p.text("");d.text(C+" -- "+k)}else{p.text("")}var L="";if(r){L="https://flight.qunar.com/twell/flight/Search.jsp?searchType=RoundTripFlight&from=tejia_inton_search&ishttps=1&fromCity="+u.ffrom+"&toCity="+u.fto+"&fromDate="+u.dtime+"&lowestPrice="+u.price+"&toDate="+u.atime}else if(n){L="https://flight.qunar.com/twell/flight/Search.jsp?searchType=OnewayFlight&from=tejia_inter_search&ishttps=1&fromCity="+u.ffrom+"&toCity="+u.fto+"&fromDate="+u.dtime+"&lowestPrice="+u.price}else{L="https://flight.qunar.com/twell/flight/Search.jsp?fromCity="+e.city+"&toCity="+u.arrCity+"&fromDate="+u.date+"&toDate="+u.date+"&searchType=OnewayFlight&from=tejia_d_search&ishttps=1"}f.attr("href",L);if((o+1)%5===0){a.addClass("noMarginRight")}}$(".mod-home-"+t+"-body").html(s)};var i=function(){var t=$(".flight-head-nav");for(var r=0;r<t.length;r++){(function(r){var i=t[r];$(i).find("li").on("mouseover",function(){var t=$(this);var r=$(t.children()[0]);var i=r.attr("data-type");var o=$(".mod-home-"+i+"-body").children().length;if(!o){n(e[i],i)}r.addClass("active");r.parent().siblings().find(".active").removeClass("active");$(".mod-home-flight-body").children("*").css({display:"none"});$(".mod-home-"+i+"-body").css({display:"block"});s();newClkObj.nanachiClk({button_id:"5-"+(t.index()+1),button_name:"特价机票-"+r.text(),action_type:"buttonclick",page_depth:"5-特价机票",to_url:"",logdata:""})})})(r)}$(".flight-head-more").on("click","a",function(){newClkObj.nanachiClk({button_id:"5-4",button_name:"特价机票-更多低价机票",action_type:"buttonclick",page_depth:"5-特价机票",to_url:this.href,logdata:""})});$(".mod-home-domestic-body").on("click","a",function(){newClkObj.nanachiClk({button_id:"5-1-1",button_name:"特价机票-国内机票商品",action_type:"buttonclick",page_depth:"5-特价机票",to_url:this.href,logdata:""})});$(".mod-home-inter_ow-body").on("click","a",function(){newClkObj.nanachiClk({button_id:"5-2-1",button_name:"特价机票-国际单程商品",action_type:"buttonclick",page_depth:"5-特价机票",to_url:this.href,logdata:""})});$(".mod-home-inter_rt-body").on("click","a",function(){newClkObj.nanachiClk({button_id:"5-3-1",button_name:"特价机票-国际往返商品",action_type:"buttonclick",page_depth:"5-特价机票",to_url:this.href,logdata:""})})};var s=function(){var e=$("#mod-home-flight-wrapper").find($(".active")).attr("data-type");if(e==="domestic"){$(".flight-head-more-link").attr("href","http://flight.qunar.com/site/lplist.htm")}else{$(".flight-head-more-link").attr("href","http://flight.qunar.com/site/lplist.htm?searchType=international")}};o()})()}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(){function c(){a(s["must_try"],"must_try");l()}var e=window.__ipCity.split("__")[0];var t={"北京":"beijing_city","成都":"chengdu","广州":"guangzhou","杭州":"hangzhou","昆明":"kunming","青岛":"qingdao","上海":"shanghai_city","深圳":"shenzhen","西安":"xian","重庆":"chongqing_city","北海":"beihai","大理":"dali","大连":"dalian","东莞":"dongguan","佛山":"foshan","福州":"fuzhou_fujian","贵阳":"guiyang","桂林":"guilin","哈尔滨":"haerbin","海口":"haikou","合肥":"hefei","惠州":"huizhou_guangdong","济南":"jinan","嘉兴":"jiaxing","兰州":"lanzhou","丽江":"lijiang","南昌":"nanchang","南京":"nanjing","南宁":"nanning","宁波":"ningbo","黔东南":"qiandongnan","秦皇岛":"qinhuangdao","泉州":"quanzhou","三亚":"sanya","厦门":"xiamen","沈阳":"shenyang","石家庄":"shijiazhuang","苏州":"suzhou_jiangsu","太原":"taiyuan","天津":"tianjin_city","威海":"weihai","温州":"wenzhou","乌鲁木齐":"wulumuqi","无锡":"wuxi","武汉":"wuhan","西宁":"xining","烟台":"yantai","长沙":"changsha","郑州":"zhengzhou","珠海":"zhuhai"};var n=window.Cookie._getCookieHash();var r=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate();var i=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+((new Date).getDate()+1);var s={must_try:"/hotel/mustTry",hot_hotel:"/hotel/seqs",recommend:"/hotel/details"};var o=function(e,t){var n=[];for(var r=0;r<e.length;r++){var i=e[r];if(i.status===t){n.push(i)}}return n};var u=function(u){var a={userName:n._q||"",bizVersion:"17",uuid:"",ids:u,cityUrl:t[e],cityType:1,channelId:1,channel:0,fromDate:r,toDate:i};var l={cid:"",uid:n.HN1||"",vid:"93000001",gid:n.HN1||"",uuid:"",sid:"",aa:"",aid:"",appleid:"",iid:"",mac:"",model:"",osVersion:"",ke:"",t:"h_hlistSeqs",msg:"",un:"",mno:"",nt:"",adid:"",ref:"",lat:"",lgt:"",catom:"",usid:""};$.ajax({url:s["recommend"],type:"post",data:{b:JSON.stringify(a),c:JSON.stringify(l),source:"website",qrt:"h_hlistSeqs"},success:function(e){var t=e.data.data.hotels;var n=o(t,0);n=n.concat(o(t,2)).concat(o(t,1));f(n.splice(0,5),"recommend")},error:function(e,t,n){$("#mod-home-hotel-wrapper").hide()}})};var a=function(n,r){$.ajax({url:n,type:"get",headers:{"Content-Type":"application/json;charset=utf-8"},data:{city:t[e]||"beijing_city"},success:function(e){if(r==="must_try"){f(e.data.splice(0,5),r)}else if(r==="hot_hotel"){u(e.data)}},error:function(e,t,n){$("#mod-home-hotel-wrapper").hide()}})};var f=function(e,t){var n=$('<ul class="mod-home-hotel-ul"></ul>');if(t==="must_try"){for(var r=0;r<e.length;r++){var i=e[r];var s=$("<li></li>");var o=$('<a class="mod-home-hotel-link mod-home-hotel-link__must" target="_blank"></a>');s.append(o);var u=$('<div class="mod-home-hotel-title"></div>');var a=$('<div class="mod-home-hotel-words"></div>');var f=$('<i class="mod-home-hotel-icon"></i>');u.append(a).append(f);var l=$('<div class="mod-home-hotel-desc"></div>');o.append(u).append(l);n.append(s);s.css({backgroundImage:"url("+i.listImg+")"});var c="https://hotel.qunar.com/cn/beijing_city/rankingList2/"+i.id+"/?fromDate=2020-03-09&toDate=2020-03-10&poiName=%E5%85%A8%E5%9F%8E&hotelSource=5401";o.attr("href",c);a.text(i.title);l.text(i.desc);if((r+1)%5===0){s.addClass("noMarginRight")}}}else{for(var r=0;r<e.length;r++){var i=e[r];var s=$('<li class="mod-home-hotel-recommend"></li>');var o=$('<a class="mod-home-hotel-link" target="_blank"></a>');var h=$('<img class="mod-home-hotel-img"></div>');var p=$('<div class="mod-home-hotel-name"></div>');var d=$('<div class="mod-home-hotel-score"></div>');var v=$('<div class="mod-home-hotel-remark"></div>');var m=$('<div class="mod-home-hotel-address"></div>');var g=$('<div class="mod-home-hotel-tagList"></div>');var y=$('<div class="mod-home-hotel-price"></div>');var b=$('<div class="mod-home-hotel-num"></div>');var w=$('<div class="mod-home-hotel-qi">起</div>');var E=i.seqNo;var S=E.lastIndexOf("_");var x=E.slice(0,S);var T=E.slice(S+1);var c="https://hotel.qunar.com/cn/"+x+"/dt-"+T+"/?hotelSource=5403";o.attr("href",c);n.append(s);s.append(o);o.append(h).append(p).append(d).append(v).append(m).append(g).append(y);y.append(b).append(w);var N=i.imageid;var C=N.replace(".webp",".jpg");h.attr("src",C);p.text(i.name);d.text(i.score+"分");v.text(i.commentCountDesc);m.text(i.locationInfo);b.text(i.currencySign+i.price);if((r+1)%5===0){s.addClass("noMarginRight")}var k=[];for(var L=0;L<i.activity.length;L++){var A=i.activity[L];if(A.postion!==11&&A.postion!==10&&A.type!==13&&A.id!==267&&A.id!==178){k.push(A)}}for(var O=0;O<k.length;O++){var M=$('<div class="mod-home-hotel-tagItem"></div>');var A=k[O];g.append(M);M.text(A.label)}}}$(".mod-home-"+t+"-body").html(n);$(".mod-home-"+t+"-body").removeClass("loading")};var l=function(){var e=$(".hotel-head-nav");for(var t=0;t<e.length;t++){(function(t){var n=e[t];$(n).find("li").on("mouseover",function(){var e=$(this);var t=$(e.children()[0]);var n=t.attr("data-type");var r=$(".mod-home-"+n+"-body").children().length;if(!r){a(s["hot_hotel"],"hot_hotel")}t.addClass("active");t.parent().siblings().find(".active").removeClass("active");$(".mod-home-hotel-body").children("*").css({display:"none"});$(".mod-home-"+n+"-body").css({display:"block"});newClkObj.nanachiClk({button_id:"6-"+(e.index()+1),button_name:"特价酒店-"+t.text(),action_type:"buttonclick",page_depth:"6-特价酒店",to_url:"",logdata:""})})})(t)}$(".hotel-head-more").on("click","a",function(){newClkObj.nanachiClk({button_id:"6-3",button_name:"特价酒店-更多特惠酒店",action_type:"buttonclick",page_depth:"6-特价酒店",to_url:this.href,logdata:""})});$(".mod-home-must_try-body").on("click","a",function(){newClkObj.nanachiClk({button_id:"6-1-1",button_name:"特价酒店-榜单列表",action_type:"buttonclick",page_depth:"6-特价酒店",to_url:this.href,logdata:""})});$(".mod-home-recommend-body").on("click","a",function(){newClkObj.nanachiClk({button_id:"6-2-1",button_name:"特价酒店-国内酒店推荐商品",action_type:"buttonclick",page_depth:"6-特价酒店",to_url:this.href,logdata:""})})};c()})()}).call(window)},function(e,t,n){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(){var e=n(3);var t=$("#mod-home-download-pop"),r=$("#mod-home-logo"),i=$("#js_b_bigsearch");var s=window.navigator.userAgent;if(s.indexOf("Android")>=0&&e.getUrlParam("bd_source")&&e.getUrlParam("bd_source").indexOf("oppobrowsergg")>=0&&!/qunar/i.test(s)){t.css("display","block");r.css("marginTop","60px");i.css({marginTop:"46px",height:"calc(100% - 60px)"});e.arouseAPP({type:"native",desUrl:"home?ad_channel=oppobrowsergg&ad_type=04&ad_other="})}})()}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(){newClkObj.nanachiClk({action_type:"pageview"})})();window.onload=function(){var e=$("#mod-home-flight-wrapper");var t=$("#mod-home-hotel-wrapper");var n=$("#mod-home-onSale-wrapper");var r=$("#js_b_piao_recommend");var i=$("#js_b_travel");var s=$("#js_b_guide");var o=$(".mod-home-seolink");var u=$(".hm-footer__showTouchFooter");var a=function(e,t,n,r){if(n.length===1){if(e+t>n.offset().top){if(!n.attr("has_buried")){newClkObj.nanachiClk({action_type:"pagedepth",page_depth:r});n.attr("has_buried",true)}}}};window.onscroll=function(){var f=$(document).scrollTop();var l=$(window).height();var c=[{part:e,page_depth:"5-特价机票"},{part:t,page_depth:"6-特价酒店"},{part:n,page_depth:"7-特价度假"},{part:r,page_depth:"8-特价门票"},{part:i,page_depth:"9-旅行攻略"},{part:s,page_depth:"10-骆驼书"},{part:o,page_depth:"13-其他"},{part:u,page_depth:"13-其他"}];for(var h=0;h<c.length;h++){a(f,l,c[h].part,c[h].page_depth)}}}}).call(window)},function(e,t){(function(){var e=typeof e==="function"&&!e.amd?e:false;(function(){var e=$("#search_results_list"),t=$(".search_results"),n=$(".icon-search"),r=$(".left_input_div"),i=$("#header_search_input");var s=window.__ipCity.split("__");var o=function(t,n){var r=$("<li class='result_list_item'></li>");r.text(t);var i="http://dujia.qunar.com/pqd/list_"+encodeURIComponent(n)+"_"+encodeURIComponent(s[0])+"?tf=pc_big_search";r.attr("url",i);r.attr("key",n);e.append(r)};var u=function(){var e=i.val();var t="";if($.trim(e)){t="http://dujia.qunar.com/pqd/list_"+encodeURIComponent(e)+"_"+encodeURIComponent(s[0])+"?tf=pc_big_search";window.open(t)}else{i.attr("placeholder","");i.focus();i.val("");t="http://www.qunar.com"}newClkObj.nanachiClk({button_id:"1-3-1",button_name:"大搜-搜索按钮",action_type:"buttonclick",page_depth:"1-大搜",to_url:t,logdata:""});QReport&&QReport.ac({acId:"bigsearch-pc-search",acType:"click"})};var a=function(){e.empty();t.css({"border-bottom":"none"});r.css({"border-bottom-left-radius":"5px"})};var f=function(){var t=e.children();if(t.length>1){for(var n=0;n<t.length;n++){var r=t[n].className,i=t[t.length-1].className;if(r.indexOf("li_item_hover")>=0&&n<t.length-1){t[n+1].className="result_list_item li_item_hover";t[n].className="result_list_item";break}else if(i.indexOf("li_item_hover")>=0){t[0].className="result_list_item li_item_hover";t[t.length-1].className="result_list_item";break}}}};var l=function(){var t=e.children();if(t.length>1){for(var n=0;n<t.length;n++){var r=t[n].className,i=t[0].className;if(r.indexOf("li_item_hover")>=0&&n>0){t[n-1].className="result_list_item li_item_hover";t[n].className="result_list_item";break}else if(i.indexOf("li_item_hover")>=0){t[t.length-1].className="result_list_item li_item_hover";t[0].className="result_list_item";break}}}};var c=function(e,t){i.val(e);QReport&&QReport.ac({acId:"bigsearch-pc-select",acType:"click"});newClkObj.nanachiClk({button_id:"1-2-1",button_name:"大搜-提示列表",action_type:"buttonclick",page_depth:"1-大搜",to_url:t,logdata:""});window.open(t)};i.on("input focus",function(n){i.attr("placeholder","");var u=$.trim(n.target.value);var a="//sgt.package.qunar.com/suggest/getSuggestion?callback=?&lang=zh&code="+encodeURIComponent(u)+"&sa=true&comefrom=arrive&dpt="+encodeURIComponent(s[0]);$.ajax({type:"GET",url:a,contentType:"application/json",dataType:"jsonp",success:function(n){var i=n.result;e.empty();if(i){for(var s=0;s<i.length;s++){(function(e){o(i[e].display,i[e].key)})(s)}}if(e.children().length){e.children()[0].className="result_list_item li_item_hover"}if(i&&i.length){t.css({"border-bottom":"1px solid #00d0d4"});r.css({"border-bottom-left-radius":"0"})}else{t.css({"border-bottom":"none"});r.css({"border-bottom-left-radius":"5px"})}}})});i.on("click",function(){QReport&&QReport.ac({acId:"bigsearch-pc-input",acType:"click"})});e.on("click","li",function(e){var t=$(this).attr("url");var n=$(this).attr("key");c(n,t)});e.on("mouseover","li",function(t){var n=e.children();for(var r=0;r<n.length;r++){n[r].className="result_list_item"}$(this)[0].className="result_list_item li_item_hover"});i.on("blur",function(){i.attr("placeholder","搜索目的地")});n.on("click",function(){u()});$(document).keyup(function(){if(event.keyCode===13){var t=e.children();i.blur();a();if(t.length){for(var n=0;n<t.length;n++){if(t[n].className.indexOf("li_item_hover")>=0){var r=t[n].getAttribute("url");var s=t[n].getAttribute("key");c(s,r)}}}else{u()}}if(event.keyCode===38){l()}if(event.keyCode===40){f()}});i.on("click",function(e){e.stopPropagation()});$("body").on("click",function(e){a()});r.find("input").on("input",function(){newClkObj.nanachiClk({button_id:"1-1-1",button_name:"大搜-搜索框",action_type:"buttonclick",page_depth:"1-大搜",to_url:"",logdata:""})})})()}).call(window)},function(e,t){(function(){function i(e){var t=0;var n=0;var r=false;for(var i=0;i<e.length;i++){if(e[i]>0){t=e[i];n=i;r=true;break}}if(!r){n=e.length-1;return n}for(var s=0;s<e.length;s++){if(t>e[s]&&e[s]>0){t=e[s];n=s}}return n}var e=typeof e==="function"&&!e.amd?e:false;var t=window.__QC_SEARCH_DATA.modulesShowOrHide;var n=$("#mod-home-iconNav");var r=[];$(function(){var e=$('<ul class="mod-home-iconNav-ul"></ul>');n.append(e);for(var i=0;i<t.length;i++){var s=t[i];if(s.isShow){var o=$("<li></li>");o.text(s.icon);e.append(o);r.push(s)}else{var u=$("#"+s.id);u.remove()}}var a=$(".mod-home-iconNav-ul");var f=a.find("li");var l=$(e.children()[0]);l.addClass("active").text(r[0].title);f.on("click",function(){var e=$(this);var t=e.index();$("body,html").animate({scrollTop:$("#"+r[t].id).offset().top-20},0);if(e.hasClass("active")){return}e.text(r[t].title);var n=e.parent().find($(".active"));n.removeClass("active");n.text(r[n.index()].icon);n.css({fontSize:"20px"});e.addClass("active");newClkObj.nanachiClk({button_id:"11-"+(t+1),button_name:"侧面导航-"+e.text(),action_type:"buttonclick",page_depth:"11-侧面导航",to_url:"",logdata:""})});f.on("mouseover",function(){var e=$(this);var t=e.index();if(!e.hasClass("active")){e.text(r[t].title);e.css({fontSize:"10px"})}});f.on("mouseout",function(){var e=$(this);var t=e.index();if(!e.hasClass("active")){e.text(r[t].icon);e.css({fontSize:"20px"})}})});$(document).scroll(function(){var e=$(window).scrollTop();var t=n.height();var s=$("#"+r[0].id).offset().top-e;var o=$(".mod-home-iconNav-ul");var u=$(window).height()/2-t/2;if(s>u){n.css({top:"auto"})}else{n.css({top:u})}var a=[];for(var f=0;f<r.length;f++){var l=r[f];var c=$("#"+l.id).offset().top;a.push(c-e)}var h=i(a);var p=o.children();var d=o.find($(".active")).index();$(p[d]).removeClass("active");$(p[d]).text(r[d].icon);$(p[d]).css({fontSize:"20px"});$(p[h]).addClass("active");$(p[h]).text(r[h].title);$(p[h]).css({fontSize:"10px"})});$(".mod-home-seolink").on("click","a",function(){newClkObj.nanachiClk({button_id:"13-17",button_name:"其他-底部城市",action_type:"buttonclick",page_depth:"13-其他",to_url:this.href,logdata:""})});$(".hm-footer__showTouchFooter").on("click","a",function(){newClkObj.nanachiClk({button_id:"13-18",button_name:"其他-关于qunar区域",action_type:"buttonclick",page_depth:"13-其他",to_url:this.href,logdata:""})})}).call(window)}])